var sN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var $pe=sN((me,Pr)=>{function oN(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function lT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var fp={},lN={get exports(){return fp},set exports(t){fp=t}},f2={},z={},cN={get exports(){return z},set exports(t){z=t}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=Symbol.for("react.element"),uN=Symbol.for("react.portal"),hN=Symbol.for("react.fragment"),fN=Symbol.for("react.strict_mode"),dN=Symbol.for("react.profiler"),pN=Symbol.for("react.provider"),mN=Symbol.for("react.context"),AN=Symbol.for("react.forward_ref"),gN=Symbol.for("react.suspense"),vN=Symbol.for("react.memo"),yN=Symbol.for("react.lazy"),$C=Symbol.iterator;function xN(t){return t===null||typeof t!="object"?null:(t=$C&&t[$C]||t["@@iterator"],typeof t=="function"?t:null)}var cT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uT=Object.assign,hT={};function df(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||cT}df.prototype.isReactComponent={};df.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};df.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fT(){}fT.prototype=df.prototype;function S4(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||cT}var w4=S4.prototype=new fT;w4.constructor=S4;uT(w4,df.prototype);w4.isPureReactComponent=!0;var eE=Array.isArray,dT=Object.prototype.hasOwnProperty,I4={current:null},pT={key:!0,ref:!0,__self:!0,__source:!0};function mT(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dT.call(e,i)&&!pT.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:f0,type:t,key:s,ref:o,props:r,_owner:I4.current}}function CN(t,e){return{$$typeof:f0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _4(t){return typeof t=="object"&&t!==null&&t.$$typeof===f0}function EN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tE=/\/+/g;function H5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EN(""+t.key):e.toString(36)}function bA(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case f0:case uN:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+H5(o,0):i,eE(r)?(n="",t!=null&&(n=t.replace(tE,"$&/")+"/"),bA(r,e,n,"",function(c){return c})):r!=null&&(_4(r)&&(r=CN(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(tE,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",eE(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+H5(s,a);o+=bA(s,e,n,l,r)}else if(l=xN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+H5(s,a++),o+=bA(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rm(t,e,n){if(t==null)return t;var i=[],r=0;return bA(t,i,"","",function(s){return e.call(n,s,r++)}),i}function SN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ir={current:null},RA={transition:null},wN={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:RA,ReactCurrentOwner:I4};Ot.Children={map:rm,forEach:function(t,e,n){rm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rm(t,function(){e++}),e},toArray:function(t){return rm(t,function(e){return e})||[]},only:function(t){if(!_4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=df;Ot.Fragment=hN;Ot.Profiler=dN;Ot.PureComponent=S4;Ot.StrictMode=fN;Ot.Suspense=gN;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wN;Ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=uT({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=I4.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dT.call(e,l)&&!pT.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:f0,type:t.type,key:r,ref:s,props:i,_owner:o}};Ot.createContext=function(t){return t={$$typeof:mN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pN,_context:t},t.Consumer=t};Ot.createElement=mT;Ot.createFactory=function(t){var e=mT.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:AN,render:t}};Ot.isValidElement=_4;Ot.lazy=function(t){return{$$typeof:yN,_payload:{_status:-1,_result:t},_init:SN}};Ot.memo=function(t,e){return{$$typeof:vN,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=RA.transition;RA.transition={};try{t()}finally{RA.transition=e}};Ot.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ot.useCallback=function(t,e){return ir.current.useCallback(t,e)};Ot.useContext=function(t){return ir.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return ir.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return ir.current.useEffect(t,e)};Ot.useId=function(){return ir.current.useId()};Ot.useImperativeHandle=function(t,e,n){return ir.current.useImperativeHandle(t,e,n)};Ot.useInsertionEffect=function(t,e){return ir.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return ir.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return ir.current.useMemo(t,e)};Ot.useReducer=function(t,e,n){return ir.current.useReducer(t,e,n)};Ot.useRef=function(t){return ir.current.useRef(t)};Ot.useState=function(t){return ir.current.useState(t)};Ot.useSyncExternalStore=function(t,e,n){return ir.current.useSyncExternalStore(t,e,n)};Ot.useTransition=function(){return ir.current.useTransition()};Ot.version="18.2.0";(function(t){t.exports=Ot})(cN);const d2=lT(z),IN=oN({__proto__:null,default:d2},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N=z,MN=Symbol.for("react.element"),TN=Symbol.for("react.fragment"),BN=Object.prototype.hasOwnProperty,bN=_N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RN={key:!0,ref:!0,__self:!0,__source:!0};function AT(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)BN.call(e,i)&&!RN.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:MN,type:t,key:s,ref:o,props:r,_owner:bN.current}}f2.Fragment=TN;f2.jsx=AT;f2.jsxs=AT;(function(t){t.exports=f2})(lN);const M4=fp.Fragment,ye=fp.jsx,ft=fp.jsxs;var J6={},sg={},PN={get exports(){return sg},set exports(t){sg=t}},zr={},j6={},DN={get exports(){return j6},set exports(t){j6=t}},gT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,J){var W=k.length;k.push(J);e:for(;0<W;){var $=W-1>>>1,H=k[$];if(0<r(H,J))k[$]=J,k[W]=H,W=$;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var J=k[0],W=k.pop();if(W!==J){k[0]=W;e:for(var $=0,H=k.length,ne=H>>>1;$<ne;){var de=2*($+1)-1,Ae=k[de],q=de+1,Te=k[q];if(0>r(Ae,W))q<H&&0>r(Te,Ae)?(k[$]=Te,k[q]=W,$=q):(k[$]=Ae,k[de]=W,$=de);else if(q<H&&0>r(Te,W))k[$]=Te,k[q]=W,$=q;else break e}}return J}function r(k,J){var W=k.sortIndex-J.sortIndex;return W!==0?W:k.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,A=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var J=n(c);J!==null;){if(J.callback===null)i(c);else if(J.startTime<=k)i(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function S(k){if(g=!1,x(k),!A)if(n(l)!==null)A=!0,X(I);else{var J=n(c);J!==null&&te(S,J.startTime-k)}}function I(k,J){A=!1,g&&(g=!1,C(M),M=-1),m=!0;var W=p;try{for(x(J),d=n(l);d!==null&&(!(d.expirationTime>J)||k&&!L());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var H=$(d.expirationTime<=J);J=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&i(l),x(J)}else i(l);d=n(l)}if(d!==null)var ne=!0;else{var de=n(c);de!==null&&te(S,de.startTime-J),ne=!1}return ne}finally{d=null,p=W,m=!1}}var T=!1,B=null,M=-1,R=5,P=-1;function L(){return!(t.unstable_now()-P<R)}function V(){if(B!==null){var k=t.unstable_now();P=k;var J=!0;try{J=B(!0,k)}finally{J?N():(T=!1,B=null)}}else T=!1}var N;if(typeof y=="function")N=function(){y(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=V,N=function(){j.postMessage(null)}}else N=function(){v(V,0)};function X(k){B=k,T||(T=!0,N())}function te(k,J){M=v(function(){k(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){A||m||(A=!0,X(I))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var W=p;p=J;try{return k()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,J){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=p;p=k;try{return J()}finally{p=W}},t.unstable_scheduleCallback=function(k,J,W){var $=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,k){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,k={id:u++,callback:J,priorityLevel:k,startTime:W,expirationTime:H,sortIndex:-1},W>$?(k.sortIndex=W,e(c,k),n(l)===null&&k===n(c)&&(g?(C(M),M=-1):g=!0,te(S,W-$))):(k.sortIndex=H,e(l,k),A||m||(A=!0,X(I))),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var J=p;return function(){var W=p;p=J;try{return k.apply(this,arguments)}finally{p=W}}}})(gT);(function(t){t.exports=gT})(DN);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT=z,kr=j6;function Be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yT=new Set,dp={};function hu(t,e){Qh(t,e),Qh(t+"Capture",e)}function Qh(t,e){for(dp[t]=e,t=0;t<e.length;t++)yT.add(e[t])}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K6=Object.prototype.hasOwnProperty,LN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nE={},iE={};function FN(t){return K6.call(iE,t)?!0:K6.call(nE,t)?!1:LN.test(t)?iE[t]=!0:(nE[t]=!0,!1)}function kN(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NN(t,e,n,i){if(e===null||typeof e>"u"||kN(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rr(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ti[t]=new rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ti[e]=new rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ti[t]=new rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ti[t]=new rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ti[t]=new rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ti[t]=new rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ti[t]=new rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ti[t]=new rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ti[t]=new rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var T4=/[\-:]([a-z])/g;function B4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(T4,B4);Ti[e]=new rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(T4,B4);Ti[e]=new rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(T4,B4);Ti[e]=new rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ti[t]=new rr(t,1,!1,t.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ti[t]=new rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function b4(t,e,n,i){var r=Ti.hasOwnProperty(e)?Ti[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NN(e,n,r,i)&&(n=null),i||r===null?FN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ia=vT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sm=Symbol.for("react.element"),ah=Symbol.for("react.portal"),lh=Symbol.for("react.fragment"),R4=Symbol.for("react.strict_mode"),Y6=Symbol.for("react.profiler"),xT=Symbol.for("react.provider"),CT=Symbol.for("react.context"),P4=Symbol.for("react.forward_ref"),X6=Symbol.for("react.suspense"),q6=Symbol.for("react.suspense_list"),D4=Symbol.for("react.memo"),tl=Symbol.for("react.lazy"),ET=Symbol.for("react.offscreen"),rE=Symbol.iterator;function qf(t){return t===null||typeof t!="object"?null:(t=rE&&t[rE]||t["@@iterator"],typeof t=="function"?t:null)}var Pn=Object.assign,z5;function Rd(t){if(z5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);z5=e&&e[1]||""}return`
`+z5+t}var V5=!1;function W5(t,e){if(!t||V5)return"";V5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{V5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rd(t):""}function ON(t){switch(t.tag){case 5:return Rd(t.type);case 16:return Rd("Lazy");case 13:return Rd("Suspense");case 19:return Rd("SuspenseList");case 0:case 2:case 15:return t=W5(t.type,!1),t;case 11:return t=W5(t.type.render,!1),t;case 1:return t=W5(t.type,!0),t;default:return""}}function Z6(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lh:return"Fragment";case ah:return"Portal";case Y6:return"Profiler";case R4:return"StrictMode";case X6:return"Suspense";case q6:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CT:return(t.displayName||"Context")+".Consumer";case xT:return(t._context.displayName||"Context")+".Provider";case P4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D4:return e=t.displayName||null,e!==null?e:Z6(t.type)||"Memo";case tl:e=t._payload,t=t._init;try{return Z6(t(e))}catch{}}return null}function UN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z6(e);case 8:return e===R4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Il(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ST(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GN(t){var e=ST(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function om(t){t._valueTracker||(t._valueTracker=GN(t))}function wT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ST(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function og(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $6(t,e){var n=e.checked;return Pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sE(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Il(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IT(t,e){e=e.checked,e!=null&&b4(t,"checked",e,!1)}function ey(t,e){IT(t,e);var n=Il(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ty(t,e.type,n):e.hasOwnProperty("defaultValue")&&ty(t,e.type,Il(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ty(t,e,n){(e!=="number"||og(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pd=Array.isArray;function Mh(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Il(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ny(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Be(92));if(Pd(n)){if(1<n.length)throw Error(Be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Il(n)}}function _T(t,e){var n=Il(e.value),i=Il(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function lE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function MT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?MT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var am,TT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(am=am||document.createElement("div"),am.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=am.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QN=["Webkit","ms","Moz","O"];Object.keys(Hd).forEach(function(t){QN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hd[e]=Hd[t]})});function BT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hd.hasOwnProperty(t)&&Hd[t]?(""+e).trim():e+"px"}function bT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=BT(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var HN=Pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ry(t,e){if(e){if(HN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function sy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oy=null;function L4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ay=null,Th=null,Bh=null;function cE(t){if(t=m0(t)){if(typeof ay!="function")throw Error(Be(280));var e=t.stateNode;e&&(e=v2(e),ay(t.stateNode,t.type,e))}}function RT(t){Th?Bh?Bh.push(t):Bh=[t]:Th=t}function PT(){if(Th){var t=Th,e=Bh;if(Bh=Th=null,cE(t),e)for(t=0;t<e.length;t++)cE(e[t])}}function DT(t,e){return t(e)}function LT(){}var J5=!1;function FT(t,e,n){if(J5)return t(e,n);J5=!0;try{return DT(t,e,n)}finally{J5=!1,(Th!==null||Bh!==null)&&(LT(),PT())}}function mp(t,e){var n=t.stateNode;if(n===null)return null;var i=v2(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Be(231,e,typeof n));return n}var ly=!1;if(va)try{var Zf={};Object.defineProperty(Zf,"passive",{get:function(){ly=!0}}),window.addEventListener("test",Zf,Zf),window.removeEventListener("test",Zf,Zf)}catch{ly=!1}function zN(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var zd=!1,ag=null,lg=!1,cy=null,VN={onError:function(t){zd=!0,ag=t}};function WN(t,e,n,i,r,s,o,a,l){zd=!1,ag=null,zN.apply(VN,arguments)}function JN(t,e,n,i,r,s,o,a,l){if(WN.apply(this,arguments),zd){if(zd){var c=ag;zd=!1,ag=null}else throw Error(Be(198));lg||(lg=!0,cy=c)}}function fu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uE(t){if(fu(t)!==t)throw Error(Be(188))}function jN(t){var e=t.alternate;if(!e){if(e=fu(t),e===null)throw Error(Be(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return uE(r),t;if(s===i)return uE(r),e;s=s.sibling}throw Error(Be(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(Be(189))}}if(n.alternate!==i)throw Error(Be(190))}if(n.tag!==3)throw Error(Be(188));return n.stateNode.current===n?t:e}function NT(t){return t=jN(t),t!==null?OT(t):null}function OT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OT(t);if(e!==null)return e;t=t.sibling}return null}var UT=kr.unstable_scheduleCallback,hE=kr.unstable_cancelCallback,KN=kr.unstable_shouldYield,YN=kr.unstable_requestPaint,Vn=kr.unstable_now,XN=kr.unstable_getCurrentPriorityLevel,F4=kr.unstable_ImmediatePriority,GT=kr.unstable_UserBlockingPriority,cg=kr.unstable_NormalPriority,qN=kr.unstable_LowPriority,QT=kr.unstable_IdlePriority,p2=null,Co=null;function ZN(t){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(p2,t,void 0,(t.current.flags&128)===128)}catch{}}var Gs=Math.clz32?Math.clz32:tO,$N=Math.log,eO=Math.LN2;function tO(t){return t>>>=0,t===0?32:31-($N(t)/eO|0)|0}var lm=64,cm=4194304;function Dd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ug(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Dd(a):(s&=o,s!==0&&(i=Dd(s)))}else o=n&~r,o!==0?i=Dd(o):s!==0&&(i=Dd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Gs(e),r=1<<n,i|=t[n],e&=~r;return i}function nO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iO(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gs(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=nO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function uy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HT(){var t=lm;return lm<<=1,!(lm&4194240)&&(lm=64),t}function j5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function d0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gs(e),t[e]=n}function rO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Gs(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function k4(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Gs(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var nn=0;function zT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VT,N4,WT,JT,jT,hy=!1,um=[],fl=null,dl=null,pl=null,Ap=new Map,gp=new Map,sl=[],sO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fE(t,e){switch(t){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":Ap.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gp.delete(e.pointerId)}}function $f(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=m0(e),e!==null&&N4(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function oO(t,e,n,i,r){switch(e){case"focusin":return fl=$f(fl,t,e,n,i,r),!0;case"dragenter":return dl=$f(dl,t,e,n,i,r),!0;case"mouseover":return pl=$f(pl,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ap.set(s,$f(Ap.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,gp.set(s,$f(gp.get(s)||null,t,e,n,i,r)),!0}return!1}function KT(t){var e=Dc(t.target);if(e!==null){var n=fu(e);if(n!==null){if(e=n.tag,e===13){if(e=kT(n),e!==null){t.blockedOn=e,jT(t.priority,function(){WT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function PA(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);oy=i,n.target.dispatchEvent(i),oy=null}else return e=m0(n),e!==null&&N4(e),t.blockedOn=n,!1;e.shift()}return!0}function dE(t,e,n){PA(t)&&n.delete(e)}function aO(){hy=!1,fl!==null&&PA(fl)&&(fl=null),dl!==null&&PA(dl)&&(dl=null),pl!==null&&PA(pl)&&(pl=null),Ap.forEach(dE),gp.forEach(dE)}function ed(t,e){t.blockedOn===e&&(t.blockedOn=null,hy||(hy=!0,kr.unstable_scheduleCallback(kr.unstable_NormalPriority,aO)))}function vp(t){function e(r){return ed(r,t)}if(0<um.length){ed(um[0],t);for(var n=1;n<um.length;n++){var i=um[n];i.blockedOn===t&&(i.blockedOn=null)}}for(fl!==null&&ed(fl,t),dl!==null&&ed(dl,t),pl!==null&&ed(pl,t),Ap.forEach(e),gp.forEach(e),n=0;n<sl.length;n++)i=sl[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<sl.length&&(n=sl[0],n.blockedOn===null);)KT(n),n.blockedOn===null&&sl.shift()}var bh=Ia.ReactCurrentBatchConfig,hg=!0;function lO(t,e,n,i){var r=nn,s=bh.transition;bh.transition=null;try{nn=1,O4(t,e,n,i)}finally{nn=r,bh.transition=s}}function cO(t,e,n,i){var r=nn,s=bh.transition;bh.transition=null;try{nn=4,O4(t,e,n,i)}finally{nn=r,bh.transition=s}}function O4(t,e,n,i){if(hg){var r=fy(t,e,n,i);if(r===null)iv(t,e,i,fg,n),fE(t,i);else if(oO(r,t,e,n,i))i.stopPropagation();else if(fE(t,i),e&4&&-1<sO.indexOf(t)){for(;r!==null;){var s=m0(r);if(s!==null&&VT(s),s=fy(t,e,n,i),s===null&&iv(t,e,i,fg,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else iv(t,e,i,null,n)}}var fg=null;function fy(t,e,n,i){if(fg=null,t=L4(i),t=Dc(t),t!==null)if(e=fu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fg=t,null}function YT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XN()){case F4:return 1;case GT:return 4;case cg:case qN:return 16;case QT:return 536870912;default:return 16}default:return 16}}var al=null,U4=null,DA=null;function XT(){if(DA)return DA;var t,e=U4,n=e.length,i,r="value"in al?al.value:al.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return DA=r.slice(t,1<i?1-i:void 0)}function LA(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hm(){return!0}function pE(){return!1}function Vr(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hm:pE,this.isPropagationStopped=pE,this}return Pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hm)},persist:function(){},isPersistent:hm}),e}var pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G4=Vr(pf),p0=Pn({},pf,{view:0,detail:0}),uO=Vr(p0),K5,Y5,td,m2=Pn({},p0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==td&&(td&&t.type==="mousemove"?(K5=t.screenX-td.screenX,Y5=t.screenY-td.screenY):Y5=K5=0,td=t),K5)},movementY:function(t){return"movementY"in t?t.movementY:Y5}}),mE=Vr(m2),hO=Pn({},m2,{dataTransfer:0}),fO=Vr(hO),dO=Pn({},p0,{relatedTarget:0}),X5=Vr(dO),pO=Pn({},pf,{animationName:0,elapsedTime:0,pseudoElement:0}),mO=Vr(pO),AO=Pn({},pf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gO=Vr(AO),vO=Pn({},pf,{data:0}),AE=Vr(vO),yO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CO[t])?!!e[t]:!1}function Q4(){return EO}var SO=Pn({},p0,{key:function(t){if(t.key){var e=yO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=LA(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q4,charCode:function(t){return t.type==="keypress"?LA(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?LA(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wO=Vr(SO),IO=Pn({},m2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gE=Vr(IO),_O=Pn({},p0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q4}),MO=Vr(_O),TO=Pn({},pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),BO=Vr(TO),bO=Pn({},m2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RO=Vr(bO),PO=[9,13,27,32],H4=va&&"CompositionEvent"in window,Vd=null;va&&"documentMode"in document&&(Vd=document.documentMode);var DO=va&&"TextEvent"in window&&!Vd,qT=va&&(!H4||Vd&&8<Vd&&11>=Vd),vE=String.fromCharCode(32),yE=!1;function ZT(t,e){switch(t){case"keyup":return PO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $T(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ch=!1;function LO(t,e){switch(t){case"compositionend":return $T(e);case"keypress":return e.which!==32?null:(yE=!0,vE);case"textInput":return t=e.data,t===vE&&yE?null:t;default:return null}}function FO(t,e){if(ch)return t==="compositionend"||!H4&&ZT(t,e)?(t=XT(),DA=U4=al=null,ch=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qT&&e.locale!=="ko"?null:e.data;default:return null}}var kO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kO[t.type]:e==="textarea"}function eB(t,e,n,i){RT(i),e=dg(e,"onChange"),0<e.length&&(n=new G4("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Wd=null,yp=null;function NO(t){hB(t,0)}function A2(t){var e=fh(t);if(wT(e))return t}function OO(t,e){if(t==="change")return e}var tB=!1;if(va){var q5;if(va){var Z5="oninput"in document;if(!Z5){var CE=document.createElement("div");CE.setAttribute("oninput","return;"),Z5=typeof CE.oninput=="function"}q5=Z5}else q5=!1;tB=q5&&(!document.documentMode||9<document.documentMode)}function EE(){Wd&&(Wd.detachEvent("onpropertychange",nB),yp=Wd=null)}function nB(t){if(t.propertyName==="value"&&A2(yp)){var e=[];eB(e,yp,t,L4(t)),FT(NO,e)}}function UO(t,e,n){t==="focusin"?(EE(),Wd=e,yp=n,Wd.attachEvent("onpropertychange",nB)):t==="focusout"&&EE()}function GO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return A2(yp)}function QO(t,e){if(t==="click")return A2(e)}function HO(t,e){if(t==="input"||t==="change")return A2(e)}function zO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ws=typeof Object.is=="function"?Object.is:zO;function xp(t,e){if(Ws(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!K6.call(e,r)||!Ws(t[r],e[r]))return!1}return!0}function SE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wE(t,e){var n=SE(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SE(n)}}function iB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rB(){for(var t=window,e=og();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=og(t.document)}return e}function z4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VO(t){var e=rB(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iB(n.ownerDocument.documentElement,n)){if(i!==null&&z4(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=wE(n,s);var o=wE(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WO=va&&"documentMode"in document&&11>=document.documentMode,uh=null,dy=null,Jd=null,py=!1;function IE(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;py||uh==null||uh!==og(i)||(i=uh,"selectionStart"in i&&z4(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Jd&&xp(Jd,i)||(Jd=i,i=dg(dy,"onSelect"),0<i.length&&(e=new G4("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=uh)))}function fm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hh={animationend:fm("Animation","AnimationEnd"),animationiteration:fm("Animation","AnimationIteration"),animationstart:fm("Animation","AnimationStart"),transitionend:fm("Transition","TransitionEnd")},$5={},sB={};va&&(sB=document.createElement("div").style,"AnimationEvent"in window||(delete hh.animationend.animation,delete hh.animationiteration.animation,delete hh.animationstart.animation),"TransitionEvent"in window||delete hh.transitionend.transition);function g2(t){if($5[t])return $5[t];if(!hh[t])return t;var e=hh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sB)return $5[t]=e[n];return t}var oB=g2("animationend"),aB=g2("animationiteration"),lB=g2("animationstart"),cB=g2("transitionend"),uB=new Map,_E="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ul(t,e){uB.set(t,e),hu(e,[t])}for(var ev=0;ev<_E.length;ev++){var tv=_E[ev],JO=tv.toLowerCase(),jO=tv[0].toUpperCase()+tv.slice(1);Ul(JO,"on"+jO)}Ul(oB,"onAnimationEnd");Ul(aB,"onAnimationIteration");Ul(lB,"onAnimationStart");Ul("dblclick","onDoubleClick");Ul("focusin","onFocus");Ul("focusout","onBlur");Ul(cB,"onTransitionEnd");Qh("onMouseEnter",["mouseout","mouseover"]);Qh("onMouseLeave",["mouseout","mouseover"]);Qh("onPointerEnter",["pointerout","pointerover"]);Qh("onPointerLeave",["pointerout","pointerover"]);hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ld));function ME(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,JN(i,e,void 0,t),t.currentTarget=null}function hB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;ME(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;ME(r,a,c),s=l}}}if(lg)throw t=cy,lg=!1,cy=null,t}function mn(t,e){var n=e[yy];n===void 0&&(n=e[yy]=new Set);var i=t+"__bubble";n.has(i)||(fB(e,t,2,!1),n.add(i))}function nv(t,e,n){var i=0;e&&(i|=4),fB(n,t,i,e)}var dm="_reactListening"+Math.random().toString(36).slice(2);function Cp(t){if(!t[dm]){t[dm]=!0,yT.forEach(function(n){n!=="selectionchange"&&(KO.has(n)||nv(n,!1,t),nv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dm]||(e[dm]=!0,nv("selectionchange",!1,e))}}function fB(t,e,n,i){switch(YT(e)){case 1:var r=lO;break;case 4:r=cO;break;default:r=O4}n=r.bind(null,e,n,t),r=void 0,!ly||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function iv(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Dc(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}FT(function(){var c=s,u=L4(n),d=[];e:{var p=uB.get(t);if(p!==void 0){var m=G4,A=t;switch(t){case"keypress":if(LA(n)===0)break e;case"keydown":case"keyup":m=wO;break;case"focusin":A="focus",m=X5;break;case"focusout":A="blur",m=X5;break;case"beforeblur":case"afterblur":m=X5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MO;break;case oB:case aB:case lB:m=mO;break;case cB:m=BO;break;case"scroll":m=uO;break;case"wheel":m=RO;break;case"copy":case"cut":case"paste":m=gO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gE}var g=(e&4)!==0,v=!g&&t==="scroll",C=g?p!==null?p+"Capture":null:p;g=[];for(var y=c,x;y!==null;){x=y;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,C!==null&&(S=mp(y,C),S!=null&&g.push(Ep(y,S,x)))),v)break;y=y.return}0<g.length&&(p=new m(p,A,null,n,u),d.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==oy&&(A=n.relatedTarget||n.fromElement)&&(Dc(A)||A[ya]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(A=n.relatedTarget||n.toElement,m=c,A=A?Dc(A):null,A!==null&&(v=fu(A),A!==v||A.tag!==5&&A.tag!==6)&&(A=null)):(m=null,A=c),m!==A)){if(g=mE,S="onMouseLeave",C="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=gE,S="onPointerLeave",C="onPointerEnter",y="pointer"),v=m==null?p:fh(m),x=A==null?p:fh(A),p=new g(S,y+"leave",m,n,u),p.target=v,p.relatedTarget=x,S=null,Dc(u)===c&&(g=new g(C,y+"enter",A,n,u),g.target=x,g.relatedTarget=v,S=g),v=S,m&&A)t:{for(g=m,C=A,y=0,x=g;x;x=Nu(x))y++;for(x=0,S=C;S;S=Nu(S))x++;for(;0<y-x;)g=Nu(g),y--;for(;0<x-y;)C=Nu(C),x--;for(;y--;){if(g===C||C!==null&&g===C.alternate)break t;g=Nu(g),C=Nu(C)}g=null}else g=null;m!==null&&TE(d,p,m,g,!1),A!==null&&v!==null&&TE(d,v,A,g,!0)}}e:{if(p=c?fh(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=OO;else if(xE(p))if(tB)I=HO;else{I=GO;var T=UO}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=QO);if(I&&(I=I(t,c))){eB(d,I,n,u);break e}T&&T(t,p,c),t==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&ty(p,"number",p.value)}switch(T=c?fh(c):window,t){case"focusin":(xE(T)||T.contentEditable==="true")&&(uh=T,dy=c,Jd=null);break;case"focusout":Jd=dy=uh=null;break;case"mousedown":py=!0;break;case"contextmenu":case"mouseup":case"dragend":py=!1,IE(d,n,u);break;case"selectionchange":if(WO)break;case"keydown":case"keyup":IE(d,n,u)}var B;if(H4)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ch?ZT(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(qT&&n.locale!=="ko"&&(ch||M!=="onCompositionStart"?M==="onCompositionEnd"&&ch&&(B=XT()):(al=u,U4="value"in al?al.value:al.textContent,ch=!0)),T=dg(c,M),0<T.length&&(M=new AE(M,t,null,n,u),d.push({event:M,listeners:T}),B?M.data=B:(B=$T(n),B!==null&&(M.data=B)))),(B=DO?LO(t,n):FO(t,n))&&(c=dg(c,"onBeforeInput"),0<c.length&&(u=new AE("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=B))}hB(d,e)})}function Ep(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dg(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=mp(t,n),s!=null&&i.unshift(Ep(t,s,r)),s=mp(t,e),s!=null&&i.push(Ep(t,s,r))),t=t.return}return i}function Nu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TE(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=mp(n,s),l!=null&&o.unshift(Ep(n,l,a))):r||(l=mp(n,s),l!=null&&o.push(Ep(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YO=/\r\n?/g,XO=/\u0000|\uFFFD/g;function BE(t){return(typeof t=="string"?t:""+t).replace(YO,`
`).replace(XO,"")}function pm(t,e,n){if(e=BE(e),BE(t)!==e&&n)throw Error(Be(425))}function pg(){}var my=null,Ay=null;function gy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vy=typeof setTimeout=="function"?setTimeout:void 0,qO=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,ZO=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(t){return bE.resolve(null).then(t).catch($O)}:vy;function $O(t){setTimeout(function(){throw t})}function rv(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),vp(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);vp(e)}function ml(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mf=Math.random().toString(36).slice(2),yo="__reactFiber$"+mf,Sp="__reactProps$"+mf,ya="__reactContainer$"+mf,yy="__reactEvents$"+mf,eU="__reactListeners$"+mf,tU="__reactHandles$"+mf;function Dc(t){var e=t[yo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ya]||n[yo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RE(t);t!==null;){if(n=t[yo])return n;t=RE(t)}return e}t=n,n=t.parentNode}return null}function m0(t){return t=t[yo]||t[ya],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Be(33))}function v2(t){return t[Sp]||null}var xy=[],dh=-1;function Gl(t){return{current:t}}function vn(t){0>dh||(t.current=xy[dh],xy[dh]=null,dh--)}function fn(t,e){dh++,xy[dh]=t.current,t.current=e}var _l={},Ui=Gl(_l),dr=Gl(!1),Zc=_l;function Hh(t,e){var n=t.type.contextTypes;if(!n)return _l;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function pr(t){return t=t.childContextTypes,t!=null}function mg(){vn(dr),vn(Ui)}function PE(t,e,n){if(Ui.current!==_l)throw Error(Be(168));fn(Ui,e),fn(dr,n)}function dB(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Be(108,UN(t)||"Unknown",r));return Pn({},n,i)}function Ag(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_l,Zc=Ui.current,fn(Ui,t),fn(dr,dr.current),!0}function DE(t,e,n){var i=t.stateNode;if(!i)throw Error(Be(169));n?(t=dB(t,e,Zc),i.__reactInternalMemoizedMergedChildContext=t,vn(dr),vn(Ui),fn(Ui,t)):vn(dr),fn(dr,n)}var oa=null,y2=!1,sv=!1;function pB(t){oa===null?oa=[t]:oa.push(t)}function nU(t){y2=!0,pB(t)}function Ql(){if(!sv&&oa!==null){sv=!0;var t=0,e=nn;try{var n=oa;for(nn=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}oa=null,y2=!1}catch(r){throw oa!==null&&(oa=oa.slice(t+1)),UT(F4,Ql),r}finally{nn=e,sv=!1}}return null}var ph=[],mh=0,gg=null,vg=0,cs=[],us=0,$c=null,la=1,ca="";function xc(t,e){ph[mh++]=vg,ph[mh++]=gg,gg=t,vg=e}function mB(t,e,n){cs[us++]=la,cs[us++]=ca,cs[us++]=$c,$c=t;var i=la;t=ca;var r=32-Gs(i)-1;i&=~(1<<r),n+=1;var s=32-Gs(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,la=1<<32-Gs(e)+r|n<<r|i,ca=s+t}else la=1<<s|n<<r|i,ca=t}function V4(t){t.return!==null&&(xc(t,1),mB(t,1,0))}function W4(t){for(;t===gg;)gg=ph[--mh],ph[mh]=null,vg=ph[--mh],ph[mh]=null;for(;t===$c;)$c=cs[--us],cs[us]=null,ca=cs[--us],cs[us]=null,la=cs[--us],cs[us]=null}var Dr=null,br=null,Sn=!1,Ns=null;function AB(t,e){var n=fs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function LE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dr=t,br=ml(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dr=t,br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$c!==null?{id:la,overflow:ca}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dr=t,br=null,!0):!1;default:return!1}}function Cy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ey(t){if(Sn){var e=br;if(e){var n=e;if(!LE(t,e)){if(Cy(t))throw Error(Be(418));e=ml(n.nextSibling);var i=Dr;e&&LE(t,e)?AB(i,n):(t.flags=t.flags&-4097|2,Sn=!1,Dr=t)}}else{if(Cy(t))throw Error(Be(418));t.flags=t.flags&-4097|2,Sn=!1,Dr=t}}}function FE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dr=t}function mm(t){if(t!==Dr)return!1;if(!Sn)return FE(t),Sn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gy(t.type,t.memoizedProps)),e&&(e=br)){if(Cy(t))throw gB(),Error(Be(418));for(;e;)AB(t,e),e=ml(e.nextSibling)}if(FE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){br=ml(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}br=null}}else br=Dr?ml(t.stateNode.nextSibling):null;return!0}function gB(){for(var t=br;t;)t=ml(t.nextSibling)}function zh(){br=Dr=null,Sn=!1}function J4(t){Ns===null?Ns=[t]:Ns.push(t)}var iU=Ia.ReactCurrentBatchConfig;function Ls(t,e){if(t&&t.defaultProps){e=Pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yg=Gl(null),xg=null,Ah=null,j4=null;function K4(){j4=Ah=xg=null}function Y4(t){var e=yg.current;vn(yg),t._currentValue=e}function Sy(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Rh(t,e){xg=t,j4=Ah=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hr=!0),t.firstContext=null)}function gs(t){var e=t._currentValue;if(j4!==t)if(t={context:t,memoizedValue:e,next:null},Ah===null){if(xg===null)throw Error(Be(308));Ah=t,xg.dependencies={lanes:0,firstContext:t}}else Ah=Ah.next=t;return e}var Lc=null;function X4(t){Lc===null?Lc=[t]:Lc.push(t)}function vB(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,X4(e)):(n.next=r.next,r.next=n),e.interleaved=n,xa(t,i)}function xa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nl=!1;function q4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Al(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Jt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,xa(t,n)}return r=i.interleaved,r===null?(e.next=e,X4(i)):(e.next=r.next,r.next=e),i.interleaved=e,xa(t,n)}function FA(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,k4(t,n)}}function kE(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cg(t,e,n,i){var r=t.updateQueue;nl=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,g=a;switch(p=e,m=n,g.tag){case 1:if(A=g.payload,typeof A=="function"){d=A.call(m,d,p);break e}d=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=g.payload,p=typeof A=="function"?A.call(m,d,p):A,p==null)break e;d=Pn({},d,p);break e;case 2:nl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);tu|=o,t.lanes=o,t.memoizedState=d}}function NE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Be(191,r));r.call(i)}}}var xB=new vT.Component().refs;function wy(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var x2={isMounted:function(t){return(t=t._reactInternals)?fu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=$i(),r=vl(t),s=pa(i,r);s.payload=e,n!=null&&(s.callback=n),e=Al(t,s,r),e!==null&&(Qs(e,t,r,i),FA(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=$i(),r=vl(t),s=pa(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Al(t,s,r),e!==null&&(Qs(e,t,r,i),FA(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$i(),i=vl(t),r=pa(n,i);r.tag=2,e!=null&&(r.callback=e),e=Al(t,r,i),e!==null&&(Qs(e,t,i,n),FA(e,t,i))}};function OE(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!xp(n,i)||!xp(r,s):!0}function CB(t,e,n){var i=!1,r=_l,s=e.contextType;return typeof s=="object"&&s!==null?s=gs(s):(r=pr(e)?Zc:Ui.current,i=e.contextTypes,s=(i=i!=null)?Hh(t,r):_l),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=x2,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function UE(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&x2.enqueueReplaceState(e,e.state,null)}function Iy(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=xB,q4(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=gs(s):(s=pr(e)?Zc:Ui.current,r.context=Hh(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wy(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&x2.enqueueReplaceState(r,r.state,null),Cg(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function nd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Be(309));var i=n.stateNode}if(!i)throw Error(Be(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===xB&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,t))}return t}function Am(t,e){throw t=Object.prototype.toString.call(e),Error(Be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GE(t){var e=t._init;return e(t._payload)}function EB(t){function e(C,y){if(t){var x=C.deletions;x===null?(C.deletions=[y],C.flags|=16):x.push(y)}}function n(C,y){if(!t)return null;for(;y!==null;)e(C,y),y=y.sibling;return null}function i(C,y){for(C=new Map;y!==null;)y.key!==null?C.set(y.key,y):C.set(y.index,y),y=y.sibling;return C}function r(C,y){return C=yl(C,y),C.index=0,C.sibling=null,C}function s(C,y,x){return C.index=x,t?(x=C.alternate,x!==null?(x=x.index,x<y?(C.flags|=2,y):x):(C.flags|=2,y)):(C.flags|=1048576,y)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,y,x,S){return y===null||y.tag!==6?(y=fv(x,C.mode,S),y.return=C,y):(y=r(y,x),y.return=C,y)}function l(C,y,x,S){var I=x.type;return I===lh?u(C,y,x.props.children,S,x.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===tl&&GE(I)===y.type)?(S=r(y,x.props),S.ref=nd(C,y,x),S.return=C,S):(S=QA(x.type,x.key,x.props,null,C.mode,S),S.ref=nd(C,y,x),S.return=C,S)}function c(C,y,x,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=dv(x,C.mode,S),y.return=C,y):(y=r(y,x.children||[]),y.return=C,y)}function u(C,y,x,S,I){return y===null||y.tag!==7?(y=jc(x,C.mode,S,I),y.return=C,y):(y=r(y,x),y.return=C,y)}function d(C,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fv(""+y,C.mode,x),y.return=C,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sm:return x=QA(y.type,y.key,y.props,null,C.mode,x),x.ref=nd(C,null,y),x.return=C,x;case ah:return y=dv(y,C.mode,x),y.return=C,y;case tl:var S=y._init;return d(C,S(y._payload),x)}if(Pd(y)||qf(y))return y=jc(y,C.mode,x,null),y.return=C,y;Am(C,y)}return null}function p(C,y,x,S){var I=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:a(C,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sm:return x.key===I?l(C,y,x,S):null;case ah:return x.key===I?c(C,y,x,S):null;case tl:return I=x._init,p(C,y,I(x._payload),S)}if(Pd(x)||qf(x))return I!==null?null:u(C,y,x,S,null);Am(C,x)}return null}function m(C,y,x,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return C=C.get(x)||null,a(y,C,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sm:return C=C.get(S.key===null?x:S.key)||null,l(y,C,S,I);case ah:return C=C.get(S.key===null?x:S.key)||null,c(y,C,S,I);case tl:var T=S._init;return m(C,y,x,T(S._payload),I)}if(Pd(S)||qf(S))return C=C.get(x)||null,u(y,C,S,I,null);Am(y,S)}return null}function A(C,y,x,S){for(var I=null,T=null,B=y,M=y=0,R=null;B!==null&&M<x.length;M++){B.index>M?(R=B,B=null):R=B.sibling;var P=p(C,B,x[M],S);if(P===null){B===null&&(B=R);break}t&&B&&P.alternate===null&&e(C,B),y=s(P,y,M),T===null?I=P:T.sibling=P,T=P,B=R}if(M===x.length)return n(C,B),Sn&&xc(C,M),I;if(B===null){for(;M<x.length;M++)B=d(C,x[M],S),B!==null&&(y=s(B,y,M),T===null?I=B:T.sibling=B,T=B);return Sn&&xc(C,M),I}for(B=i(C,B);M<x.length;M++)R=m(B,C,M,x[M],S),R!==null&&(t&&R.alternate!==null&&B.delete(R.key===null?M:R.key),y=s(R,y,M),T===null?I=R:T.sibling=R,T=R);return t&&B.forEach(function(L){return e(C,L)}),Sn&&xc(C,M),I}function g(C,y,x,S){var I=qf(x);if(typeof I!="function")throw Error(Be(150));if(x=I.call(x),x==null)throw Error(Be(151));for(var T=I=null,B=y,M=y=0,R=null,P=x.next();B!==null&&!P.done;M++,P=x.next()){B.index>M?(R=B,B=null):R=B.sibling;var L=p(C,B,P.value,S);if(L===null){B===null&&(B=R);break}t&&B&&L.alternate===null&&e(C,B),y=s(L,y,M),T===null?I=L:T.sibling=L,T=L,B=R}if(P.done)return n(C,B),Sn&&xc(C,M),I;if(B===null){for(;!P.done;M++,P=x.next())P=d(C,P.value,S),P!==null&&(y=s(P,y,M),T===null?I=P:T.sibling=P,T=P);return Sn&&xc(C,M),I}for(B=i(C,B);!P.done;M++,P=x.next())P=m(B,C,M,P.value,S),P!==null&&(t&&P.alternate!==null&&B.delete(P.key===null?M:P.key),y=s(P,y,M),T===null?I=P:T.sibling=P,T=P);return t&&B.forEach(function(V){return e(C,V)}),Sn&&xc(C,M),I}function v(C,y,x,S){if(typeof x=="object"&&x!==null&&x.type===lh&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sm:e:{for(var I=x.key,T=y;T!==null;){if(T.key===I){if(I=x.type,I===lh){if(T.tag===7){n(C,T.sibling),y=r(T,x.props.children),y.return=C,C=y;break e}}else if(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===tl&&GE(I)===T.type){n(C,T.sibling),y=r(T,x.props),y.ref=nd(C,T,x),y.return=C,C=y;break e}n(C,T);break}else e(C,T);T=T.sibling}x.type===lh?(y=jc(x.props.children,C.mode,S,x.key),y.return=C,C=y):(S=QA(x.type,x.key,x.props,null,C.mode,S),S.ref=nd(C,y,x),S.return=C,C=S)}return o(C);case ah:e:{for(T=x.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(C,y.sibling),y=r(y,x.children||[]),y.return=C,C=y;break e}else{n(C,y);break}else e(C,y);y=y.sibling}y=dv(x,C.mode,S),y.return=C,C=y}return o(C);case tl:return T=x._init,v(C,y,T(x._payload),S)}if(Pd(x))return A(C,y,x,S);if(qf(x))return g(C,y,x,S);Am(C,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(C,y.sibling),y=r(y,x),y.return=C,C=y):(n(C,y),y=fv(x,C.mode,S),y.return=C,C=y),o(C)):n(C,y)}return v}var Vh=EB(!0),SB=EB(!1),A0={},Eo=Gl(A0),wp=Gl(A0),Ip=Gl(A0);function Fc(t){if(t===A0)throw Error(Be(174));return t}function Z4(t,e){switch(fn(Ip,e),fn(wp,t),fn(Eo,A0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iy(e,t)}vn(Eo),fn(Eo,e)}function Wh(){vn(Eo),vn(wp),vn(Ip)}function wB(t){Fc(Ip.current);var e=Fc(Eo.current),n=iy(e,t.type);e!==n&&(fn(wp,t),fn(Eo,n))}function $4(t){wp.current===t&&(vn(Eo),vn(wp))}var In=Gl(0);function Eg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ov=[];function ex(){for(var t=0;t<ov.length;t++)ov[t]._workInProgressVersionPrimary=null;ov.length=0}var kA=Ia.ReactCurrentDispatcher,av=Ia.ReactCurrentBatchConfig,eu=0,bn=null,ii=null,vi=null,Sg=!1,jd=!1,_p=0,rU=0;function Li(){throw Error(Be(321))}function tx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ws(t[n],e[n]))return!1;return!0}function nx(t,e,n,i,r,s){if(eu=s,bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kA.current=t===null||t.memoizedState===null?lU:cU,t=n(i,r),jd){s=0;do{if(jd=!1,_p=0,25<=s)throw Error(Be(301));s+=1,vi=ii=null,e.updateQueue=null,kA.current=uU,t=n(i,r)}while(jd)}if(kA.current=wg,e=ii!==null&&ii.next!==null,eu=0,vi=ii=bn=null,Sg=!1,e)throw Error(Be(300));return t}function ix(){var t=_p!==0;return _p=0,t}function mo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?bn.memoizedState=vi=t:vi=vi.next=t,vi}function vs(){if(ii===null){var t=bn.alternate;t=t!==null?t.memoizedState:null}else t=ii.next;var e=vi===null?bn.memoizedState:vi.next;if(e!==null)vi=e,ii=t;else{if(t===null)throw Error(Be(310));ii=t,t={memoizedState:ii.memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},vi===null?bn.memoizedState=vi=t:vi=vi.next=t}return vi}function Mp(t,e){return typeof e=="function"?e(t):e}function lv(t){var e=vs(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var i=ii,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((eu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,bn.lanes|=u,tu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Ws(i,e.memoizedState)||(hr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,bn.lanes|=s,tu|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cv(t){var e=vs(),n=e.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Ws(s,e.memoizedState)||(hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function IB(){}function _B(t,e){var n=bn,i=vs(),r=e(),s=!Ws(i.memoizedState,r);if(s&&(i.memoizedState=r,hr=!0),i=i.queue,rx(BB.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||vi!==null&&vi.memoizedState.tag&1){if(n.flags|=2048,Tp(9,TB.bind(null,n,i,r,e),void 0,null),Ci===null)throw Error(Be(349));eu&30||MB(n,e,r)}return r}function MB(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TB(t,e,n,i){e.value=n,e.getSnapshot=i,bB(e)&&RB(t)}function BB(t,e,n){return n(function(){bB(e)&&RB(t)})}function bB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ws(t,n)}catch{return!0}}function RB(t){var e=xa(t,1);e!==null&&Qs(e,t,1,-1)}function QE(t){var e=mo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:t},e.queue=t,t=t.dispatch=aU.bind(null,bn,t),[e.memoizedState,t]}function Tp(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function PB(){return vs().memoizedState}function NA(t,e,n,i){var r=mo();bn.flags|=t,r.memoizedState=Tp(1|e,n,void 0,i===void 0?null:i)}function C2(t,e,n,i){var r=vs();i=i===void 0?null:i;var s=void 0;if(ii!==null){var o=ii.memoizedState;if(s=o.destroy,i!==null&&tx(i,o.deps)){r.memoizedState=Tp(e,n,s,i);return}}bn.flags|=t,r.memoizedState=Tp(1|e,n,s,i)}function HE(t,e){return NA(8390656,8,t,e)}function rx(t,e){return C2(2048,8,t,e)}function DB(t,e){return C2(4,2,t,e)}function LB(t,e){return C2(4,4,t,e)}function FB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kB(t,e,n){return n=n!=null?n.concat([t]):null,C2(4,4,FB.bind(null,e,t),n)}function sx(){}function NB(t,e){var n=vs();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tx(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function OB(t,e){var n=vs();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tx(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function UB(t,e,n){return eu&21?(Ws(n,e)||(n=HT(),bn.lanes|=n,tu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hr=!0),t.memoizedState=n)}function sU(t,e){var n=nn;nn=n!==0&&4>n?n:4,t(!0);var i=av.transition;av.transition={};try{t(!1),e()}finally{nn=n,av.transition=i}}function GB(){return vs().memoizedState}function oU(t,e,n){var i=vl(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},QB(t))HB(e,n);else if(n=vB(t,e,n,i),n!==null){var r=$i();Qs(n,t,i,r),zB(n,e,i)}}function aU(t,e,n){var i=vl(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(QB(t))HB(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Ws(a,o)){var l=e.interleaved;l===null?(r.next=r,X4(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=vB(t,e,r,i),n!==null&&(r=$i(),Qs(n,t,i,r),zB(n,e,i))}}function QB(t){var e=t.alternate;return t===bn||e!==null&&e===bn}function HB(t,e){jd=Sg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zB(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,k4(t,n)}}var wg={readContext:gs,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},lU={readContext:gs,useCallback:function(t,e){return mo().memoizedState=[t,e===void 0?null:e],t},useContext:gs,useEffect:HE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,NA(4194308,4,FB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return NA(4194308,4,t,e)},useInsertionEffect:function(t,e){return NA(4,2,t,e)},useMemo:function(t,e){var n=mo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=mo();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=oU.bind(null,bn,t),[i.memoizedState,t]},useRef:function(t){var e=mo();return t={current:t},e.memoizedState=t},useState:QE,useDebugValue:sx,useDeferredValue:function(t){return mo().memoizedState=t},useTransition:function(){var t=QE(!1),e=t[0];return t=sU.bind(null,t[1]),mo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=bn,r=mo();if(Sn){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=e(),Ci===null)throw Error(Be(349));eu&30||MB(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,HE(BB.bind(null,i,s,t),[t]),i.flags|=2048,Tp(9,TB.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=mo(),e=Ci.identifierPrefix;if(Sn){var n=ca,i=la;n=(i&~(1<<32-Gs(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=_p++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cU={readContext:gs,useCallback:NB,useContext:gs,useEffect:rx,useImperativeHandle:kB,useInsertionEffect:DB,useLayoutEffect:LB,useMemo:OB,useReducer:lv,useRef:PB,useState:function(){return lv(Mp)},useDebugValue:sx,useDeferredValue:function(t){var e=vs();return UB(e,ii.memoizedState,t)},useTransition:function(){var t=lv(Mp)[0],e=vs().memoizedState;return[t,e]},useMutableSource:IB,useSyncExternalStore:_B,useId:GB,unstable_isNewReconciler:!1},uU={readContext:gs,useCallback:NB,useContext:gs,useEffect:rx,useImperativeHandle:kB,useInsertionEffect:DB,useLayoutEffect:LB,useMemo:OB,useReducer:cv,useRef:PB,useState:function(){return cv(Mp)},useDebugValue:sx,useDeferredValue:function(t){var e=vs();return ii===null?e.memoizedState=t:UB(e,ii.memoizedState,t)},useTransition:function(){var t=cv(Mp)[0],e=vs().memoizedState;return[t,e]},useMutableSource:IB,useSyncExternalStore:_B,useId:GB,unstable_isNewReconciler:!1};function Jh(t,e){try{var n="",i=e;do n+=ON(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function uv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _y(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hU=typeof WeakMap=="function"?WeakMap:Map;function VB(t,e,n){n=pa(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){_g||(_g=!0,ky=i),_y(t,e)},n}function WB(t,e,n){n=pa(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){_y(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_y(t,e),typeof i!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zE(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new hU;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=IU.bind(null,t,e,n),e.then(t,t))}function VE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function WE(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pa(-1,1),e.tag=2,Al(n,e,1))),n.lanes|=1),t)}var fU=Ia.ReactCurrentOwner,hr=!1;function qi(t,e,n,i){e.child=t===null?SB(e,null,n,i):Vh(e,t.child,n,i)}function JE(t,e,n,i,r){n=n.render;var s=e.ref;return Rh(e,r),i=nx(t,e,n,i,s,r),n=ix(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ca(t,e,r)):(Sn&&n&&V4(e),e.flags|=1,qi(t,e,i,r),e.child)}function jE(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!dx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JB(t,e,s,i,r)):(t=QA(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xp,n(o,i)&&t.ref===e.ref)return Ca(t,e,r)}return e.flags|=1,t=yl(s,i),t.ref=e.ref,t.return=e,e.child=t}function JB(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(xp(s,i)&&t.ref===e.ref)if(hr=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(hr=!0);else return e.lanes=t.lanes,Ca(t,e,r)}return My(t,e,n,i,r)}function jB(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(vh,_r),_r|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fn(vh,_r),_r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,fn(vh,_r),_r|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,fn(vh,_r),_r|=i;return qi(t,e,r,n),e.child}function KB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function My(t,e,n,i,r){var s=pr(n)?Zc:Ui.current;return s=Hh(e,s),Rh(e,r),n=nx(t,e,n,i,s,r),i=ix(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ca(t,e,r)):(Sn&&i&&V4(e),e.flags|=1,qi(t,e,n,r),e.child)}function KE(t,e,n,i,r){if(pr(n)){var s=!0;Ag(e)}else s=!1;if(Rh(e,r),e.stateNode===null)OA(t,e),CB(e,n,i),Iy(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gs(c):(c=pr(n)?Zc:Ui.current,c=Hh(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&UE(e,o,i,c),nl=!1;var p=e.memoizedState;o.state=p,Cg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||dr.current||nl?(typeof u=="function"&&(wy(e,n,u,i),l=e.memoizedState),(a=nl||OE(e,n,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,yB(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ls(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gs(l):(l=pr(n)?Zc:Ui.current,l=Hh(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&UE(e,o,i,l),nl=!1,p=e.memoizedState,o.state=p,Cg(e,i,o,r);var A=e.memoizedState;a!==d||p!==A||dr.current||nl?(typeof m=="function"&&(wy(e,n,m,i),A=e.memoizedState),(c=nl||OE(e,n,c,i,p,A,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=A),o.props=i,o.state=A,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Ty(t,e,n,i,s,r)}function Ty(t,e,n,i,r,s){KB(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&DE(e,n,!1),Ca(t,e,s);i=e.stateNode,fU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Vh(e,t.child,null,s),e.child=Vh(e,null,a,s)):qi(t,e,a,s),e.memoizedState=i.state,r&&DE(e,n,!0),e.child}function YB(t){var e=t.stateNode;e.pendingContext?PE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PE(t,e.context,!1),Z4(t,e.containerInfo)}function YE(t,e,n,i,r){return zh(),J4(r),e.flags|=256,qi(t,e,n,i),e.child}var By={dehydrated:null,treeContext:null,retryLane:0};function by(t){return{baseLanes:t,cachePool:null,transitions:null}}function XB(t,e,n){var i=e.pendingProps,r=In.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),fn(In,r&1),t===null)return Ey(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=w2(o,i,0,null),t=jc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=by(n),e.memoizedState=By,t):ox(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return dU(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=yl(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=yl(a,s):(s=jc(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?by(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=By,i}return s=t.child,t=s.sibling,i=yl(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ox(t,e){return e=w2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gm(t,e,n,i){return i!==null&&J4(i),Vh(e,t.child,null,n),t=ox(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dU(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=uv(Error(Be(422))),gm(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=w2({mode:"visible",children:i.children},r,0,null),s=jc(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Vh(e,t.child,null,o),e.child.memoizedState=by(o),e.memoizedState=By,s);if(!(e.mode&1))return gm(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Be(419)),i=uv(s,i,void 0),gm(t,e,o,i)}if(a=(o&t.childLanes)!==0,hr||a){if(i=Ci,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,xa(t,r),Qs(i,t,r,-1))}return fx(),i=uv(Error(Be(421))),gm(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=_U.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,br=ml(r.nextSibling),Dr=e,Sn=!0,Ns=null,t!==null&&(cs[us++]=la,cs[us++]=ca,cs[us++]=$c,la=t.id,ca=t.overflow,$c=e),e=ox(e,i.children),e.flags|=4096,e)}function XE(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Sy(t.return,e,n)}function hv(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function qB(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(qi(t,e,i.children,n),i=In.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XE(t,n,e);else if(t.tag===19)XE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(fn(In,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Eg(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),hv(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Eg(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}hv(e,!0,n,null,s);break;case"together":hv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function OA(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ca(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Be(153));if(e.child!==null){for(t=e.child,n=yl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pU(t,e,n){switch(e.tag){case 3:YB(e),zh();break;case 5:wB(e);break;case 1:pr(e.type)&&Ag(e);break;case 4:Z4(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;fn(yg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(fn(In,In.current&1),e.flags|=128,null):n&e.child.childLanes?XB(t,e,n):(fn(In,In.current&1),t=Ca(t,e,n),t!==null?t.sibling:null);fn(In,In.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return qB(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),fn(In,In.current),i)break;return null;case 22:case 23:return e.lanes=0,jB(t,e,n)}return Ca(t,e,n)}var ZB,Ry,$B,eb;ZB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ry=function(){};$B=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Fc(Eo.current);var s=null;switch(n){case"input":r=$6(t,r),i=$6(t,i),s=[];break;case"select":r=Pn({},r,{value:void 0}),i=Pn({},i,{value:void 0}),s=[];break;case"textarea":r=ny(t,r),i=ny(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=pg)}ry(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eb=function(t,e,n,i){n!==i&&(e.flags|=4)};function id(t,e){if(!Sn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Fi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function mU(t,e,n){var i=e.pendingProps;switch(W4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(e),null;case 1:return pr(e.type)&&mg(),Fi(e),null;case 3:return i=e.stateNode,Wh(),vn(dr),vn(Ui),ex(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(mm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ns!==null&&(Uy(Ns),Ns=null))),Ry(t,e),Fi(e),null;case 5:$4(e);var r=Fc(Ip.current);if(n=e.type,t!==null&&e.stateNode!=null)$B(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Be(166));return Fi(e),null}if(t=Fc(Eo.current),mm(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[yo]=e,i[Sp]=s,t=(e.mode&1)!==0,n){case"dialog":mn("cancel",i),mn("close",i);break;case"iframe":case"object":case"embed":mn("load",i);break;case"video":case"audio":for(r=0;r<Ld.length;r++)mn(Ld[r],i);break;case"source":mn("error",i);break;case"img":case"image":case"link":mn("error",i),mn("load",i);break;case"details":mn("toggle",i);break;case"input":sE(i,s),mn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},mn("invalid",i);break;case"textarea":aE(i,s),mn("invalid",i)}ry(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&pm(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pm(i.textContent,a,t),r=["children",""+a]):dp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&mn("scroll",i)}switch(n){case"input":om(i),oE(i,s,!0);break;case"textarea":om(i),lE(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=pg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=MT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[yo]=e,t[Sp]=i,ZB(t,e,!1,!1),e.stateNode=t;e:{switch(o=sy(n,i),n){case"dialog":mn("cancel",t),mn("close",t),r=i;break;case"iframe":case"object":case"embed":mn("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ld.length;r++)mn(Ld[r],t);r=i;break;case"source":mn("error",t),r=i;break;case"img":case"image":case"link":mn("error",t),mn("load",t),r=i;break;case"details":mn("toggle",t),r=i;break;case"input":sE(t,i),r=$6(t,i),mn("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Pn({},i,{value:void 0}),mn("invalid",t);break;case"textarea":aE(t,i),r=ny(t,i),mn("invalid",t);break;default:r=i}ry(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pp(t,l):typeof l=="number"&&pp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mn("scroll",t):l!=null&&b4(t,s,l,o))}switch(n){case"input":om(t),oE(t,i,!1);break;case"textarea":om(t),lE(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Il(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Mh(t,!!i.multiple,s,!1):i.defaultValue!=null&&Mh(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=pg)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fi(e),null;case 6:if(t&&e.stateNode!=null)eb(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Be(166));if(n=Fc(Ip.current),Fc(Eo.current),mm(e)){if(i=e.stateNode,n=e.memoizedProps,i[yo]=e,(s=i.nodeValue!==n)&&(t=Dr,t!==null))switch(t.tag){case 3:pm(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pm(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[yo]=e,e.stateNode=i}return Fi(e),null;case 13:if(vn(In),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Sn&&br!==null&&e.mode&1&&!(e.flags&128))gB(),zh(),e.flags|=98560,s=!1;else if(s=mm(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(Be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[yo]=e}else zh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fi(e),s=!1}else Ns!==null&&(Uy(Ns),Ns=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||In.current&1?oi===0&&(oi=3):fx())),e.updateQueue!==null&&(e.flags|=4),Fi(e),null);case 4:return Wh(),Ry(t,e),t===null&&Cp(e.stateNode.containerInfo),Fi(e),null;case 10:return Y4(e.type._context),Fi(e),null;case 17:return pr(e.type)&&mg(),Fi(e),null;case 19:if(vn(In),s=e.memoizedState,s===null)return Fi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)id(s,!1);else{if(oi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Eg(t),o!==null){for(e.flags|=128,id(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fn(In,In.current&1|2),e.child}t=t.sibling}s.tail!==null&&Vn()>jh&&(e.flags|=128,i=!0,id(s,!1),e.lanes=4194304)}else{if(!i)if(t=Eg(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),id(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Sn)return Fi(e),null}else 2*Vn()-s.renderingStartTime>jh&&n!==1073741824&&(e.flags|=128,i=!0,id(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vn(),e.sibling=null,n=In.current,fn(In,i?n&1|2:n&1),e):(Fi(e),null);case 22:case 23:return hx(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?_r&1073741824&&(Fi(e),e.subtreeFlags&6&&(e.flags|=8192)):Fi(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function AU(t,e){switch(W4(e),e.tag){case 1:return pr(e.type)&&mg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wh(),vn(dr),vn(Ui),ex(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $4(e),null;case 13:if(vn(In),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));zh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vn(In),null;case 4:return Wh(),null;case 10:return Y4(e.type._context),null;case 22:case 23:return hx(),null;case 24:return null;default:return null}}var vm=!1,Oi=!1,gU=typeof WeakSet=="function"?WeakSet:Set,We=null;function gh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Nn(t,e,i)}else n.current=null}function Py(t,e,n){try{n()}catch(i){Nn(t,e,i)}}var qE=!1;function vU(t,e){if(my=hg,t=rB(),z4(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++u===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ay={focusedElem:t,selectionRange:n},hg=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var g=A.memoizedProps,v=A.memoizedState,C=e.stateNode,y=C.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ls(e.type,g),v);C.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(S){Nn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return A=qE,qE=!1,A}function Kd(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Py(e,n,s)}r=r.next}while(r!==i)}}function E2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Dy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tb(t){var e=t.alternate;e!==null&&(t.alternate=null,tb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yo],delete e[Sp],delete e[yy],delete e[eU],delete e[tU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nb(t){return t.tag===5||t.tag===3||t.tag===4}function ZE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ly(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pg));else if(i!==4&&(t=t.child,t!==null))for(Ly(t,e,n),t=t.sibling;t!==null;)Ly(t,e,n),t=t.sibling}function Fy(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Fy(t,e,n),t=t.sibling;t!==null;)Fy(t,e,n),t=t.sibling}var wi=null,Fs=!1;function Ga(t,e,n){for(n=n.child;n!==null;)ib(t,e,n),n=n.sibling}function ib(t,e,n){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(p2,n)}catch{}switch(n.tag){case 5:Oi||gh(n,e);case 6:var i=wi,r=Fs;wi=null,Ga(t,e,n),wi=i,Fs=r,wi!==null&&(Fs?(t=wi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wi.removeChild(n.stateNode));break;case 18:wi!==null&&(Fs?(t=wi,n=n.stateNode,t.nodeType===8?rv(t.parentNode,n):t.nodeType===1&&rv(t,n),vp(t)):rv(wi,n.stateNode));break;case 4:i=wi,r=Fs,wi=n.stateNode.containerInfo,Fs=!0,Ga(t,e,n),wi=i,Fs=r;break;case 0:case 11:case 14:case 15:if(!Oi&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Py(n,e,o),r=r.next}while(r!==i)}Ga(t,e,n);break;case 1:if(!Oi&&(gh(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Nn(n,e,a)}Ga(t,e,n);break;case 21:Ga(t,e,n);break;case 22:n.mode&1?(Oi=(i=Oi)||n.memoizedState!==null,Ga(t,e,n),Oi=i):Ga(t,e,n);break;default:Ga(t,e,n)}}function $E(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gU),e.forEach(function(i){var r=MU.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function bs(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wi=a.stateNode,Fs=!1;break e;case 3:wi=a.stateNode.containerInfo,Fs=!0;break e;case 4:wi=a.stateNode.containerInfo,Fs=!0;break e}a=a.return}if(wi===null)throw Error(Be(160));ib(s,o,r),wi=null,Fs=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Nn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rb(e,t),e=e.sibling}function rb(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bs(e,t),fo(t),i&4){try{Kd(3,t,t.return),E2(3,t)}catch(g){Nn(t,t.return,g)}try{Kd(5,t,t.return)}catch(g){Nn(t,t.return,g)}}break;case 1:bs(e,t),fo(t),i&512&&n!==null&&gh(n,n.return);break;case 5:if(bs(e,t),fo(t),i&512&&n!==null&&gh(n,n.return),t.flags&32){var r=t.stateNode;try{pp(r,"")}catch(g){Nn(t,t.return,g)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&IT(r,s),sy(a,o);var c=sy(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?bT(r,d):u==="dangerouslySetInnerHTML"?TT(r,d):u==="children"?pp(r,d):b4(r,u,d,c)}switch(a){case"input":ey(r,s);break;case"textarea":_T(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Mh(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Mh(r,!!s.multiple,s.defaultValue,!0):Mh(r,!!s.multiple,s.multiple?[]:"",!1))}r[Sp]=s}catch(g){Nn(t,t.return,g)}}break;case 6:if(bs(e,t),fo(t),i&4){if(t.stateNode===null)throw Error(Be(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(g){Nn(t,t.return,g)}}break;case 3:if(bs(e,t),fo(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{vp(e.containerInfo)}catch(g){Nn(t,t.return,g)}break;case 4:bs(e,t),fo(t);break;case 13:bs(e,t),fo(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(cx=Vn())),i&4&&$E(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Oi=(c=Oi)||u,bs(e,t),Oi=c):bs(e,t),fo(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(We=t,u=t.child;u!==null;){for(d=We=u;We!==null;){switch(p=We,m=p.child,p.tag){case 0:case 11:case 14:case 15:Kd(4,p,p.return);break;case 1:gh(p,p.return);var A=p.stateNode;if(typeof A.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(g){Nn(i,n,g)}}break;case 5:gh(p,p.return);break;case 22:if(p.memoizedState!==null){tS(d);continue}}m!==null?(m.return=p,We=m):tS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BT("display",o))}catch(g){Nn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Nn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bs(e,t),fo(t),i&4&&$E(t);break;case 21:break;default:bs(e,t),fo(t)}}function fo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nb(n)){var i=n;break e}n=n.return}throw Error(Be(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(pp(r,""),i.flags&=-33);var s=ZE(t);Fy(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=ZE(t);Ly(t,a,o);break;default:throw Error(Be(161))}}catch(l){Nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yU(t,e,n){We=t,sb(t)}function sb(t,e,n){for(var i=(t.mode&1)!==0;We!==null;){var r=We,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||vm;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Oi;a=vm;var c=Oi;if(vm=o,(Oi=l)&&!c)for(We=r;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?nS(r):l!==null?(l.return=o,We=l):nS(r);for(;s!==null;)We=s,sb(s),s=s.sibling;We=r,vm=a,Oi=c}eS(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,We=s):eS(t)}}function eS(t){for(;We!==null;){var e=We;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oi||E2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Oi)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ls(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&NE(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}NE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&vp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Oi||e.flags&512&&Dy(e)}catch(p){Nn(e,e.return,p)}}if(e===t){We=null;break}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}}function tS(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var n=e.sibling;if(n!==null){n.return=e.return,We=n;break}We=e.return}}function nS(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{E2(4,e)}catch(l){Nn(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Nn(e,r,l)}}var s=e.return;try{Dy(e)}catch(l){Nn(e,s,l)}break;case 5:var o=e.return;try{Dy(e)}catch(l){Nn(e,o,l)}}}catch(l){Nn(e,e.return,l)}if(e===t){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var xU=Math.ceil,Ig=Ia.ReactCurrentDispatcher,ax=Ia.ReactCurrentOwner,ds=Ia.ReactCurrentBatchConfig,Jt=0,Ci=null,qn=null,Mi=0,_r=0,vh=Gl(0),oi=0,Bp=null,tu=0,S2=0,lx=0,Yd=null,ur=null,cx=0,jh=1/0,sa=null,_g=!1,ky=null,gl=null,ym=!1,ll=null,Mg=0,Xd=0,Ny=null,UA=-1,GA=0;function $i(){return Jt&6?Vn():UA!==-1?UA:UA=Vn()}function vl(t){return t.mode&1?Jt&2&&Mi!==0?Mi&-Mi:iU.transition!==null?(GA===0&&(GA=HT()),GA):(t=nn,t!==0||(t=window.event,t=t===void 0?16:YT(t.type)),t):1}function Qs(t,e,n,i){if(50<Xd)throw Xd=0,Ny=null,Error(Be(185));d0(t,n,i),(!(Jt&2)||t!==Ci)&&(t===Ci&&(!(Jt&2)&&(S2|=n),oi===4&&ol(t,Mi)),mr(t,i),n===1&&Jt===0&&!(e.mode&1)&&(jh=Vn()+500,y2&&Ql()))}function mr(t,e){var n=t.callbackNode;iO(t,e);var i=ug(t,t===Ci?Mi:0);if(i===0)n!==null&&hE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&hE(n),e===1)t.tag===0?nU(iS.bind(null,t)):pB(iS.bind(null,t)),ZO(function(){!(Jt&6)&&Ql()}),n=null;else{switch(zT(i)){case 1:n=F4;break;case 4:n=GT;break;case 16:n=cg;break;case 536870912:n=QT;break;default:n=cg}n=db(n,ob.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ob(t,e){if(UA=-1,GA=0,Jt&6)throw Error(Be(327));var n=t.callbackNode;if(Ph()&&t.callbackNode!==n)return null;var i=ug(t,t===Ci?Mi:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Tg(t,i);else{e=i;var r=Jt;Jt|=2;var s=lb();(Ci!==t||Mi!==e)&&(sa=null,jh=Vn()+500,Jc(t,e));do try{SU();break}catch(a){ab(t,a)}while(1);K4(),Ig.current=s,Jt=r,qn!==null?e=0:(Ci=null,Mi=0,e=oi)}if(e!==0){if(e===2&&(r=uy(t),r!==0&&(i=r,e=Oy(t,r))),e===1)throw n=Bp,Jc(t,0),ol(t,i),mr(t,Vn()),n;if(e===6)ol(t,i);else{if(r=t.current.alternate,!(i&30)&&!CU(r)&&(e=Tg(t,i),e===2&&(s=uy(t),s!==0&&(i=s,e=Oy(t,s))),e===1))throw n=Bp,Jc(t,0),ol(t,i),mr(t,Vn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Be(345));case 2:Cc(t,ur,sa);break;case 3:if(ol(t,i),(i&130023424)===i&&(e=cx+500-Vn(),10<e)){if(ug(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){$i(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=vy(Cc.bind(null,t,ur,sa),e);break}Cc(t,ur,sa);break;case 4:if(ol(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Gs(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Vn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*xU(i/1960))-i,10<i){t.timeoutHandle=vy(Cc.bind(null,t,ur,sa),i);break}Cc(t,ur,sa);break;case 5:Cc(t,ur,sa);break;default:throw Error(Be(329))}}}return mr(t,Vn()),t.callbackNode===n?ob.bind(null,t):null}function Oy(t,e){var n=Yd;return t.current.memoizedState.isDehydrated&&(Jc(t,e).flags|=256),t=Tg(t,e),t!==2&&(e=ur,ur=n,e!==null&&Uy(e)),t}function Uy(t){ur===null?ur=t:ur.push.apply(ur,t)}function CU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ws(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ol(t,e){for(e&=~lx,e&=~S2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gs(e),i=1<<n;t[n]=-1,e&=~i}}function iS(t){if(Jt&6)throw Error(Be(327));Ph();var e=ug(t,0);if(!(e&1))return mr(t,Vn()),null;var n=Tg(t,e);if(t.tag!==0&&n===2){var i=uy(t);i!==0&&(e=i,n=Oy(t,i))}if(n===1)throw n=Bp,Jc(t,0),ol(t,e),mr(t,Vn()),n;if(n===6)throw Error(Be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cc(t,ur,sa),mr(t,Vn()),null}function ux(t,e){var n=Jt;Jt|=1;try{return t(e)}finally{Jt=n,Jt===0&&(jh=Vn()+500,y2&&Ql())}}function nu(t){ll!==null&&ll.tag===0&&!(Jt&6)&&Ph();var e=Jt;Jt|=1;var n=ds.transition,i=nn;try{if(ds.transition=null,nn=1,t)return t()}finally{nn=i,ds.transition=n,Jt=e,!(Jt&6)&&Ql()}}function hx(){_r=vh.current,vn(vh)}function Jc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qO(n)),qn!==null)for(n=qn.return;n!==null;){var i=n;switch(W4(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&mg();break;case 3:Wh(),vn(dr),vn(Ui),ex();break;case 5:$4(i);break;case 4:Wh();break;case 13:vn(In);break;case 19:vn(In);break;case 10:Y4(i.type._context);break;case 22:case 23:hx()}n=n.return}if(Ci=t,qn=t=yl(t.current,null),Mi=_r=e,oi=0,Bp=null,lx=S2=tu=0,ur=Yd=null,Lc!==null){for(e=0;e<Lc.length;e++)if(n=Lc[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Lc=null}return t}function ab(t,e){do{var n=qn;try{if(K4(),kA.current=wg,Sg){for(var i=bn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Sg=!1}if(eu=0,vi=ii=bn=null,jd=!1,_p=0,ax.current=null,n===null||n.return===null){oi=1,Bp=e,qn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=VE(o);if(m!==null){m.flags&=-257,WE(m,o,a,s,e),m.mode&1&&zE(s,c,e),e=m,l=c;var A=e.updateQueue;if(A===null){var g=new Set;g.add(l),e.updateQueue=g}else A.add(l);break e}else{if(!(e&1)){zE(s,c,e),fx();break e}l=Error(Be(426))}}else if(Sn&&a.mode&1){var v=VE(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),WE(v,o,a,s,e),J4(Jh(l,a));break e}}s=l=Jh(l,a),oi!==4&&(oi=2),Yd===null?Yd=[s]:Yd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=VB(s,l,e);kE(s,C);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(gl===null||!gl.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=WB(s,a,e);kE(s,S);break e}}s=s.return}while(s!==null)}ub(n)}catch(I){e=I,qn===n&&n!==null&&(qn=n=n.return);continue}break}while(1)}function lb(){var t=Ig.current;return Ig.current=wg,t===null?wg:t}function fx(){(oi===0||oi===3||oi===2)&&(oi=4),Ci===null||!(tu&268435455)&&!(S2&268435455)||ol(Ci,Mi)}function Tg(t,e){var n=Jt;Jt|=2;var i=lb();(Ci!==t||Mi!==e)&&(sa=null,Jc(t,e));do try{EU();break}catch(r){ab(t,r)}while(1);if(K4(),Jt=n,Ig.current=i,qn!==null)throw Error(Be(261));return Ci=null,Mi=0,oi}function EU(){for(;qn!==null;)cb(qn)}function SU(){for(;qn!==null&&!KN();)cb(qn)}function cb(t){var e=fb(t.alternate,t,_r);t.memoizedProps=t.pendingProps,e===null?ub(t):qn=e,ax.current=null}function ub(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AU(n,e),n!==null){n.flags&=32767,qn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oi=6,qn=null;return}}else if(n=mU(n,e,_r),n!==null){qn=n;return}if(e=e.sibling,e!==null){qn=e;return}qn=e=t}while(e!==null);oi===0&&(oi=5)}function Cc(t,e,n){var i=nn,r=ds.transition;try{ds.transition=null,nn=1,wU(t,e,n,i)}finally{ds.transition=r,nn=i}return null}function wU(t,e,n,i){do Ph();while(ll!==null);if(Jt&6)throw Error(Be(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rO(t,s),t===Ci&&(qn=Ci=null,Mi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ym||(ym=!0,db(cg,function(){return Ph(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ds.transition,ds.transition=null;var o=nn;nn=1;var a=Jt;Jt|=4,ax.current=null,vU(t,n),rb(n,t),VO(Ay),hg=!!my,Ay=my=null,t.current=n,yU(n),YN(),Jt=a,nn=o,ds.transition=s}else t.current=n;if(ym&&(ym=!1,ll=t,Mg=r),s=t.pendingLanes,s===0&&(gl=null),ZN(n.stateNode),mr(t,Vn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(_g)throw _g=!1,t=ky,ky=null,t;return Mg&1&&t.tag!==0&&Ph(),s=t.pendingLanes,s&1?t===Ny?Xd++:(Xd=0,Ny=t):Xd=0,Ql(),null}function Ph(){if(ll!==null){var t=zT(Mg),e=ds.transition,n=nn;try{if(ds.transition=null,nn=16>t?16:t,ll===null)var i=!1;else{if(t=ll,ll=null,Mg=0,Jt&6)throw Error(Be(331));var r=Jt;for(Jt|=4,We=t.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(We=c;We!==null;){var u=We;switch(u.tag){case 0:case 11:case 15:Kd(8,u,s)}var d=u.child;if(d!==null)d.return=u,We=d;else for(;We!==null;){u=We;var p=u.sibling,m=u.return;if(tb(u),u===c){We=null;break}if(p!==null){p.return=m,We=p;break}We=m}}}var A=s.alternate;if(A!==null){var g=A.child;if(g!==null){A.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kd(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,We=C;break e}We=s.return}}var y=t.current;for(We=y;We!==null;){o=We;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,We=x;else e:for(o=y;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:E2(9,a)}}catch(I){Nn(a,a.return,I)}if(a===o){We=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,We=S;break e}We=a.return}}if(Jt=r,Ql(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(p2,t)}catch{}i=!0}return i}finally{nn=n,ds.transition=e}}return!1}function rS(t,e,n){e=Jh(n,e),e=VB(t,e,1),t=Al(t,e,1),e=$i(),t!==null&&(d0(t,1,e),mr(t,e))}function Nn(t,e,n){if(t.tag===3)rS(t,t,n);else for(;e!==null;){if(e.tag===3){rS(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gl===null||!gl.has(i))){t=Jh(n,t),t=WB(e,t,1),e=Al(e,t,1),t=$i(),e!==null&&(d0(e,1,t),mr(e,t));break}}e=e.return}}function IU(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=$i(),t.pingedLanes|=t.suspendedLanes&n,Ci===t&&(Mi&n)===n&&(oi===4||oi===3&&(Mi&130023424)===Mi&&500>Vn()-cx?Jc(t,0):lx|=n),mr(t,e)}function hb(t,e){e===0&&(t.mode&1?(e=cm,cm<<=1,!(cm&130023424)&&(cm=4194304)):e=1);var n=$i();t=xa(t,e),t!==null&&(d0(t,e,n),mr(t,n))}function _U(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hb(t,n)}function MU(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Be(314))}i!==null&&i.delete(e),hb(t,n)}var fb;fb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)hr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hr=!1,pU(t,e,n);hr=!!(t.flags&131072)}else hr=!1,Sn&&e.flags&1048576&&mB(e,vg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;OA(t,e),t=e.pendingProps;var r=Hh(e,Ui.current);Rh(e,n),r=nx(null,e,i,t,r,n);var s=ix();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(i)?(s=!0,Ag(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,q4(e),r.updater=x2,e.stateNode=r,r._reactInternals=e,Iy(e,i,t,n),e=Ty(null,e,i,!0,s,n)):(e.tag=0,Sn&&s&&V4(e),qi(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(OA(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=BU(i),t=Ls(i,t),r){case 0:e=My(null,e,i,t,n);break e;case 1:e=KE(null,e,i,t,n);break e;case 11:e=JE(null,e,i,t,n);break e;case 14:e=jE(null,e,i,Ls(i.type,t),n);break e}throw Error(Be(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ls(i,r),My(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ls(i,r),KE(t,e,i,r,n);case 3:e:{if(YB(e),t===null)throw Error(Be(387));i=e.pendingProps,s=e.memoizedState,r=s.element,yB(t,e),Cg(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Jh(Error(Be(423)),e),e=YE(t,e,i,n,r);break e}else if(i!==r){r=Jh(Error(Be(424)),e),e=YE(t,e,i,n,r);break e}else for(br=ml(e.stateNode.containerInfo.firstChild),Dr=e,Sn=!0,Ns=null,n=SB(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zh(),i===r){e=Ca(t,e,n);break e}qi(t,e,i,n)}e=e.child}return e;case 5:return wB(e),t===null&&Ey(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,gy(i,r)?o=null:s!==null&&gy(i,s)&&(e.flags|=32),KB(t,e),qi(t,e,o,n),e.child;case 6:return t===null&&Ey(e),null;case 13:return XB(t,e,n);case 4:return Z4(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Vh(e,null,i,n):qi(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ls(i,r),JE(t,e,i,r,n);case 7:return qi(t,e,e.pendingProps,n),e.child;case 8:return qi(t,e,e.pendingProps.children,n),e.child;case 12:return qi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,fn(yg,i._currentValue),i._currentValue=o,s!==null)if(Ws(s.value,o)){if(s.children===r.children&&!dr.current){e=Ca(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=pa(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Be(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qi(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Rh(e,n),r=gs(r),i=i(r),e.flags|=1,qi(t,e,i,n),e.child;case 14:return i=e.type,r=Ls(i,e.pendingProps),r=Ls(i.type,r),jE(t,e,i,r,n);case 15:return JB(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ls(i,r),OA(t,e),e.tag=1,pr(i)?(t=!0,Ag(e)):t=!1,Rh(e,n),CB(e,i,r),Iy(e,i,r,n),Ty(null,e,i,!0,t,n);case 19:return qB(t,e,n);case 22:return jB(t,e,n)}throw Error(Be(156,e.tag))};function db(t,e){return UT(t,e)}function TU(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(t,e,n,i){return new TU(t,e,n,i)}function dx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BU(t){if(typeof t=="function")return dx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P4)return 11;if(t===D4)return 14}return 2}function yl(t,e){var n=t.alternate;return n===null?(n=fs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function QA(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")dx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case lh:return jc(n.children,r,s,e);case R4:o=8,r|=8;break;case Y6:return t=fs(12,n,e,r|2),t.elementType=Y6,t.lanes=s,t;case X6:return t=fs(13,n,e,r),t.elementType=X6,t.lanes=s,t;case q6:return t=fs(19,n,e,r),t.elementType=q6,t.lanes=s,t;case ET:return w2(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xT:o=10;break e;case CT:o=9;break e;case P4:o=11;break e;case D4:o=14;break e;case tl:o=16,i=null;break e}throw Error(Be(130,t==null?t:typeof t,""))}return e=fs(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function jc(t,e,n,i){return t=fs(7,t,i,e),t.lanes=n,t}function w2(t,e,n,i){return t=fs(22,t,i,e),t.elementType=ET,t.lanes=n,t.stateNode={isHidden:!1},t}function fv(t,e,n){return t=fs(6,t,null,e),t.lanes=n,t}function dv(t,e,n){return e=fs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bU(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j5(0),this.expirationTimes=j5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j5(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function px(t,e,n,i,r,s,o,a,l){return t=new bU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q4(s),t}function RU(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ah,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function pb(t){if(!t)return _l;t=t._reactInternals;e:{if(fu(t)!==t||t.tag!==1)throw Error(Be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(t.tag===1){var n=t.type;if(pr(n))return dB(t,n,e)}return e}function mb(t,e,n,i,r,s,o,a,l){return t=px(n,i,!0,t,r,s,o,a,l),t.context=pb(null),n=t.current,i=$i(),r=vl(n),s=pa(i,r),s.callback=e??null,Al(n,s,r),t.current.lanes=r,d0(t,r,i),mr(t,i),t}function I2(t,e,n,i){var r=e.current,s=$i(),o=vl(r);return n=pb(n),e.context===null?e.context=n:e.pendingContext=n,e=pa(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Al(r,e,o),t!==null&&(Qs(t,r,o,s),FA(t,r,o)),o}function Bg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mx(t,e){sS(t,e),(t=t.alternate)&&sS(t,e)}function PU(){return null}var Ab=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ax(t){this._internalRoot=t}_2.prototype.render=Ax.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Be(409));I2(t,e,null,null)};_2.prototype.unmount=Ax.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nu(function(){I2(null,t,null,null)}),e[ya]=null}};function _2(t){this._internalRoot=t}_2.prototype.unstable_scheduleHydration=function(t){if(t){var e=JT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sl.length&&e!==0&&e<sl[n].priority;n++);sl.splice(n,0,t),n===0&&KT(t)}};function gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oS(){}function DU(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Bg(o);s.call(c)}}var o=mb(e,i,t,0,null,!1,!1,"",oS);return t._reactRootContainer=o,t[ya]=o.current,Cp(t.nodeType===8?t.parentNode:t),nu(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Bg(l);a.call(c)}}var l=px(t,0,!1,null,null,!1,!1,"",oS);return t._reactRootContainer=l,t[ya]=l.current,Cp(t.nodeType===8?t.parentNode:t),nu(function(){I2(e,l,n,i)}),l}function T2(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Bg(o);a.call(l)}}I2(e,o,t,r)}else o=DU(n,e,t,r,i);return Bg(o)}VT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dd(e.pendingLanes);n!==0&&(k4(e,n|1),mr(e,Vn()),!(Jt&6)&&(jh=Vn()+500,Ql()))}break;case 13:nu(function(){var i=xa(t,1);if(i!==null){var r=$i();Qs(i,t,1,r)}}),mx(t,1)}};N4=function(t){if(t.tag===13){var e=xa(t,134217728);if(e!==null){var n=$i();Qs(e,t,134217728,n)}mx(t,134217728)}};WT=function(t){if(t.tag===13){var e=vl(t),n=xa(t,e);if(n!==null){var i=$i();Qs(n,t,e,i)}mx(t,e)}};JT=function(){return nn};jT=function(t,e){var n=nn;try{return nn=t,e()}finally{nn=n}};ay=function(t,e,n){switch(e){case"input":if(ey(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=v2(i);if(!r)throw Error(Be(90));wT(i),ey(i,r)}}}break;case"textarea":_T(t,n);break;case"select":e=n.value,e!=null&&Mh(t,!!n.multiple,e,!1)}};DT=ux;LT=nu;var LU={usingClientEntryPoint:!1,Events:[m0,fh,v2,RT,PT,ux]},rd={findFiberByHostInstance:Dc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},FU={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=NT(t),t===null?null:t.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||PU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{p2=xm.inject(FU),Co=xm}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LU;zr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gx(e))throw Error(Be(200));return RU(t,e,null,n)};zr.createRoot=function(t,e){if(!gx(t))throw Error(Be(299));var n=!1,i="",r=Ab;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=px(t,1,!1,null,null,n,!1,i,r),t[ya]=e.current,Cp(t.nodeType===8?t.parentNode:t),new Ax(e)};zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Be(188)):(t=Object.keys(t).join(","),Error(Be(268,t)));return t=NT(e),t=t===null?null:t.stateNode,t};zr.flushSync=function(t){return nu(t)};zr.hydrate=function(t,e,n){if(!M2(e))throw Error(Be(200));return T2(null,t,e,!0,n)};zr.hydrateRoot=function(t,e,n){if(!gx(t))throw Error(Be(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Ab;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mb(e,null,t,1,n??null,r,!1,s,o),t[ya]=e.current,Cp(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new _2(e)};zr.render=function(t,e,n){if(!M2(e))throw Error(Be(200));return T2(null,t,e,!1,n)};zr.unmountComponentAtNode=function(t){if(!M2(t))throw Error(Be(40));return t._reactRootContainer?(nu(function(){T2(null,null,t,!1,function(){t._reactRootContainer=null,t[ya]=null})}),!0):!1};zr.unstable_batchedUpdates=ux;zr.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!M2(n))throw Error(Be(200));if(t==null||t._reactInternals===void 0)throw Error(Be(38));return T2(t,e,n,!1,i)};zr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=zr})(PN);var gb,aS=sg;gb=J6.createRoot=aS.createRoot,J6.hydrateRoot=aS.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bp.apply(this,arguments)}var kc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kc||(kc={}));const lS="popstate";function kU(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Gy("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:bg(r)}return OU(e,n,null,t)}function Hs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NU(){return Math.random().toString(36).substr(2,8)}function cS(t,e){return{usr:t.state,key:t.key,idx:e}}function Gy(t,e,n,i){return n===void 0&&(n=null),bp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?B2(e):e,{state:n,key:e&&e.key||i||NU()})}function bg(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function B2(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function OU(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=kc.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(bp({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=kc.Pop;let v=u(),C=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:C})}function p(v,C){a=kc.Push;let y=Gy(g.location,v,C);n&&n(y,v),c=u()+1;let x=cS(y,c),S=g.createHref(y);try{o.pushState(x,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(S)}s&&l&&l({action:a,location:g.location,delta:1})}function m(v,C){a=kc.Replace;let y=Gy(g.location,v,C);n&&n(y,v),c=u();let x=cS(y,c),S=g.createHref(y);o.replaceState(x,"",S),s&&l&&l({action:a,location:g.location,delta:0})}function A(v){let C=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof v=="string"?v:bg(v);return Hs(C,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,C)}let g={get action(){return a},get location(){return t(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(lS,d),l=v,()=>{r.removeEventListener(lS,d),l=null}},createHref(v){return e(r,v)},createURL:A,encodeLocation(v){let C=A(v);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:p,replace:m,go(v){return o.go(v)}};return g}var uS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uS||(uS={}));function vb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function UU(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?B2(t):t;return{pathname:n?n.startsWith("/")?n:GU(n,e):e,search:QU(i),hash:HU(r)}}function GU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function pv(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xb(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=B2(t):(r=bp({},t),Hs(!r.pathname||!r.pathname.includes("?"),pv("?","pathname","search",r)),Hs(!r.pathname||!r.pathname.includes("#"),pv("#","pathname","hash",r)),Hs(!r.search||!r.search.includes("#"),pv("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=UU(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Cb=t=>t.join("/").replace(/\/\/+/g,"/"),QU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,zU=["post","put","patch","delete"];[...zU];/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qy.apply(this,arguments)}const Eb=z.createContext(null),g0=z.createContext(null),vx=z.createContext(null),b2=z.createContext({outlet:null,matches:[],isDataRoute:!1});function VU(t,e){let{relative:n}=e===void 0?{}:e;R2()||Hs(!1);let{basename:i,navigator:r}=z.useContext(g0),{hash:s,pathname:o,search:a}=wb(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Cb([i,o])),r.createHref({pathname:l,search:a,hash:s})}function R2(){return z.useContext(vx)!=null}function yx(){return R2()||Hs(!1),z.useContext(vx).location}function Sb(t){z.useContext(g0).static||z.useLayoutEffect(t)}function WU(){let{isDataRoute:t}=z.useContext(b2);return t?XU():JU()}function JU(){R2()||Hs(!1);let t=z.useContext(Eb),{basename:e,navigator:n}=z.useContext(g0),{matches:i}=z.useContext(b2),{pathname:r}=yx(),s=JSON.stringify(yb(i).map(l=>l.pathnameBase)),o=z.useRef(!1);return Sb(()=>{o.current=!0}),z.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=xb(l,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Cb([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,r,t])}function wb(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=z.useContext(b2),{pathname:r}=yx(),s=JSON.stringify(yb(i).map(o=>o.pathnameBase));return z.useMemo(()=>xb(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}var Ib=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ib||{}),_b=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_b||{});function jU(t){let e=z.useContext(Eb);return e||Hs(!1),e}function KU(t){let e=z.useContext(b2);return e||Hs(!1),e}function YU(t){let e=KU(),n=e.matches[e.matches.length-1];return n.route.id||Hs(!1),n.route.id}function XU(){let{router:t}=jU(Ib.UseNavigateStable),e=YU(_b.UseNavigateStable),n=z.useRef(!1);return Sb(()=>{n.current=!0}),z.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Qy({fromRouteId:e},s)))},[t,e])}function qU(t){let{basename:e="/",children:n=null,location:i,navigationType:r=kc.Pop,navigator:s,static:o=!1}=t;R2()&&Hs(!1);let a=e.replace(/^\/*/,"/"),l=z.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=B2(i));let{pathname:c="/",search:u="",hash:d="",state:p=null,key:m="default"}=i,A=z.useMemo(()=>{let g=vb(c,a);return g==null?null:{location:{pathname:g,search:u,hash:d,state:p,key:m},navigationType:r}},[a,c,u,d,p,m,r]);return A==null?null:z.createElement(g0.Provider,{value:l},z.createElement(vx.Provider,{children:n,value:A}))}new Promise(()=>{});/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hy.apply(this,arguments)}function ZU(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function $U(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eG(t,e){return t.button===0&&(!e||e==="_self")&&!$U(t)}const tG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],nG="startTransition",hS=IN[nG];function iG(t){let{basename:e,children:n,future:i,window:r}=t,s=z.useRef();s.current==null&&(s.current=kU({window:r,v5Compat:!0}));let o=s.current,[a,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=z.useCallback(d=>{c&&hS?hS(()=>l(d)):l(d)},[l,c]);return z.useLayoutEffect(()=>o.listen(u),[o,u]),z.createElement(qU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const rG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oG=z.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=ZU(e,tG),{basename:p}=z.useContext(g0),m,A=!1;if(typeof c=="string"&&sG.test(c)&&(m=c,rG))try{let y=new URL(window.location.href),x=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=vb(x.pathname,p);x.origin===y.origin&&S!=null?c=S+x.search+x.hash:A=!0}catch{}let g=VU(c,{relative:r}),v=aG(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r});function C(y){i&&i(y),y.defaultPrevented||v(y)}return z.createElement("a",Hy({},d,{href:m||g,onClick:A||s?i:C,ref:n,target:l}))});var fS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(fS||(fS={}));var dS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dS||(dS={}));function aG(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=WU(),l=yx(),c=wb(t,{relative:o});return z.useCallback(u=>{if(eG(u,n)){u.preventDefault();let d=i!==void 0?i:bg(l)===bg(c);a(t,{replace:d,state:r,preventScrollReset:s,relative:o})}},[l,a,c,i,r,n,t,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Xs="149",Ec={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Sc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Mb=0,zy=1,Tb=2,lG=3,Bb=0,P2=1,qd=2,Nc=3,Po=0,er=1,Us=2,cG=2,Lt=0,So=1,Rp=2,Vy=3,Wy=4,Pp=5,Br=100,bb=101,Rb=102,Jy=103,jy=104,Kh=200,Pb=201,Db=202,Lb=203,Dp=204,Lp=205,D2=206,Fb=207,L2=208,kb=209,Nb=210,Ob=0,Ub=1,Gb=2,Rg=3,Qb=4,Hb=5,zb=6,Vb=7,v0=0,Wb=1,Jb=2,Lr=0,jb=1,Kb=2,Yb=3,xx=4,Xb=5,F2=300,Ml=301,Tl=302,Fp=303,kp=304,Af=306,ys=1e3,_n=1001,Yh=1002,vt=1003,Np=1004,uG=1004,Dh=1005,hG=1005,ln=1006,k2=1007,fG=1007,xs=1008,dG=1008,yi=1009,qb=1010,Zb=1011,gf=1012,$b=1013,cl=1014,fr=1015,Jn=1016,eR=1017,tR=1018,xl=1020,nR=1021,Un=1023,Cx=1024,iR=1025,Cl=1026,Bl=1027,Oc=1028,rR=1029,yh=1030,sR=1031,oR=1033,Lh=33776,HA=33777,zA=33778,Fh=33779,Op=35840,Ky=35841,Up=35842,Yy=35843,N2=36196,Gp=37492,Qp=37496,Hp=37808,Xy=37809,qy=37810,Zy=37811,$y=37812,e8=37813,t8=37814,n8=37815,i8=37816,r8=37817,s8=37818,o8=37819,a8=37820,l8=37821,kh=36492,aR=36283,c8=36284,u8=36285,h8=36286,lR=2200,cR=2201,uR=2202,Xh=2300,iu=2301,VA=2302,Uc=2400,Gc=2401,zp=2402,O2=2500,Ex=2501,hR=0,Sx=1,Pg=2,bl=3e3,hn=3001,fR=3200,wx=3201,Hl=0,dR=1,pG="",ks="srgb",qh="srgb-linear",mG=0,WA=7680,AG=7681,gG=7682,vG=7683,yG=34055,xG=34056,CG=5386,EG=512,SG=513,wG=514,IG=515,_G=516,MG=517,TG=518,pR=519,Vp=35044,wo=35048,BG=35040,bG=35045,RG=35049,PG=35041,DG=35046,LG=35050,FG=35042,kG="100",f8="300 es",Dg=1035;class Do{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ki=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let pS=1234567;const Kc=Math.PI/180,Wp=180/Math.PI;function Fr(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ki[t&255]+ki[t>>8&255]+ki[t>>16&255]+ki[t>>24&255]+"-"+ki[e&255]+ki[e>>8&255]+"-"+ki[e>>16&15|64]+ki[e>>24&255]+"-"+ki[n&63|128]+ki[n>>8&255]+"-"+ki[n>>16&255]+ki[n>>24&255]+ki[i&255]+ki[i>>8&255]+ki[i>>16&255]+ki[i>>24&255]).toLowerCase()}function Wn(t,e,n){return Math.max(e,Math.min(n,t))}function Ix(t,e){return(t%e+e)%e}function NG(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function OG(t,e,n){return t!==e?(n-t)/(e-t):0}function Zd(t,e,n){return(1-n)*t+n*e}function UG(t,e,n,i){return Zd(t,e,1-Math.exp(-n*i))}function GG(t,e=1){return e-Math.abs(Ix(t,e*2)-e)}function QG(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function HG(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function zG(t,e){return t+Math.floor(Math.random()*(e-t+1))}function VG(t,e){return t+Math.random()*(e-t)}function WG(t){return t*(.5-Math.random())}function JG(t){t!==void 0&&(pS=t);let e=pS+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function jG(t){return t*Kc}function KG(t){return t*Wp}function d8(t){return(t&t-1)===0&&t!==0}function mR(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Lg(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function YG(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),A=o((i-e)/2);switch(r){case"XYX":t.set(a*u,l*d,l*p,a*c);break;case"YZY":t.set(l*p,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*p,a*u,a*c);break;case"XZX":t.set(a*u,l*A,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*A,a*c);break;case"ZYZ":t.set(l*A,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ua(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function an(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var El=Object.freeze({__proto__:null,DEG2RAD:Kc,RAD2DEG:Wp,ceilPowerOfTwo:mR,clamp:Wn,damp:UG,degToRad:jG,denormalize:ua,euclideanModulo:Ix,floorPowerOfTwo:Lg,generateUUID:Fr,inverseLerp:OG,isPowerOfTwo:d8,lerp:Zd,mapLinear:NG,normalize:an,pingpong:GG,radToDeg:KG,randFloat:VG,randFloatSpread:WG,randInt:zG,seededRandom:JG,setQuaternionFromProperEuler:YG,smootherstep:HG,smoothstep:QG});class le{constructor(e=0,n=0){le.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Zi{constructor(){Zi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],p=i[2],m=i[5],A=i[8],g=r[0],v=r[3],C=r[6],y=r[1],x=r[4],S=r[7],I=r[2],T=r[5],B=r[8];return s[0]=o*g+a*y+l*I,s[3]=o*v+a*x+l*T,s[6]=o*C+a*S+l*B,s[1]=c*g+u*y+d*I,s[4]=c*v+u*x+d*T,s[7]=c*C+u*S+d*B,s[2]=p*g+m*y+A*I,s[5]=p*v+m*x+A*T,s[8]=p*C+m*S+A*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,p=a*l-u*s,m=c*s-o*l,A=n*d+i*p+r*m;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/A;return e[0]=d*g,e[1]=(r*c-u*i)*g,e[2]=(a*i-r*o)*g,e[3]=p*g,e[4]=(u*n-r*l)*g,e[5]=(r*s-a*n)*g,e[6]=m*g,e[7]=(i*l-c*n)*g,e[8]=(o*n-i*s)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(mv.makeScale(e,n)),this}rotate(e){return this.premultiply(mv.makeRotation(-e)),this}translate(e,n){return this.premultiply(mv.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const mv=new Zi;function AR(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const XG={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function xh(t,e){return new XG[t](e)}function Jp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Yc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function JA(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Av={[ks]:{[qh]:Yc},[qh]:{[ks]:JA}},Ni={legacyMode:!0,get workingColorSpace(){return qh},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(Av[e]&&Av[e][n]!==void 0){const i=Av[e][n];return t.r=i(t.r),t.g=i(t.g),t.b=i(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},gR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ti={r:0,g:0,b:0},Rs={h:0,s:0,l:0},Cm={h:0,s:0,l:0};function gv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function Em(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class be{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ks){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ni.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=Ni.workingColorSpace){return this.r=e,this.g=n,this.b=i,Ni.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=Ni.workingColorSpace){if(e=Ix(e,1),n=Wn(n,0,1),i=Wn(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=gv(o,s,e+1/3),this.g=gv(o,s,e),this.b=gv(o,s,e-1/3)}return Ni.toWorkingColorSpace(this,r),this}setStyle(e,n=ks){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Ni.toWorkingColorSpace(this,n),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Ni.toWorkingColorSpace(this,n),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,c,u,n)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Ni.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Ni.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=ks){const i=gR[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Yc(e.r),this.g=Yc(e.g),this.b=Yc(e.b),this}copyLinearToSRGB(e){return this.r=JA(e.r),this.g=JA(e.g),this.b=JA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ks){return Ni.fromWorkingColorSpace(Em(this,ti),e),Wn(ti.r*255,0,255)<<16^Wn(ti.g*255,0,255)<<8^Wn(ti.b*255,0,255)<<0}getHexString(e=ks){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ni.workingColorSpace){Ni.fromWorkingColorSpace(Em(this,ti),n);const i=ti.r,r=ti.g,s=ti.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Ni.workingColorSpace){return Ni.fromWorkingColorSpace(Em(this,ti),n),e.r=ti.r,e.g=ti.g,e.b=ti.b,e}getStyle(e=ks){return Ni.fromWorkingColorSpace(Em(this,ti),e),e!==ks?`color(${e} ${ti.r} ${ti.g} ${ti.b})`:`rgb(${ti.r*255|0},${ti.g*255|0},${ti.b*255|0})`}offsetHSL(e,n,i){return this.getHSL(Rs),Rs.h+=e,Rs.s+=n,Rs.l+=i,this.setHSL(Rs.h,Rs.s,Rs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Rs),e.getHSL(Cm);const i=Zd(Rs.h,Cm.h,n),r=Zd(Rs.s,Cm.s,n),s=Zd(Rs.l,Cm.l,n);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}be.NAMES=gR;let Ou;class _x{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ou===void 0&&(Ou=Jp("canvas")),Ou.width=e.width,Ou.height=e.height;const i=Ou.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Ou}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Jp("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Yc(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Yc(n[i]/255)*255):n[i]=Yc(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Qc{constructor(e=null){this.isSource=!0,this.uuid=Fr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(vv(r[o].image)):s.push(vv(r[o]))}else s=vv(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function vv(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?_x.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let qG=0;class yn extends Do{constructor(e=yn.DEFAULT_IMAGE,n=yn.DEFAULT_MAPPING,i=_n,r=_n,s=ln,o=xs,a=Un,l=yi,c=yn.DEFAULT_ANISOTROPY,u=bl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:qG++}),this.uuid=Fr(),this.name="",this.source=new Qc(e),this.mipmaps=[],this.mapping=n,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new le(0,0),this.repeat=new le(1,1),this.center=new le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==F2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ys:e.x=e.x-Math.floor(e.x);break;case _n:e.x=e.x<0?0:1;break;case Yh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ys:e.y=e.y-Math.floor(e.y);break;case _n:e.y=e.y<0?0:1;break;case Yh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}yn.DEFAULT_IMAGE=null;yn.DEFAULT_MAPPING=F2;yn.DEFAULT_ANISOTROPY=1;class Qt{constructor(e=0,n=0,i=0,r=1){Qt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],m=l[5],A=l[9],g=l[2],v=l[6],C=l[10];if(Math.abs(u-p)<.01&&Math.abs(d-g)<.01&&Math.abs(A-v)<.01){if(Math.abs(u+p)<.1&&Math.abs(d+g)<.1&&Math.abs(A+v)<.1&&Math.abs(c+m+C-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(c+1)/2,S=(m+1)/2,I=(C+1)/2,T=(u+p)/4,B=(d+g)/4,M=(A+v)/4;return x>S&&x>I?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=T/i,s=B/i):S>I?S<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(S),i=T/r,s=M/r):I<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(I),i=B/s,r=M/s),this.set(i,r,s,n),this}let y=Math.sqrt((v-A)*(v-A)+(d-g)*(d-g)+(p-u)*(p-u));return Math.abs(y)<.001&&(y=1),this.x=(v-A)/y,this.y=(d-g)/y,this.z=(p-u)/y,this.w=Math.acos((c+m+C-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class cn extends Do{constructor(e=1,n=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Qt(0,0,e,n),this.scissorTest=!1,this.viewport=new Qt(0,0,e,n);const r={width:e,height:n,depth:1};this.texture=new yn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:ln,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Qc(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class U2 extends yn{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=vt,this.minFilter=vt,this.wrapR=_n,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ZG extends cn{constructor(e=1,n=1,i=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new U2(null,e,n,i),this.texture.isRenderTargetTexture=!0}}let Mx=class extends yn{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=vt,this.minFilter=vt,this.wrapR=_n,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class $G extends cn{constructor(e=1,n=1,i=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Mx(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class eQ extends cn{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class ai{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],A=s[o+2],g=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=A,e[n+3]=g;return}if(d!==g||l!==p||c!==m||u!==A){let v=1-a;const C=l*p+c*m+u*A+d*g,y=C>=0?1:-1,x=1-C*C;if(x>Number.EPSILON){const I=Math.sqrt(x),T=Math.atan2(I,C*y);v=Math.sin(v*T)/I,a=Math.sin(a*T)/I}const S=a*y;if(l=l*v+p*S,c=c*v+m*S,u=u*v+A*S,d=d*v+g*S,v===1-a){const I=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=I,c*=I,u*=I,d*=I}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],p=s[o+1],m=s[o+2],A=s[o+3];return e[n]=a*A+u*d+l*m-c*p,e[n+1]=l*A+u*p+c*d-a*m,e[n+2]=c*A+u*m+a*p-l*d,e[n+3]=u*A-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),A=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*m*A,this._y=c*m*d-p*u*A,this._z=c*u*A+p*m*d,this._w=c*u*d-p*m*A;break;case"YXZ":this._x=p*u*d+c*m*A,this._y=c*m*d-p*u*A,this._z=c*u*A-p*m*d,this._w=c*u*d+p*m*A;break;case"ZXY":this._x=p*u*d-c*m*A,this._y=c*m*d+p*u*A,this._z=c*u*A+p*m*d,this._w=c*u*d-p*m*A;break;case"ZYX":this._x=p*u*d-c*m*A,this._y=c*m*d+p*u*A,this._z=c*u*A-p*m*d,this._w=c*u*d+p*m*A;break;case"YZX":this._x=p*u*d+c*m*A,this._y=c*m*d+p*u*A,this._z=c*u*A-p*m*d,this._w=c*u*d-p*m*A;break;case"XZY":this._x=p*u*d-c*m*A,this._y=c*m*d-p*u*A,this._z=c*u*A+p*m*d,this._w=c*u*d+p*m*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*i+n*this._x,this._y=m*r+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,p=Math.sin(n*u)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class D{constructor(e=0,n=0,i=0){D.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(mS.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(mS.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*r-a*i,u=l*i+a*n-s*r,d=l*r+s*i-o*n,p=-s*n-o*i-a*r;return this.x=c*l+p*-s+u*-a-d*-o,this.y=u*l+p*-o+d*-s-c*-a,this.z=d*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return yv.copy(this).projectOnVector(e),this.sub(yv)}reflect(e){return this.sub(yv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Wn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const yv=new D,mS=new ai;class zl{constructor(e=new D(1/0,1/0,1/0),n=new D(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],p=e[l+2];u<n&&(n=u),d<i&&(i=d),p<r&&(r=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(n,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),p=e.getZ(l);u<n&&(n=u),d<i&&(i=d),p<r&&(r=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(n,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=lc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(n&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)lc.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(lc)}else i.boundingBox===null&&i.computeBoundingBox(),xv.copy(i.boundingBox),xv.applyMatrix4(e.matrixWorld),this.union(xv);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,lc),lc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(sd),Sm.subVectors(this.max,sd),Uu.subVectors(e.a,sd),Gu.subVectors(e.b,sd),Qu.subVectors(e.c,sd),Qa.subVectors(Gu,Uu),Ha.subVectors(Qu,Gu),cc.subVectors(Uu,Qu);let n=[0,-Qa.z,Qa.y,0,-Ha.z,Ha.y,0,-cc.z,cc.y,Qa.z,0,-Qa.x,Ha.z,0,-Ha.x,cc.z,0,-cc.x,-Qa.y,Qa.x,0,-Ha.y,Ha.x,0,-cc.y,cc.x,0];return!Cv(n,Uu,Gu,Qu,Sm)||(n=[1,0,0,0,1,0,0,0,1],!Cv(n,Uu,Gu,Qu,Sm))?!1:(wm.crossVectors(Qa,Ha),n=[wm.x,wm.y,wm.z],Cv(n,Uu,Gu,Qu,Sm))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return lc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(lc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Zo=[new D,new D,new D,new D,new D,new D,new D,new D],lc=new D,xv=new zl,Uu=new D,Gu=new D,Qu=new D,Qa=new D,Ha=new D,cc=new D,sd=new D,Sm=new D,wm=new D,uc=new D;function Cv(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){uc.fromArray(t,s);const a=r.x*Math.abs(uc.x)+r.y*Math.abs(uc.y)+r.z*Math.abs(uc.z),l=e.dot(uc),c=n.dot(uc),u=i.dot(uc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const tQ=new zl,od=new D,Ev=new D;class Vl{constructor(e=new D,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):tQ.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;od.subVectors(e,this.center);const n=od.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(od,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Ev.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(od.copy(e.center).add(Ev)),this.expandByPoint(od.copy(e.center).sub(Ev))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const $o=new D,Sv=new D,Im=new D,za=new D,wv=new D,_m=new D,Iv=new D;class vf{constructor(e=new D,n=new D(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,$o)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=$o.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):($o.copy(this.direction).multiplyScalar(n).add(this.origin),$o.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){Sv.copy(e).add(n).multiplyScalar(.5),Im.copy(n).sub(e).normalize(),za.copy(this.origin).sub(Sv);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Im),a=za.dot(this.direction),l=-za.dot(Im),c=za.lengthSq(),u=Math.abs(1-o*o);let d,p,m,A;if(u>0)if(d=o*l-a,p=o*a-l,A=s*u,d>=0)if(p>=-A)if(p<=A){const g=1/u;d*=g,p*=g,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-A?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=A?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(Im).multiplyScalar(p).add(Sv),m}intersectSphere(e,n){$o.subVectors(e.center,this.origin);const i=$o.dot(this.direction),r=$o.dot($o)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,$o)!==null}intersectTriangle(e,n,i,r,s){wv.subVectors(n,e),_m.subVectors(i,e),Iv.crossVectors(wv,_m);let o=this.direction.dot(Iv),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;za.subVectors(this.origin,e);const l=a*this.direction.dot(_m.crossVectors(za,_m));if(l<0)return null;const c=a*this.direction.dot(wv.cross(za));if(c<0||l+c>o)return null;const u=-a*za.dot(Iv);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Je{constructor(){Je.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,i,r,s,o,a,l,c,u,d,p,m,A,g,v){const C=this.elements;return C[0]=e,C[4]=n,C[8]=i,C[12]=r,C[1]=s,C[5]=o,C[9]=a,C[13]=l,C[2]=c,C[6]=u,C[10]=d,C[14]=p,C[3]=m,C[7]=A,C[11]=g,C[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Je().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Hu.setFromMatrixColumn(e,0).length(),s=1/Hu.setFromMatrixColumn(e,1).length(),o=1/Hu.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*d,A=a*u,g=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=m+A*c,n[5]=p-g*c,n[9]=-a*l,n[2]=g-p*c,n[6]=A+m*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*d,A=c*u,g=c*d;n[0]=p+g*a,n[4]=A*a-m,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=m*a-A,n[6]=g+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*d,A=c*u,g=c*d;n[0]=p-g*a,n[4]=-o*d,n[8]=A+m*a,n[1]=m+A*a,n[5]=o*u,n[9]=g-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*d,A=a*u,g=a*d;n[0]=l*u,n[4]=A*c-m,n[8]=p*c+g,n[1]=l*d,n[5]=g*c+p,n[9]=m*c-A,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,A=a*l,g=a*c;n[0]=l*u,n[4]=g-p*d,n[8]=A*d+m,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*d+A,n[10]=p-g*d}else if(e.order==="XZY"){const p=o*l,m=o*c,A=a*l,g=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=p*d+g,n[5]=o*u,n[9]=m*d-A,n[2]=A*d-m,n[6]=a*u,n[10]=g*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nQ,e,iQ)}lookAt(e,n,i){const r=this.elements;return wr.subVectors(e,n),wr.lengthSq()===0&&(wr.z=1),wr.normalize(),Va.crossVectors(i,wr),Va.lengthSq()===0&&(Math.abs(i.z)===1?wr.x+=1e-4:wr.z+=1e-4,wr.normalize(),Va.crossVectors(i,wr)),Va.normalize(),Mm.crossVectors(wr,Va),r[0]=Va.x,r[4]=Mm.x,r[8]=wr.x,r[1]=Va.y,r[5]=Mm.y,r[9]=wr.y,r[2]=Va.z,r[6]=Mm.z,r[10]=wr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],p=i[9],m=i[13],A=i[2],g=i[6],v=i[10],C=i[14],y=i[3],x=i[7],S=i[11],I=i[15],T=r[0],B=r[4],M=r[8],R=r[12],P=r[1],L=r[5],V=r[9],N=r[13],U=r[2],j=r[6],X=r[10],te=r[14],k=r[3],J=r[7],W=r[11],$=r[15];return s[0]=o*T+a*P+l*U+c*k,s[4]=o*B+a*L+l*j+c*J,s[8]=o*M+a*V+l*X+c*W,s[12]=o*R+a*N+l*te+c*$,s[1]=u*T+d*P+p*U+m*k,s[5]=u*B+d*L+p*j+m*J,s[9]=u*M+d*V+p*X+m*W,s[13]=u*R+d*N+p*te+m*$,s[2]=A*T+g*P+v*U+C*k,s[6]=A*B+g*L+v*j+C*J,s[10]=A*M+g*V+v*X+C*W,s[14]=A*R+g*N+v*te+C*$,s[3]=y*T+x*P+S*U+I*k,s[7]=y*B+x*L+S*j+I*J,s[11]=y*M+x*V+S*X+I*W,s[15]=y*R+x*N+S*te+I*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],m=e[14],A=e[3],g=e[7],v=e[11],C=e[15];return A*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*m-i*l*m)+g*(+n*l*m-n*c*p+s*o*p-r*o*m+r*c*u-s*l*u)+v*(+n*c*d-n*a*m-s*o*d+i*o*m+s*a*u-i*c*u)+C*(-r*a*u-n*l*d+n*a*p+r*o*d-i*o*p+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],m=e[11],A=e[12],g=e[13],v=e[14],C=e[15],y=d*v*c-g*p*c+g*l*m-a*v*m-d*l*C+a*p*C,x=A*p*c-u*v*c-A*l*m+o*v*m+u*l*C-o*p*C,S=u*g*c-A*d*c+A*a*m-o*g*m-u*a*C+o*d*C,I=A*d*l-u*g*l-A*a*p+o*g*p+u*a*v-o*d*v,T=n*y+i*x+r*S+s*I;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/T;return e[0]=y*B,e[1]=(g*p*s-d*v*s-g*r*m+i*v*m+d*r*C-i*p*C)*B,e[2]=(a*v*s-g*l*s+g*r*c-i*v*c-a*r*C+i*l*C)*B,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*m-i*l*m)*B,e[4]=x*B,e[5]=(u*v*s-A*p*s+A*r*m-n*v*m-u*r*C+n*p*C)*B,e[6]=(A*l*s-o*v*s-A*r*c+n*v*c+o*r*C-n*l*C)*B,e[7]=(o*p*s-u*l*s+u*r*c-n*p*c-o*r*m+n*l*m)*B,e[8]=S*B,e[9]=(A*d*s-u*g*s-A*i*m+n*g*m+u*i*C-n*d*C)*B,e[10]=(o*g*s-A*a*s+A*i*c-n*g*c-o*i*C+n*a*C)*B,e[11]=(u*a*s-o*d*s-u*i*c+n*d*c+o*i*m-n*a*m)*B,e[12]=I*B,e[13]=(u*g*r-A*d*r+A*i*p-n*g*p-u*i*v+n*d*v)*B,e[14]=(A*a*r-o*g*r-A*i*l+n*g*l+o*i*v-n*a*v)*B,e[15]=(o*d*r-u*a*r+u*i*l-n*d*l-o*i*p+n*a*p)*B,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,p=s*c,m=s*u,A=s*d,g=o*u,v=o*d,C=a*d,y=l*c,x=l*u,S=l*d,I=i.x,T=i.y,B=i.z;return r[0]=(1-(g+C))*I,r[1]=(m+S)*I,r[2]=(A-x)*I,r[3]=0,r[4]=(m-S)*T,r[5]=(1-(p+C))*T,r[6]=(v+y)*T,r[7]=0,r[8]=(A+x)*B,r[9]=(v-y)*B,r[10]=(1-(p+g))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Hu.set(r[0],r[1],r[2]).length();const o=Hu.set(r[4],r[5],r[6]).length(),a=Hu.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ps.copy(this);const c=1/s,u=1/o,d=1/a;return Ps.elements[0]*=c,Ps.elements[1]*=c,Ps.elements[2]*=c,Ps.elements[4]*=u,Ps.elements[5]*=u,Ps.elements[6]*=u,Ps.elements[8]*=d,Ps.elements[9]*=d,Ps.elements[10]*=d,n.setFromRotationMatrix(Ps),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o){const a=this.elements,l=2*s/(n-e),c=2*s/(i-r),u=(n+e)/(n-e),d=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,i,r,s,o){const a=this.elements,l=1/(n-e),c=1/(i-r),u=1/(o-s),d=(n+e)*l,p=(i+r)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Hu=new D,Ps=new Je,nQ=new D(0,0,0),iQ=new D(1,1,1),Va=new D,Mm=new D,wr=new D,AS=new Je,gS=new ai;class du{constructor(e=0,n=0,i=0,r=du.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],p=r[6],m=r[10];switch(n){case"XYZ":this._y=Math.asin(Wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Wn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Wn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Wn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return AS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(AS,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return gS.setFromEuler(this),this.setFromQuaternion(gS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}du.DEFAULT_ORDER="XYZ";class Xc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rQ=0;const vS=new D,zu=new ai,ea=new Je,Tm=new D,ad=new D,sQ=new D,oQ=new ai,yS=new D(1,0,0),xS=new D(0,1,0),CS=new D(0,0,1),aQ={type:"added"},ES={type:"removed"};class Ht extends Do{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rQ++}),this.uuid=Fr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ht.DEFAULT_UP.clone();const e=new D,n=new du,i=new ai,r=new D(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Je},normalMatrix:{value:new Zi}}),this.matrix=new Je,this.matrixWorld=new Je,this.matrixAutoUpdate=Ht.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ht.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Xc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return zu.setFromAxisAngle(e,n),this.quaternion.multiply(zu),this}rotateOnWorldAxis(e,n){return zu.setFromAxisAngle(e,n),this.quaternion.premultiply(zu),this}rotateX(e){return this.rotateOnAxis(yS,e)}rotateY(e){return this.rotateOnAxis(xS,e)}rotateZ(e){return this.rotateOnAxis(CS,e)}translateOnAxis(e,n){return vS.copy(e).applyQuaternion(this.quaternion),this.position.add(vS.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(yS,e)}translateY(e){return this.translateOnAxis(xS,e)}translateZ(e){return this.translateOnAxis(CS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ea.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Tm.copy(e):Tm.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),ad.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ea.lookAt(ad,Tm,this.up):ea.lookAt(Tm,ad,this.up),this.quaternion.setFromRotationMatrix(ea),r&&(ea.extractRotation(r.matrixWorld),zu.setFromRotationMatrix(ea),this.quaternion.premultiply(zu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(aQ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(ES)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(ES)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ea.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ea.multiply(e.parent.matrixWorld)),e.applyMatrix4(ea),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let i=[];this[e]===n&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,n);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ad,e,sQ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ad,oQ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const s=n[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),A=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),A.length>0&&(i.nodes=A)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ht.DEFAULT_UP=new D(0,1,0);Ht.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ht.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ds=new D,ta=new D,_v=new D,na=new D,Vu=new D,Wu=new D,SS=new D,Mv=new D,Tv=new D,Bv=new D;class hs{constructor(e=new D,n=new D,i=new D){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Ds.subVectors(e,n),r.cross(Ds);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Ds.subVectors(r,n),ta.subVectors(i,n),_v.subVectors(e,n);const o=Ds.dot(Ds),a=Ds.dot(ta),l=Ds.dot(_v),c=ta.dot(ta),u=ta.dot(_v),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(c*l-a*u)*p,A=(o*u-a*l)*p;return s.set(1-m-A,A,m)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,na),na.x>=0&&na.y>=0&&na.x+na.y<=1}static getUV(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,na),l.set(0,0),l.addScaledVector(s,na.x),l.addScaledVector(o,na.y),l.addScaledVector(a,na.z),l}static isFrontFacing(e,n,i,r){return Ds.subVectors(i,n),ta.subVectors(e,n),Ds.cross(ta).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ds.subVectors(this.c,this.b),ta.subVectors(this.a,this.b),Ds.cross(ta).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return hs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return hs.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,s){return hs.getUV(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return hs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return hs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;Vu.subVectors(r,i),Wu.subVectors(s,i),Mv.subVectors(e,i);const l=Vu.dot(Mv),c=Wu.dot(Mv);if(l<=0&&c<=0)return n.copy(i);Tv.subVectors(e,r);const u=Vu.dot(Tv),d=Wu.dot(Tv);if(u>=0&&d<=u)return n.copy(r);const p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(i).addScaledVector(Vu,o);Bv.subVectors(e,s);const m=Vu.dot(Bv),A=Wu.dot(Bv);if(A>=0&&m<=A)return n.copy(s);const g=m*c-l*A;if(g<=0&&c>=0&&A<=0)return a=c/(c-A),n.copy(i).addScaledVector(Wu,a);const v=u*A-m*d;if(v<=0&&d-u>=0&&m-A>=0)return SS.subVectors(s,r),a=(d-u)/(d-u+(m-A)),n.copy(r).addScaledVector(SS,a);const C=1/(v+g+p);return o=g*C,a=p*C,n.copy(i).addScaledVector(Vu,o).addScaledVector(Wu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let lQ=0;class Zn extends Do{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lQ++}),this.uuid=Fr(),this.name="",this.type="Material",this.blending=So,this.side=Po,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Dp,this.blendDst=Lp,this.blendEquation=Br,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Rg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=pR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=WA,this.stencilZFail=WA,this.stencilZPass=WA,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const r=this[n];if(r===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==So&&(i.blending=this.blending),this.side!==Po&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ii extends Zn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=v0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Yn=new D,Bm=new le;class Zt{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Vp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Bm.fromBufferAttribute(this,n),Bm.applyMatrix3(e),this.setXY(n,Bm.x,Bm.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Yn.fromBufferAttribute(this,n),Yn.applyMatrix3(e),this.setXYZ(n,Yn.x,Yn.y,Yn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Yn.fromBufferAttribute(this,n),Yn.applyMatrix4(e),this.setXYZ(n,Yn.x,Yn.y,Yn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Yn.fromBufferAttribute(this,n),Yn.applyNormalMatrix(e),this.setXYZ(n,Yn.x,Yn.y,Yn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Yn.fromBufferAttribute(this,n),Yn.transformDirection(e),this.setXYZ(n,Yn.x,Yn.y,Yn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ua(n,this.array)),n}setX(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ua(n,this.array)),n}setY(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ua(n,this.array)),n}setZ(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ua(n,this.array)),n}setW(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=an(n,this.array),i=an(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=an(n,this.array),i=an(i,this.array),r=an(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=an(n,this.array),i=an(i,this.array),r=an(r,this.array),s=an(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Vp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class cQ extends Zt{constructor(e,n,i){super(new Int8Array(e),n,i)}}class uQ extends Zt{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class hQ extends Zt{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class fQ extends Zt{constructor(e,n,i){super(new Int16Array(e),n,i)}}class Tx extends Zt{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class dQ extends Zt{constructor(e,n,i){super(new Int32Array(e),n,i)}}class G2 extends Zt{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class pQ extends Zt{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}}class je extends Zt{constructor(e,n,i){super(new Float32Array(e),n,i)}}class mQ extends Zt{constructor(e,n,i){super(new Float64Array(e),n,i)}}let AQ=0;const rs=new Je,bv=new Ht,Ju=new D,Ir=new zl,ld=new zl,gi=new D;class yt extends Do{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:AQ++}),this.uuid=Fr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(AR(e)?G2:Tx)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Zi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return rs.makeRotationFromQuaternion(e),this.applyMatrix4(rs),this}rotateX(e){return rs.makeRotationX(e),this.applyMatrix4(rs),this}rotateY(e){return rs.makeRotationY(e),this.applyMatrix4(rs),this}rotateZ(e){return rs.makeRotationZ(e),this.applyMatrix4(rs),this}translate(e,n,i){return rs.makeTranslation(e,n,i),this.applyMatrix4(rs),this}scale(e,n,i){return rs.makeScale(e,n,i),this.applyMatrix4(rs),this}lookAt(e){return bv.lookAt(e),bv.updateMatrix(),this.applyMatrix4(bv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ju).negate(),this.translate(Ju.x,Ju.y,Ju.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new je(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];Ir.setFromBufferAttribute(s),this.morphTargetsRelative?(gi.addVectors(this.boundingBox.min,Ir.min),this.boundingBox.expandByPoint(gi),gi.addVectors(this.boundingBox.max,Ir.max),this.boundingBox.expandByPoint(gi)):(this.boundingBox.expandByPoint(Ir.min),this.boundingBox.expandByPoint(Ir.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Vl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new D,1/0);return}if(e){const i=this.boundingSphere.center;if(Ir.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];ld.setFromBufferAttribute(a),this.morphTargetsRelative?(gi.addVectors(Ir.min,ld.min),Ir.expandByPoint(gi),gi.addVectors(Ir.max,ld.max),Ir.expandByPoint(gi)):(Ir.expandByPoint(ld.min),Ir.expandByPoint(ld.max))}Ir.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)gi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(gi));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)gi.fromBufferAttribute(a,c),l&&(Ju.fromBufferAttribute(e,c),gi.add(Ju)),r=Math.max(r,i.distanceToSquared(gi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,o=n.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Zt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let P=0;P<a;P++)c[P]=new D,u[P]=new D;const d=new D,p=new D,m=new D,A=new le,g=new le,v=new le,C=new D,y=new D;function x(P,L,V){d.fromArray(r,P*3),p.fromArray(r,L*3),m.fromArray(r,V*3),A.fromArray(o,P*2),g.fromArray(o,L*2),v.fromArray(o,V*2),p.sub(d),m.sub(d),g.sub(A),v.sub(A);const N=1/(g.x*v.y-v.x*g.y);isFinite(N)&&(C.copy(p).multiplyScalar(v.y).addScaledVector(m,-g.y).multiplyScalar(N),y.copy(m).multiplyScalar(g.x).addScaledVector(p,-v.x).multiplyScalar(N),c[P].add(C),c[L].add(C),c[V].add(C),u[P].add(y),u[L].add(y),u[V].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:i.length}]);for(let P=0,L=S.length;P<L;++P){const V=S[P],N=V.start,U=V.count;for(let j=N,X=N+U;j<X;j+=3)x(i[j+0],i[j+1],i[j+2])}const I=new D,T=new D,B=new D,M=new D;function R(P){B.fromArray(s,P*3),M.copy(B);const L=c[P];I.copy(L),I.sub(B.multiplyScalar(B.dot(L))).normalize(),T.crossVectors(M,L);const N=T.dot(u[P])<0?-1:1;l[P*4]=I.x,l[P*4+1]=I.y,l[P*4+2]=I.z,l[P*4+3]=N}for(let P=0,L=S.length;P<L;++P){const V=S[P],N=V.start,U=V.count;for(let j=N,X=N+U;j<X;j+=3)R(i[j+0]),R(i[j+1]),R(i[j+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Zt(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new D,s=new D,o=new D,a=new D,l=new D,c=new D,u=new D,d=new D;if(e)for(let p=0,m=e.count;p<m;p+=3){const A=e.getX(p+0),g=e.getX(p+1),v=e.getX(p+2);r.fromBufferAttribute(n,A),s.fromBufferAttribute(n,g),o.fromBufferAttribute(n,v),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,A),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,v),a.add(u),l.add(u),c.add(u),i.setXYZ(A,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(v,c.x,c.y,c.z)}else for(let p=0,m=n.count;p<m;p+=3)r.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(p+0,u.x,u.y,u.z),i.setXYZ(p+1,u.x,u.y,u.z),i.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)gi.fromBufferAttribute(e,n),gi.normalize(),e.setXYZ(n,gi.x,gi.y,gi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u);let m=0,A=0;for(let g=0,v=l.length;g<v;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*u;for(let C=0;C<u;C++)p[A++]=c[m++]}return new Zt(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new yt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const p=c[u],m=e(p,i);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let p=0,m=d.length;p<m;p++)u.push(d[p].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const wS=new Je,ju=new vf,Rv=new Vl,cd=new D,ud=new D,hd=new D,Pv=new D,bm=new D,Rm=new le,Pm=new le,Dm=new le,Dv=new D,Lm=new D;class tn extends Ht{constructor(e=new yt,n=new Ii){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){bm.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(Pv.fromBufferAttribute(d,e),o?bm.addScaledVector(Pv,u):bm.addScaledVector(Pv.sub(n),u))}n.add(bm)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Rv.copy(i.boundingSphere),Rv.applyMatrix4(s),e.ray.intersectsSphere(Rv)===!1)||(wS.copy(s).invert(),ju.copy(e.ray).applyMatrix4(wS),i.boundingBox!==null&&ju.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,c=i.attributes.uv,u=i.attributes.uv2,d=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,A=d.length;m<A;m++){const g=d[m],v=r[g.materialIndex],C=Math.max(g.start,p.start),y=Math.min(a.count,Math.min(g.start+g.count,p.start+p.count));for(let x=C,S=y;x<S;x+=3){const I=a.getX(x),T=a.getX(x+1),B=a.getX(x+2);o=Fm(this,v,e,ju,c,u,I,T,B),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=g.materialIndex,n.push(o))}}else{const m=Math.max(0,p.start),A=Math.min(a.count,p.start+p.count);for(let g=m,v=A;g<v;g+=3){const C=a.getX(g),y=a.getX(g+1),x=a.getX(g+2);o=Fm(this,r,e,ju,c,u,C,y,x),o&&(o.faceIndex=Math.floor(g/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,A=d.length;m<A;m++){const g=d[m],v=r[g.materialIndex],C=Math.max(g.start,p.start),y=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let x=C,S=y;x<S;x+=3){const I=x,T=x+1,B=x+2;o=Fm(this,v,e,ju,c,u,I,T,B),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=g.materialIndex,n.push(o))}}else{const m=Math.max(0,p.start),A=Math.min(l.count,p.start+p.count);for(let g=m,v=A;g<v;g+=3){const C=g,y=g+1,x=g+2;o=Fm(this,r,e,ju,c,u,C,y,x),o&&(o.faceIndex=Math.floor(g/3),n.push(o))}}}}function gQ(t,e,n,i,r,s,o,a){let l;if(e.side===er?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Po,a),l===null)return null;Lm.copy(a),Lm.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Lm);return c<n.near||c>n.far?null:{distance:c,point:Lm.clone(),object:t}}function Fm(t,e,n,i,r,s,o,a,l){t.getVertexPosition(o,cd),t.getVertexPosition(a,ud),t.getVertexPosition(l,hd);const c=gQ(t,e,n,i,cd,ud,hd,Dv);if(c){r&&(Rm.fromBufferAttribute(r,o),Pm.fromBufferAttribute(r,a),Dm.fromBufferAttribute(r,l),c.uv=hs.getUV(Dv,cd,ud,hd,Rm,Pm,Dm,new le)),s&&(Rm.fromBufferAttribute(s,o),Pm.fromBufferAttribute(s,a),Dm.fromBufferAttribute(s,l),c.uv2=hs.getUV(Dv,cd,ud,hd,Rm,Pm,Dm,new le));const u={a:o,b:a,c:l,normal:new D,materialIndex:0};hs.getNormal(cd,ud,hd,u.normal),c.face=u}return c}class _a extends yt{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let p=0,m=0;A("z","y","x",-1,-1,i,n,e,o,s,0),A("z","y","x",1,-1,i,n,-e,o,s,1),A("x","z","y",1,1,e,i,n,r,o,2),A("x","z","y",1,-1,e,i,-n,r,o,3),A("x","y","z",1,-1,e,n,i,r,s,4),A("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new je(c,3)),this.setAttribute("normal",new je(u,3)),this.setAttribute("uv",new je(d,2));function A(g,v,C,y,x,S,I,T,B,M,R){const P=S/B,L=I/M,V=S/2,N=I/2,U=T/2,j=B+1,X=M+1;let te=0,k=0;const J=new D;for(let W=0;W<X;W++){const $=W*L-N;for(let H=0;H<j;H++){const ne=H*P-V;J[g]=ne*y,J[v]=$*x,J[C]=U,c.push(J.x,J.y,J.z),J[g]=0,J[v]=0,J[C]=T>0?1:-1,u.push(J.x,J.y,J.z),d.push(H/B),d.push(1-W/M),te+=1}}for(let W=0;W<M;W++)for(let $=0;$<B;$++){const H=p+$+j*W,ne=p+$+j*(W+1),de=p+($+1)+j*(W+1),Ae=p+($+1)+j*W;l.push(H,ne,Ae),l.push(ne,de,Ae),k+=6}a.addGroup(m,k,R),m+=k,p+=te}}static fromJSON(e){return new _a(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Zh(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Yi(t){const e={};for(let n=0;n<t.length;n++){const i=Zh(t[n]);for(const r in i)e[r]=i[r]}return e}function vQ(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function vR(t){return t.getRenderTarget()===null&&t.outputEncoding===hn?ks:qh}const Mn={clone:Zh,merge:Yi};var yQ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,xQ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class jt extends Zn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yQ,this.fragmentShader=xQ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zh(e.uniforms),this.uniformsGroups=vQ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class y0 extends Ht{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Je,this.projectionMatrix=new Je,this.projectionMatrixInverse=new Je}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class sn extends y0{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Wp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Kc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Wp*2*Math.atan(Math.tan(Kc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Kc*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ku=-90,Yu=1;class Bx extends Ht{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new sn(Ku,Yu,e,n);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new sn(Ku,Yu,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new sn(Ku,Yu,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new sn(Ku,Yu,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new sn(Ku,Yu,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new sn(Ku,Yu,e,n);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=Lr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,r),e.setRenderTarget(i,1),e.render(n,s),e.setRenderTarget(i,2),e.render(n,o),e.setRenderTarget(i,3),e.render(n,a),e.setRenderTarget(i,4),e.render(n,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(n,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class x0 extends yn{constructor(e,n,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Ml,super(e,n,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class bx extends cn{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new x0(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ln}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new _a(5,5,5),s=new jt({name:"CubemapFromEquirect",uniforms:Zh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:er,blending:Lt});s.uniforms.tEquirect.value=n;const o=new tn(r,s),a=n.minFilter;return n.minFilter===xs&&(n.minFilter=ln),new Bx(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const Lv=new D,CQ=new D,EQ=new Zi;class Tr{constructor(e=new D(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Lv.subVectors(i,n).cross(CQ.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const i=e.delta(Lv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||EQ.getNormalMatrix(e),r=this.coplanarPoint(Lv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Xu=new Vl,km=new D;class Q2{constructor(e=new Tr,n=new Tr,i=new Tr,r=new Tr,s=new Tr,o=new Tr){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],p=i[8],m=i[9],A=i[10],g=i[11],v=i[12],C=i[13],y=i[14],x=i[15];return n[0].setComponents(a-r,d-l,g-p,x-v).normalize(),n[1].setComponents(a+r,d+l,g+p,x+v).normalize(),n[2].setComponents(a+s,d+c,g+m,x+C).normalize(),n[3].setComponents(a-s,d-c,g-m,x-C).normalize(),n[4].setComponents(a-o,d-u,g-A,x-y).normalize(),n[5].setComponents(a+o,d+u,g+A,x+y).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Xu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Xu)}intersectsSprite(e){return Xu.center.set(0,0,0),Xu.radius=.7071067811865476,Xu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xu)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(km.x=r.normal.x>0?e.max.x:e.min.x,km.y=r.normal.y>0?e.max.y:e.min.y,km.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(km)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function yR(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function SQ(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,u){const d=c.array,p=c.usage,m=t.createBuffer();t.bindBuffer(u,m),t.bufferData(u,d,p),c.onUploadCallback();let A;if(d instanceof Float32Array)A=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)A=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else A=5123;else if(d instanceof Int16Array)A=5122;else if(d instanceof Uint32Array)A=5125;else if(d instanceof Int32Array)A=5124;else if(d instanceof Int8Array)A=5120;else if(d instanceof Uint8Array)A=5121;else if(d instanceof Uint8ClampedArray)A=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:A,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const p=u.array,m=u.updateRange;t.bindBuffer(d,c),m.count===-1?t.bufferSubData(d,0,p):(n?t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(t.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class pu extends yt{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,p=n/l,m=[],A=[],g=[],v=[];for(let C=0;C<u;C++){const y=C*p-o;for(let x=0;x<c;x++){const S=x*d-s;A.push(S,-y,0),g.push(0,0,1),v.push(x/a),v.push(1-C/l)}}for(let C=0;C<l;C++)for(let y=0;y<a;y++){const x=y+c*C,S=y+c*(C+1),I=y+1+c*(C+1),T=y+1+c*C;m.push(x,S,T),m.push(S,I,T)}this.setIndex(m),this.setAttribute("position",new je(A,3)),this.setAttribute("normal",new je(g,3)),this.setAttribute("uv",new je(v,2))}static fromJSON(e){return new pu(e.width,e.height,e.widthSegments,e.heightSegments)}}var wQ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,IQ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_Q=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,MQ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,TQ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,BQ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,bQ="vec3 transformed = vec3( position );",RQ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,PQ=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,DQ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,LQ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,FQ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,kQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,NQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,OQ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,UQ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,GQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,QQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,HQ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,zQ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,VQ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,WQ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,JQ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jQ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,KQ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,YQ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,XQ="gl_FragColor = linearToOutputTexel( gl_FragColor );",qQ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ZQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,$Q=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,eH=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,tH=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,nH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,iH=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,rH=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,sH=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,oH=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,aH=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lH=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,cH=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,uH=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,hH=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,fH=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,dH=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,pH=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,mH=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,AH=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,gH=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,vH=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,yH=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,xH=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,CH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,EH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,SH=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,wH=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,IH=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,_H=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,MH=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,TH=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,BH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,bH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,RH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,PH=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,DH=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,LH=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,FH=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,kH=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,NH=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,OH=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,UH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,QH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,HH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,zH=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,VH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,WH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,JH=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,jH=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,KH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,YH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,XH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,qH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ZH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,$H=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,ez=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,tz=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,nz=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,iz=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,rz=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,sz=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,oz=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,az=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,lz=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,cz=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,uz=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,hz=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,fz=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,dz=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,pz=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,mz=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Az=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,gz=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,vz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,yz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,xz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Cz=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ez=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Sz=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Iz=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_z=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Mz=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Tz=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Bz=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,bz=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Rz=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Pz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Dz=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Lz=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Fz=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kz=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Nz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Oz=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uz=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Qz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zz=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Vz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wz=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jz=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kz=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yz=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Zz=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$z=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,eV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Rt={alphamap_fragment:wQ,alphamap_pars_fragment:IQ,alphatest_fragment:_Q,alphatest_pars_fragment:MQ,aomap_fragment:TQ,aomap_pars_fragment:BQ,begin_vertex:bQ,beginnormal_vertex:RQ,bsdfs:PQ,iridescence_fragment:DQ,bumpmap_pars_fragment:LQ,clipping_planes_fragment:FQ,clipping_planes_pars_fragment:kQ,clipping_planes_pars_vertex:NQ,clipping_planes_vertex:OQ,color_fragment:UQ,color_pars_fragment:GQ,color_pars_vertex:QQ,color_vertex:HQ,common:zQ,cube_uv_reflection_fragment:VQ,defaultnormal_vertex:WQ,displacementmap_pars_vertex:JQ,displacementmap_vertex:jQ,emissivemap_fragment:KQ,emissivemap_pars_fragment:YQ,encodings_fragment:XQ,encodings_pars_fragment:qQ,envmap_fragment:ZQ,envmap_common_pars_fragment:$Q,envmap_pars_fragment:eH,envmap_pars_vertex:tH,envmap_physical_pars_fragment:dH,envmap_vertex:nH,fog_vertex:iH,fog_pars_vertex:rH,fog_fragment:sH,fog_pars_fragment:oH,gradientmap_pars_fragment:aH,lightmap_fragment:lH,lightmap_pars_fragment:cH,lights_lambert_fragment:uH,lights_lambert_pars_fragment:hH,lights_pars_begin:fH,lights_toon_fragment:pH,lights_toon_pars_fragment:mH,lights_phong_fragment:AH,lights_phong_pars_fragment:gH,lights_physical_fragment:vH,lights_physical_pars_fragment:yH,lights_fragment_begin:xH,lights_fragment_maps:CH,lights_fragment_end:EH,logdepthbuf_fragment:SH,logdepthbuf_pars_fragment:wH,logdepthbuf_pars_vertex:IH,logdepthbuf_vertex:_H,map_fragment:MH,map_pars_fragment:TH,map_particle_fragment:BH,map_particle_pars_fragment:bH,metalnessmap_fragment:RH,metalnessmap_pars_fragment:PH,morphcolor_vertex:DH,morphnormal_vertex:LH,morphtarget_pars_vertex:FH,morphtarget_vertex:kH,normal_fragment_begin:NH,normal_fragment_maps:OH,normal_pars_fragment:UH,normal_pars_vertex:GH,normal_vertex:QH,normalmap_pars_fragment:HH,clearcoat_normal_fragment_begin:zH,clearcoat_normal_fragment_maps:VH,clearcoat_pars_fragment:WH,iridescence_pars_fragment:JH,output_fragment:jH,packing:KH,premultiplied_alpha_fragment:YH,project_vertex:XH,dithering_fragment:qH,dithering_pars_fragment:ZH,roughnessmap_fragment:$H,roughnessmap_pars_fragment:ez,shadowmap_pars_fragment:tz,shadowmap_pars_vertex:nz,shadowmap_vertex:iz,shadowmask_pars_fragment:rz,skinbase_vertex:sz,skinning_pars_vertex:oz,skinning_vertex:az,skinnormal_vertex:lz,specularmap_fragment:cz,specularmap_pars_fragment:uz,tonemapping_fragment:hz,tonemapping_pars_fragment:fz,transmission_fragment:dz,transmission_pars_fragment:pz,uv_pars_fragment:mz,uv_pars_vertex:Az,uv_vertex:gz,uv2_pars_fragment:vz,uv2_pars_vertex:yz,uv2_vertex:xz,worldpos_vertex:Cz,background_vert:Ez,background_frag:Sz,backgroundCube_vert:wz,backgroundCube_frag:Iz,cube_vert:_z,cube_frag:Mz,depth_vert:Tz,depth_frag:Bz,distanceRGBA_vert:bz,distanceRGBA_frag:Rz,equirect_vert:Pz,equirect_frag:Dz,linedashed_vert:Lz,linedashed_frag:Fz,meshbasic_vert:kz,meshbasic_frag:Nz,meshlambert_vert:Oz,meshlambert_frag:Uz,meshmatcap_vert:Gz,meshmatcap_frag:Qz,meshnormal_vert:Hz,meshnormal_frag:zz,meshphong_vert:Vz,meshphong_frag:Wz,meshphysical_vert:Jz,meshphysical_frag:jz,meshtoon_vert:Kz,meshtoon_frag:Yz,points_vert:Xz,points_frag:qz,shadow_vert:Zz,shadow_frag:$z,sprite_vert:eV,sprite_frag:tV},Ue={common:{diffuse:{value:new be(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Zi},uv2Transform:{value:new Zi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Zi}},sprite:{diffuse:{value:new be(16777215)},opacity:{value:1},center:{value:new le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Zi}}},Os={basic:{uniforms:Yi([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.fog]),vertexShader:Rt.meshbasic_vert,fragmentShader:Rt.meshbasic_frag},lambert:{uniforms:Yi([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new be(0)}}]),vertexShader:Rt.meshlambert_vert,fragmentShader:Rt.meshlambert_frag},phong:{uniforms:Yi([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new be(0)},specular:{value:new be(1118481)},shininess:{value:30}}]),vertexShader:Rt.meshphong_vert,fragmentShader:Rt.meshphong_frag},standard:{uniforms:Yi([Ue.common,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.roughnessmap,Ue.metalnessmap,Ue.fog,Ue.lights,{emissive:{value:new be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag},toon:{uniforms:Yi([Ue.common,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.gradientmap,Ue.fog,Ue.lights,{emissive:{value:new be(0)}}]),vertexShader:Rt.meshtoon_vert,fragmentShader:Rt.meshtoon_frag},matcap:{uniforms:Yi([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,{matcap:{value:null}}]),vertexShader:Rt.meshmatcap_vert,fragmentShader:Rt.meshmatcap_frag},points:{uniforms:Yi([Ue.points,Ue.fog]),vertexShader:Rt.points_vert,fragmentShader:Rt.points_frag},dashed:{uniforms:Yi([Ue.common,Ue.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rt.linedashed_vert,fragmentShader:Rt.linedashed_frag},depth:{uniforms:Yi([Ue.common,Ue.displacementmap]),vertexShader:Rt.depth_vert,fragmentShader:Rt.depth_frag},normal:{uniforms:Yi([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,{opacity:{value:1}}]),vertexShader:Rt.meshnormal_vert,fragmentShader:Rt.meshnormal_frag},sprite:{uniforms:Yi([Ue.sprite,Ue.fog]),vertexShader:Rt.sprite_vert,fragmentShader:Rt.sprite_frag},background:{uniforms:{uvTransform:{value:new Zi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Rt.background_vert,fragmentShader:Rt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Rt.backgroundCube_vert,fragmentShader:Rt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Rt.cube_vert,fragmentShader:Rt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rt.equirect_vert,fragmentShader:Rt.equirect_frag},distanceRGBA:{uniforms:Yi([Ue.common,Ue.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rt.distanceRGBA_vert,fragmentShader:Rt.distanceRGBA_frag},shadow:{uniforms:Yi([Ue.lights,Ue.fog,{color:{value:new be(0)},opacity:{value:1}}]),vertexShader:Rt.shadow_vert,fragmentShader:Rt.shadow_frag}};Os.physical={uniforms:Yi([Os.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new le(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new be(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new be(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new be(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag};const Nm={r:0,b:0,g:0};function nV(t,e,n,i,r,s,o){const a=new be(0);let l=s===!0?0:1,c,u,d=null,p=0,m=null;function A(v,C){let y=!1,x=C.isScene===!0?C.background:null;x&&x.isTexture&&(x=(C.backgroundBlurriness>0?n:e).get(x));const S=t.xr,I=S.getSession&&S.getSession();I&&I.environmentBlendMode==="additive"&&(x=null),x===null?g(a,l):x&&x.isColor&&(g(x,1),y=!0),(t.autoClear||y)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),x&&(x.isCubeTexture||x.mapping===Af)?(u===void 0&&(u=new tn(new _a(1,1,1),new jt({name:"BackgroundCubeMaterial",uniforms:Zh(Os.backgroundCube.uniforms),vertexShader:Os.backgroundCube.vertexShader,fragmentShader:Os.backgroundCube.fragmentShader,side:er,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,B,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.toneMapped=x.encoding!==hn,(d!==x||p!==x.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=x,p=x.version,m=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new tn(new pu(2,2),new jt({name:"BackgroundMaterial",uniforms:Zh(Os.background.uniforms),vertexShader:Os.background.vertexShader,fragmentShader:Os.background.fragmentShader,side:Po,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,c.material.toneMapped=x.encoding!==hn,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||p!==x.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,d=x,p=x.version,m=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function g(v,C){v.getRGB(Nm,vR(t)),i.buffers.color.setClear(Nm.r,Nm.g,Nm.b,C,o)}return{getClearColor:function(){return a},setClearColor:function(v,C=1){a.set(v),l=C,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:A}}function iV(t,e,n,i){const r=t.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=v(null);let c=l,u=!1;function d(U,j,X,te,k){let J=!1;if(o){const W=g(te,X,j);c!==W&&(c=W,m(c.object)),J=C(U,te,X,k),J&&y(U,te,X,k)}else{const W=j.wireframe===!0;(c.geometry!==te.id||c.program!==X.id||c.wireframe!==W)&&(c.geometry=te.id,c.program=X.id,c.wireframe=W,J=!0)}k!==null&&n.update(k,34963),(J||u)&&(u=!1,M(U,j,X,te),k!==null&&t.bindBuffer(34963,n.get(k).buffer))}function p(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(U){return i.isWebGL2?t.bindVertexArray(U):s.bindVertexArrayOES(U)}function A(U){return i.isWebGL2?t.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function g(U,j,X){const te=X.wireframe===!0;let k=a[U.id];k===void 0&&(k={},a[U.id]=k);let J=k[j.id];J===void 0&&(J={},k[j.id]=J);let W=J[te];return W===void 0&&(W=v(p()),J[te]=W),W}function v(U){const j=[],X=[],te=[];for(let k=0;k<r;k++)j[k]=0,X[k]=0,te[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:X,attributeDivisors:te,object:U,attributes:{},index:null}}function C(U,j,X,te){const k=c.attributes,J=j.attributes;let W=0;const $=X.getAttributes();for(const H in $)if($[H].location>=0){const de=k[H];let Ae=J[H];if(Ae===void 0&&(H==="instanceMatrix"&&U.instanceMatrix&&(Ae=U.instanceMatrix),H==="instanceColor"&&U.instanceColor&&(Ae=U.instanceColor)),de===void 0||de.attribute!==Ae||Ae&&de.data!==Ae.data)return!0;W++}return c.attributesNum!==W||c.index!==te}function y(U,j,X,te){const k={},J=j.attributes;let W=0;const $=X.getAttributes();for(const H in $)if($[H].location>=0){let de=J[H];de===void 0&&(H==="instanceMatrix"&&U.instanceMatrix&&(de=U.instanceMatrix),H==="instanceColor"&&U.instanceColor&&(de=U.instanceColor));const Ae={};Ae.attribute=de,de&&de.data&&(Ae.data=de.data),k[H]=Ae,W++}c.attributes=k,c.attributesNum=W,c.index=te}function x(){const U=c.newAttributes;for(let j=0,X=U.length;j<X;j++)U[j]=0}function S(U){I(U,0)}function I(U,j){const X=c.newAttributes,te=c.enabledAttributes,k=c.attributeDivisors;X[U]=1,te[U]===0&&(t.enableVertexAttribArray(U),te[U]=1),k[U]!==j&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,j),k[U]=j)}function T(){const U=c.newAttributes,j=c.enabledAttributes;for(let X=0,te=j.length;X<te;X++)j[X]!==U[X]&&(t.disableVertexAttribArray(X),j[X]=0)}function B(U,j,X,te,k,J){i.isWebGL2===!0&&(X===5124||X===5125)?t.vertexAttribIPointer(U,j,X,k,J):t.vertexAttribPointer(U,j,X,te,k,J)}function M(U,j,X,te){if(i.isWebGL2===!1&&(U.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const k=te.attributes,J=X.getAttributes(),W=j.defaultAttributeValues;for(const $ in J){const H=J[$];if(H.location>=0){let ne=k[$];if(ne===void 0&&($==="instanceMatrix"&&U.instanceMatrix&&(ne=U.instanceMatrix),$==="instanceColor"&&U.instanceColor&&(ne=U.instanceColor)),ne!==void 0){const de=ne.normalized,Ae=ne.itemSize,q=n.get(ne);if(q===void 0)continue;const Te=q.buffer,Pe=q.type,De=q.bytesPerElement;if(ne.isInterleavedBufferAttribute){const Ce=ne.data,Me=Ce.stride,ue=ne.offset;if(Ce.isInstancedInterleavedBuffer){for(let oe=0;oe<H.locationSize;oe++)I(H.location+oe,Ce.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let oe=0;oe<H.locationSize;oe++)S(H.location+oe);t.bindBuffer(34962,Te);for(let oe=0;oe<H.locationSize;oe++)B(H.location+oe,Ae/H.locationSize,Pe,de,Me*De,(ue+Ae/H.locationSize*oe)*De)}else{if(ne.isInstancedBufferAttribute){for(let Ce=0;Ce<H.locationSize;Ce++)I(H.location+Ce,ne.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let Ce=0;Ce<H.locationSize;Ce++)S(H.location+Ce);t.bindBuffer(34962,Te);for(let Ce=0;Ce<H.locationSize;Ce++)B(H.location+Ce,Ae/H.locationSize,Pe,de,Ae*De,Ae/H.locationSize*Ce*De)}}else if(W!==void 0){const de=W[$];if(de!==void 0)switch(de.length){case 2:t.vertexAttrib2fv(H.location,de);break;case 3:t.vertexAttrib3fv(H.location,de);break;case 4:t.vertexAttrib4fv(H.location,de);break;default:t.vertexAttrib1fv(H.location,de)}}}}T()}function R(){V();for(const U in a){const j=a[U];for(const X in j){const te=j[X];for(const k in te)A(te[k].object),delete te[k];delete j[X]}delete a[U]}}function P(U){if(a[U.id]===void 0)return;const j=a[U.id];for(const X in j){const te=j[X];for(const k in te)A(te[k].object),delete te[k];delete j[X]}delete a[U.id]}function L(U){for(const j in a){const X=a[j];if(X[U.id]===void 0)continue;const te=X[U.id];for(const k in te)A(te[k].object),delete te[k];delete X[U.id]}}function V(){N(),u=!0,c!==l&&(c=l,m(c.object))}function N(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:V,resetDefaultState:N,dispose:R,releaseStatesOfGeometry:P,releaseStatesOfProgram:L,initAttributes:x,enableAttribute:S,disableUnusedAttributes:T}}function rV(t,e,n,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,d){if(d===0)return;let p,m;if(r)p=t,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,d),n.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function sV(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(B){if(B==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";B="mediump"}return B==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),p=t.getParameter(35660),m=t.getParameter(3379),A=t.getParameter(34076),g=t.getParameter(34921),v=t.getParameter(36347),C=t.getParameter(36348),y=t.getParameter(36349),x=p>0,S=o||e.has("OES_texture_float"),I=x&&S,T=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:A,maxAttributes:g,maxVertexUniforms:v,maxVaryings:C,maxFragmentUniforms:y,vertexTextures:x,floatFragmentTextures:S,floatVertexTextures:I,maxSamples:T}}function oV(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new Tr,a=new Zi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=u(d,p,0)},this.setState=function(d,p,m){const A=d.clippingPlanes,g=d.clipIntersection,v=d.clipShadows,C=t.get(d);if(!r||A===null||A.length===0||s&&!v)s?u(null):c();else{const y=s?0:i,x=y*4;let S=C.clippingState||null;l.value=S,S=u(A,p,x,m);for(let I=0;I!==x;++I)S[I]=n[I];C.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,p,m,A){const g=d!==null?d.length:0;let v=null;if(g!==0){if(v=l.value,A!==!0||v===null){const C=m+g*4,y=p.matrixWorldInverse;a.getNormalMatrix(y),(v===null||v.length<C)&&(v=new Float32Array(C));for(let x=0,S=m;x!==g;++x,S+=4)o.copy(d[x]).applyMatrix4(y,a),o.normal.toArray(v,S),v[S+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}}function aV(t){let e=new WeakMap;function n(o,a){return a===Fp?o.mapping=Ml:a===kp&&(o.mapping=Tl),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Fp||a===kp)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new bx(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Rr extends y0{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Ch=4,IS=[.125,.215,.35,.446,.526,.582],Rc=20,Fv=new Rr,_S=new be;let kv=null;const wc=(1+Math.sqrt(5))/2,qu=1/wc,MS=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,wc,qu),new D(0,wc,-qu),new D(qu,0,wc),new D(-qu,0,wc),new D(wc,qu,0),new D(-wc,qu,0)];class p8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){kv=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=bS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=BS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(kv),e.scissorTest=!1,Om(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ml||e.mapping===Tl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),kv=this._renderer.getRenderTarget();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:ln,minFilter:ln,generateMipmaps:!1,type:Jn,format:Un,encoding:bl,depthBuffer:!1},r=TS(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=TS(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=lV(s)),this._blurMaterial=cV(s,e,n)}return r}_compileMaterial(e){const n=new tn(this._lodPlanes[0],e);this._renderer.compile(n,Fv)}_sceneToCubeUV(e,n,i,r){const a=new sn(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(_S),u.toneMapping=Lr,u.autoClear=!1;const m=new Ii({name:"PMREM.Background",side:er,depthWrite:!1,depthTest:!1}),A=new tn(new _a,m);let g=!1;const v=e.background;v?v.isColor&&(m.color.copy(v),e.background=null,g=!0):(m.color.copy(_S),g=!0);for(let C=0;C<6;C++){const y=C%3;y===0?(a.up.set(0,l[C],0),a.lookAt(c[C],0,0)):y===1?(a.up.set(0,0,l[C]),a.lookAt(0,c[C],0)):(a.up.set(0,l[C],0),a.lookAt(0,0,c[C]));const x=this._cubeSize;Om(r,y*x,C>2?x:0,x,x),u.setRenderTarget(r),g&&u.render(A,a),u.render(e,a)}A.geometry.dispose(),A.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=v}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Ml||e.mapping===Tl;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=bS()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=BS());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new tn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Om(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,Fv)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=MS[(r-1)%MS.length];this._blur(e,r-1,r,s,o)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new tn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,A=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Rc-1),g=s/A,v=isFinite(s)?1+Math.floor(u*g):Rc;v>Rc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Rc}`);const C=[];let y=0;for(let B=0;B<Rc;++B){const M=B/g,R=Math.exp(-M*M/2);C.push(R),B===0?y+=R:B<v&&(y+=2*R)}for(let B=0;B<C.length;B++)C[B]=C[B]/y;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=C,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:x}=this;p.dTheta.value=A,p.mipInt.value=x-i;const S=this._sizeLods[r],I=3*S*(r>x-Ch?r-x+Ch:0),T=4*(this._cubeSize-S);Om(n,I,T,3*S,2*S),l.setRenderTarget(n),l.render(d,Fv)}}function lV(t){const e=[],n=[],i=[];let r=t;const s=t-Ch+1+IS.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-Ch?l=IS[o-t+Ch-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,A=6,g=3,v=2,C=1,y=new Float32Array(g*A*m),x=new Float32Array(v*A*m),S=new Float32Array(C*A*m);for(let T=0;T<m;T++){const B=T%3*2/3-1,M=T>2?0:-1,R=[B,M,0,B+2/3,M,0,B+2/3,M+1,0,B,M,0,B+2/3,M+1,0,B,M+1,0];y.set(R,g*A*T),x.set(p,v*A*T);const P=[T,T,T,T,T,T];S.set(P,C*A*T)}const I=new yt;I.setAttribute("position",new Zt(y,g)),I.setAttribute("uv",new Zt(x,v)),I.setAttribute("faceIndex",new Zt(S,C)),e.push(I),r>Ch&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function TS(t,e,n){const i=new cn(t,e,n);return i.texture.mapping=Af,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Om(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function cV(t,e,n){const i=new Float32Array(Rc),r=new D(0,1,0);return new jt({name:"SphericalGaussianBlur",defines:{n:Rc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Rx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Lt,depthTest:!1,depthWrite:!1})}function BS(){return new jt({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Rx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Lt,depthTest:!1,depthWrite:!1})}function bS(){return new jt({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Rx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Lt,depthTest:!1,depthWrite:!1})}function Rx(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function uV(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Fp||l===kp,u=l===Ml||l===Tl;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new p8(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&r(d)){n===null&&(n=new p8(t));const p=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function hV(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function fV(t,e,n,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const A in p.attributes)e.remove(p.attributes[A]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const A in p)e.update(p[A],34962);const m=d.morphAttributes;for(const A in m){const g=m[A];for(let v=0,C=g.length;v<C;v++)e.update(g[v],34962)}}function c(d){const p=[],m=d.index,A=d.attributes.position;let g=0;if(m!==null){const y=m.array;g=m.version;for(let x=0,S=y.length;x<S;x+=3){const I=y[x+0],T=y[x+1],B=y[x+2];p.push(I,T,T,B,B,I)}}else{const y=A.array;g=A.version;for(let x=0,S=y.length/3-1;x<S;x+=3){const I=x+0,T=x+1,B=x+2;p.push(I,T,T,B,B,I)}}const v=new(AR(p)?G2:Tx)(p,1);v.version=g;const C=s.get(d);C&&e.remove(C),s.set(d,v)}function u(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function dV(t,e,n,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){t.drawElements(s,m,a,p*l),n.update(m,s,1)}function d(p,m,A){if(A===0)return;let g,v;if(r)g=t,v="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[v](s,m,a,p*l,A),n.update(m,s,A)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function pV(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function mV(t,e){return t[0]-e[0]}function AV(t,e){return Math.abs(e[1])-Math.abs(t[1])}function gV(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,o=new Qt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=g!==void 0?g.length:0;let C=s.get(u);if(C===void 0||C.count!==v){let X=function(){U.dispose(),s.delete(u),u.removeEventListener("dispose",X)};var A=X;C!==void 0&&C.texture.dispose();const S=u.morphAttributes.position!==void 0,I=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,B=u.morphAttributes.position||[],M=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let P=0;S===!0&&(P=1),I===!0&&(P=2),T===!0&&(P=3);let L=u.attributes.position.count*P,V=1;L>e.maxTextureSize&&(V=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const N=new Float32Array(L*V*4*v),U=new U2(N,L,V,v);U.type=fr,U.needsUpdate=!0;const j=P*4;for(let te=0;te<v;te++){const k=B[te],J=M[te],W=R[te],$=L*V*4*te;for(let H=0;H<k.count;H++){const ne=H*j;S===!0&&(o.fromBufferAttribute(k,H),N[$+ne+0]=o.x,N[$+ne+1]=o.y,N[$+ne+2]=o.z,N[$+ne+3]=0),I===!0&&(o.fromBufferAttribute(J,H),N[$+ne+4]=o.x,N[$+ne+5]=o.y,N[$+ne+6]=o.z,N[$+ne+7]=0),T===!0&&(o.fromBufferAttribute(W,H),N[$+ne+8]=o.x,N[$+ne+9]=o.y,N[$+ne+10]=o.z,N[$+ne+11]=W.itemSize===4?o.w:1)}}C={count:v,texture:U,size:new le(L,V)},s.set(u,C),u.addEventListener("dispose",X)}let y=0;for(let S=0;S<m.length;S++)y+=m[S];const x=u.morphTargetsRelative?1:1-y;p.getUniforms().setValue(t,"morphTargetBaseInfluence",x),p.getUniforms().setValue(t,"morphTargetInfluences",m),p.getUniforms().setValue(t,"morphTargetsTexture",C.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",C.size)}else{const g=m===void 0?0:m.length;let v=i[u.id];if(v===void 0||v.length!==g){v=[];for(let I=0;I<g;I++)v[I]=[I,0];i[u.id]=v}for(let I=0;I<g;I++){const T=v[I];T[0]=I,T[1]=m[I]}v.sort(AV);for(let I=0;I<8;I++)I<g&&v[I][1]?(a[I][0]=v[I][0],a[I][1]=v[I][1]):(a[I][0]=Number.MAX_SAFE_INTEGER,a[I][1]=0);a.sort(mV);const C=u.morphAttributes.position,y=u.morphAttributes.normal;let x=0;for(let I=0;I<8;I++){const T=a[I],B=T[0],M=T[1];B!==Number.MAX_SAFE_INTEGER&&M?(C&&u.getAttribute("morphTarget"+I)!==C[B]&&u.setAttribute("morphTarget"+I,C[B]),y&&u.getAttribute("morphNormal"+I)!==y[B]&&u.setAttribute("morphNormal"+I,y[B]),r[I]=M,x+=M):(C&&u.hasAttribute("morphTarget"+I)===!0&&u.deleteAttribute("morphTarget"+I),y&&u.hasAttribute("morphNormal"+I)===!0&&u.deleteAttribute("morphNormal"+I),r[I]=0)}const S=u.morphTargetsRelative?1:1-x;p.getUniforms().setValue(t,"morphTargetBaseInfluence",S),p.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function vV(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const xR=new yn,CR=new U2,ER=new Mx,SR=new x0,RS=[],PS=[],DS=new Float32Array(16),LS=new Float32Array(9),FS=new Float32Array(4);function yf(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=RS[r];if(s===void 0&&(s=new Float32Array(r),RS[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function ci(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function ui(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function H2(t,e){let n=PS[e];n===void 0&&(n=new Int32Array(e),PS[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function yV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function xV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ci(n,e))return;t.uniform2fv(this.addr,e),ui(n,e)}}function CV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ci(n,e))return;t.uniform3fv(this.addr,e),ui(n,e)}}function EV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ci(n,e))return;t.uniform4fv(this.addr,e),ui(n,e)}}function SV(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ci(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ui(n,e)}else{if(ci(n,i))return;FS.set(i),t.uniformMatrix2fv(this.addr,!1,FS),ui(n,i)}}function wV(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ci(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ui(n,e)}else{if(ci(n,i))return;LS.set(i),t.uniformMatrix3fv(this.addr,!1,LS),ui(n,i)}}function IV(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ci(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ui(n,e)}else{if(ci(n,i))return;DS.set(i),t.uniformMatrix4fv(this.addr,!1,DS),ui(n,i)}}function _V(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function MV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ci(n,e))return;t.uniform2iv(this.addr,e),ui(n,e)}}function TV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ci(n,e))return;t.uniform3iv(this.addr,e),ui(n,e)}}function BV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ci(n,e))return;t.uniform4iv(this.addr,e),ui(n,e)}}function bV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function RV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ci(n,e))return;t.uniform2uiv(this.addr,e),ui(n,e)}}function PV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ci(n,e))return;t.uniform3uiv(this.addr,e),ui(n,e)}}function DV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ci(n,e))return;t.uniform4uiv(this.addr,e),ui(n,e)}}function LV(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||xR,r)}function FV(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||ER,r)}function kV(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||SR,r)}function NV(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||CR,r)}function OV(t){switch(t){case 5126:return yV;case 35664:return xV;case 35665:return CV;case 35666:return EV;case 35674:return SV;case 35675:return wV;case 35676:return IV;case 5124:case 35670:return _V;case 35667:case 35671:return MV;case 35668:case 35672:return TV;case 35669:case 35673:return BV;case 5125:return bV;case 36294:return RV;case 36295:return PV;case 36296:return DV;case 35678:case 36198:case 36298:case 36306:case 35682:return LV;case 35679:case 36299:case 36307:return FV;case 35680:case 36300:case 36308:case 36293:return kV;case 36289:case 36303:case 36311:case 36292:return NV}}function UV(t,e){t.uniform1fv(this.addr,e)}function GV(t,e){const n=yf(e,this.size,2);t.uniform2fv(this.addr,n)}function QV(t,e){const n=yf(e,this.size,3);t.uniform3fv(this.addr,n)}function HV(t,e){const n=yf(e,this.size,4);t.uniform4fv(this.addr,n)}function zV(t,e){const n=yf(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function VV(t,e){const n=yf(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function WV(t,e){const n=yf(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function JV(t,e){t.uniform1iv(this.addr,e)}function jV(t,e){t.uniform2iv(this.addr,e)}function KV(t,e){t.uniform3iv(this.addr,e)}function YV(t,e){t.uniform4iv(this.addr,e)}function XV(t,e){t.uniform1uiv(this.addr,e)}function qV(t,e){t.uniform2uiv(this.addr,e)}function ZV(t,e){t.uniform3uiv(this.addr,e)}function $V(t,e){t.uniform4uiv(this.addr,e)}function eW(t,e,n){const i=this.cache,r=e.length,s=H2(n,r);ci(i,s)||(t.uniform1iv(this.addr,s),ui(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||xR,s[o])}function tW(t,e,n){const i=this.cache,r=e.length,s=H2(n,r);ci(i,s)||(t.uniform1iv(this.addr,s),ui(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||ER,s[o])}function nW(t,e,n){const i=this.cache,r=e.length,s=H2(n,r);ci(i,s)||(t.uniform1iv(this.addr,s),ui(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||SR,s[o])}function iW(t,e,n){const i=this.cache,r=e.length,s=H2(n,r);ci(i,s)||(t.uniform1iv(this.addr,s),ui(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||CR,s[o])}function rW(t){switch(t){case 5126:return UV;case 35664:return GV;case 35665:return QV;case 35666:return HV;case 35674:return zV;case 35675:return VV;case 35676:return WV;case 5124:case 35670:return JV;case 35667:case 35671:return jV;case 35668:case 35672:return KV;case 35669:case 35673:return YV;case 5125:return XV;case 36294:return qV;case 36295:return ZV;case 36296:return $V;case 35678:case 36198:case 36298:case 36306:case 35682:return eW;case 35679:case 36299:case 36307:return tW;case 35680:case 36300:case 36308:case 36293:return nW;case 36289:case 36303:case 36311:case 36292:return iW}}class sW{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.setValue=OV(n.type)}}class oW{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.size=n.size,this.setValue=rW(n.type)}}class aW{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const Nv=/(\w+)(\])?(\[|\.)?/g;function kS(t,e){t.seq.push(e),t.map[e.id]=e}function lW(t,e,n){const i=t.name,r=i.length;for(Nv.lastIndex=0;;){const s=Nv.exec(i),o=Nv.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){kS(n,c===void 0?new sW(a,t,e):new oW(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new aW(a),kS(n,d)),n=d}}}class jA{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);lW(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function NS(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let cW=0;function uW(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function hW(t){switch(t){case bl:return["Linear","( value )"];case hn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function OS(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+uW(t.getShaderSource(e),o)}else return r}function fW(t,e){const n=hW(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function dW(t,e){let n;switch(e){case jb:n="Linear";break;case Kb:n="Reinhard";break;case Yb:n="OptimizedCineon";break;case xx:n="ACESFilmic";break;case Xb:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function pW(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Fd).join(`
`)}function mW(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function AW(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Fd(t){return t!==""}function US(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function GS(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gW=/^[ \t]*#include +<([\w\d./]+)>/gm;function m8(t){return t.replace(gW,vW)}function vW(t,e){const n=Rt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return m8(n)}const yW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function QS(t){return t.replace(yW,xW)}function xW(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function HS(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function CW(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===P2?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===qd?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Nc&&(e="SHADOWMAP_TYPE_VSM"),e}function EW(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ml:case Tl:e="ENVMAP_TYPE_CUBE";break;case Af:e="ENVMAP_TYPE_CUBE_UV";break}return e}function SW(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Tl:e="ENVMAP_MODE_REFRACTION";break}return e}function wW(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case v0:e="ENVMAP_BLENDING_MULTIPLY";break;case Wb:e="ENVMAP_BLENDING_MIX";break;case Jb:e="ENVMAP_BLENDING_ADD";break}return e}function IW(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function _W(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=CW(n),c=EW(n),u=SW(n),d=wW(n),p=IW(n),m=n.isWebGL2?"":pW(n),A=mW(s),g=r.createProgram();let v,C,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=[A].filter(Fd).join(`
`),v.length>0&&(v+=`
`),C=[m,A].filter(Fd).join(`
`),C.length>0&&(C+=`
`)):(v=[HS(n),"#define SHADER_NAME "+n.shaderName,A,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Fd).join(`
`),C=[m,HS(n),"#define SHADER_NAME "+n.shaderName,A,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Lr?"#define TONE_MAPPING":"",n.toneMapping!==Lr?Rt.tonemapping_pars_fragment:"",n.toneMapping!==Lr?dW("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Rt.encodings_pars_fragment,fW("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Fd).join(`
`)),o=m8(o),o=US(o,n),o=GS(o,n),a=m8(a),a=US(a,n),a=GS(a,n),o=QS(o),a=QS(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,C=["#define varying in",n.glslVersion===f8?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===f8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+C);const x=y+v+o,S=y+C+a,I=NS(r,35633,x),T=NS(r,35632,S);if(r.attachShader(g,I),r.attachShader(g,T),n.index0AttributeName!==void 0?r.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),t.debug.checkShaderErrors){const R=r.getProgramInfoLog(g).trim(),P=r.getShaderInfoLog(I).trim(),L=r.getShaderInfoLog(T).trim();let V=!0,N=!0;if(r.getProgramParameter(g,35714)===!1){V=!1;const U=OS(r,I,"vertex"),j=OS(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,35715)+`

Program Info Log: `+R+`
`+U+`
`+j)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(P===""||L==="")&&(N=!1);N&&(this.diagnostics={runnable:V,programLog:R,vertexShader:{log:P,prefix:v},fragmentShader:{log:L,prefix:C}})}r.deleteShader(I),r.deleteShader(T);let B;this.getUniforms=function(){return B===void 0&&(B=new jA(r,g)),B};let M;return this.getAttributes=function(){return M===void 0&&(M=AW(r,g)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=cW++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=I,this.fragmentShader=T,this}let MW=0;class TW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new BW(e),n.set(e,i)),i}}class BW{constructor(e){this.id=MW++,this.code=e,this.usedTimes=0}}function bW(t,e,n,i,r,s,o){const a=new Xc,l=new TW,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(M,R,P,L,V){const N=L.fog,U=V.geometry,j=M.isMeshStandardMaterial?L.environment:null,X=(M.isMeshStandardMaterial?n:e).get(M.envMap||j),te=X&&X.mapping===Af?X.image.height:null,k=A[M.type];M.precision!==null&&(m=r.getMaxPrecision(M.precision),m!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",m,"instead."));const J=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,W=J!==void 0?J.length:0;let $=0;U.morphAttributes.position!==void 0&&($=1),U.morphAttributes.normal!==void 0&&($=2),U.morphAttributes.color!==void 0&&($=3);let H,ne,de,Ae;if(k){const Me=Os[k];H=Me.vertexShader,ne=Me.fragmentShader}else H=M.vertexShader,ne=M.fragmentShader,l.update(M),de=l.getVertexShaderID(M),Ae=l.getFragmentShaderID(M);const q=t.getRenderTarget(),Te=M.alphaTest>0,Pe=M.clearcoat>0,De=M.iridescence>0;return{isWebGL2:u,shaderID:k,shaderName:M.type,vertexShader:H,fragmentShader:ne,defines:M.defines,customVertexShaderID:de,customFragmentShaderID:Ae,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:m,instancing:V.isInstancedMesh===!0,instancingColor:V.isInstancedMesh===!0&&V.instanceColor!==null,supportsVertexTextures:p,outputEncoding:q===null?t.outputEncoding:q.isXRRenderTarget===!0?q.texture.encoding:bl,map:!!M.map,matcap:!!M.matcap,envMap:!!X,envMapMode:X&&X.mapping,envMapCubeUVHeight:te,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===dR,tangentSpaceNormalMap:M.normalMapType===Hl,decodeVideoTexture:!!M.map&&M.map.isVideoTexture===!0&&M.map.encoding===hn,clearcoat:Pe,clearcoatMap:Pe&&!!M.clearcoatMap,clearcoatRoughnessMap:Pe&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:Pe&&!!M.clearcoatNormalMap,iridescence:De,iridescenceMap:De&&!!M.iridescenceMap,iridescenceThicknessMap:De&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:M.transparent===!1&&M.blending===So,alphaMap:!!M.alphaMap,alphaTest:Te,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!U.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.iridescenceMap||!!M.iridescenceThicknessMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||!!M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!N,useFog:M.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:d,skinning:V.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:$,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:M.toneMapped?t.toneMapping:Lr,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===Us,flipSided:M.side===er,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function v(M){const R=[];if(M.shaderID?R.push(M.shaderID):(R.push(M.customVertexShaderID),R.push(M.customFragmentShaderID)),M.defines!==void 0)for(const P in M.defines)R.push(P),R.push(M.defines[P]);return M.isRawShaderMaterial===!1&&(C(R,M),y(R,M),R.push(t.outputEncoding)),R.push(M.customProgramCacheKey),R.join()}function C(M,R){M.push(R.precision),M.push(R.outputEncoding),M.push(R.envMapMode),M.push(R.envMapCubeUVHeight),M.push(R.combine),M.push(R.vertexUvs),M.push(R.fogExp2),M.push(R.sizeAttenuation),M.push(R.morphTargetsCount),M.push(R.morphAttributeCount),M.push(R.numDirLights),M.push(R.numPointLights),M.push(R.numSpotLights),M.push(R.numSpotLightMaps),M.push(R.numHemiLights),M.push(R.numRectAreaLights),M.push(R.numDirLightShadows),M.push(R.numPointLightShadows),M.push(R.numSpotLightShadows),M.push(R.numSpotLightShadowsWithMaps),M.push(R.shadowMapType),M.push(R.toneMapping),M.push(R.numClippingPlanes),M.push(R.numClipIntersection),M.push(R.depthPacking)}function y(M,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),M.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.physicallyCorrectLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),M.push(a.mask)}function x(M){const R=A[M.type];let P;if(R){const L=Os[R];P=Mn.clone(L.uniforms)}else P=M.uniforms;return P}function S(M,R){let P;for(let L=0,V=c.length;L<V;L++){const N=c[L];if(N.cacheKey===R){P=N,++P.usedTimes;break}}return P===void 0&&(P=new _W(t,R,M,s),c.push(P)),P}function I(M){if(--M.usedTimes===0){const R=c.indexOf(M);c[R]=c[c.length-1],c.pop(),M.destroy()}}function T(M){l.remove(M)}function B(){l.dispose()}return{getParameters:g,getProgramCacheKey:v,getUniforms:x,acquireProgram:S,releaseProgram:I,releaseShaderCache:T,programs:c,dispose:B}}function RW(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function i(s,o,a){t.get(s)[o]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function PW(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function zS(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function VS(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(d,p,m,A,g,v){let C=t[e];return C===void 0?(C={id:d.id,object:d,geometry:p,material:m,groupOrder:A,renderOrder:d.renderOrder,z:g,group:v},t[e]=C):(C.id=d.id,C.object=d,C.geometry=p,C.material=m,C.groupOrder=A,C.renderOrder=d.renderOrder,C.z=g,C.group=v),e++,C}function a(d,p,m,A,g,v){const C=o(d,p,m,A,g,v);m.transmission>0?i.push(C):m.transparent===!0?r.push(C):n.push(C)}function l(d,p,m,A,g,v){const C=o(d,p,m,A,g,v);m.transmission>0?i.unshift(C):m.transparent===!0?r.unshift(C):n.unshift(C)}function c(d,p){n.length>1&&n.sort(d||PW),i.length>1&&i.sort(p||zS),r.length>1&&r.sort(p||zS)}function u(){for(let d=e,p=t.length;d<p;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function DW(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new VS,t.set(i,[o])):r>=s.length?(o=new VS,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function LW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new D,color:new be};break;case"SpotLight":n={position:new D,direction:new D,color:new be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new D,color:new be,distance:0,decay:0};break;case"HemisphereLight":n={direction:new D,skyColor:new be,groundColor:new be};break;case"RectAreaLight":n={color:new be,position:new D,halfWidth:new D,halfHeight:new D};break}return t[e.id]=n,n}}}function FW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let kW=0;function NW(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function OW(t,e){const n=new LW,i=FW(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new D);const s=new D,o=new Je,a=new Je;function l(u,d){let p=0,m=0,A=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let g=0,v=0,C=0,y=0,x=0,S=0,I=0,T=0,B=0,M=0;u.sort(NW);const R=d!==!0?Math.PI:1;for(let L=0,V=u.length;L<V;L++){const N=u[L],U=N.color,j=N.intensity,X=N.distance,te=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)p+=U.r*j*R,m+=U.g*j*R,A+=U.b*j*R;else if(N.isLightProbe)for(let k=0;k<9;k++)r.probe[k].addScaledVector(N.sh.coefficients[k],j);else if(N.isDirectionalLight){const k=n.get(N);if(k.color.copy(N.color).multiplyScalar(N.intensity*R),N.castShadow){const J=N.shadow,W=i.get(N);W.shadowBias=J.bias,W.shadowNormalBias=J.normalBias,W.shadowRadius=J.radius,W.shadowMapSize=J.mapSize,r.directionalShadow[g]=W,r.directionalShadowMap[g]=te,r.directionalShadowMatrix[g]=N.shadow.matrix,S++}r.directional[g]=k,g++}else if(N.isSpotLight){const k=n.get(N);k.position.setFromMatrixPosition(N.matrixWorld),k.color.copy(U).multiplyScalar(j*R),k.distance=X,k.coneCos=Math.cos(N.angle),k.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),k.decay=N.decay,r.spot[C]=k;const J=N.shadow;if(N.map&&(r.spotLightMap[B]=N.map,B++,J.updateMatrices(N),N.castShadow&&M++),r.spotLightMatrix[C]=J.matrix,N.castShadow){const W=i.get(N);W.shadowBias=J.bias,W.shadowNormalBias=J.normalBias,W.shadowRadius=J.radius,W.shadowMapSize=J.mapSize,r.spotShadow[C]=W,r.spotShadowMap[C]=te,T++}C++}else if(N.isRectAreaLight){const k=n.get(N);k.color.copy(U).multiplyScalar(j),k.halfWidth.set(N.width*.5,0,0),k.halfHeight.set(0,N.height*.5,0),r.rectArea[y]=k,y++}else if(N.isPointLight){const k=n.get(N);if(k.color.copy(N.color).multiplyScalar(N.intensity*R),k.distance=N.distance,k.decay=N.decay,N.castShadow){const J=N.shadow,W=i.get(N);W.shadowBias=J.bias,W.shadowNormalBias=J.normalBias,W.shadowRadius=J.radius,W.shadowMapSize=J.mapSize,W.shadowCameraNear=J.camera.near,W.shadowCameraFar=J.camera.far,r.pointShadow[v]=W,r.pointShadowMap[v]=te,r.pointShadowMatrix[v]=N.shadow.matrix,I++}r.point[v]=k,v++}else if(N.isHemisphereLight){const k=n.get(N);k.skyColor.copy(N.color).multiplyScalar(j*R),k.groundColor.copy(N.groundColor).multiplyScalar(j*R),r.hemi[x]=k,x++}}y>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ue.LTC_FLOAT_1,r.rectAreaLTC2=Ue.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ue.LTC_HALF_1,r.rectAreaLTC2=Ue.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=A;const P=r.hash;(P.directionalLength!==g||P.pointLength!==v||P.spotLength!==C||P.rectAreaLength!==y||P.hemiLength!==x||P.numDirectionalShadows!==S||P.numPointShadows!==I||P.numSpotShadows!==T||P.numSpotMaps!==B)&&(r.directional.length=g,r.spot.length=C,r.rectArea.length=y,r.point.length=v,r.hemi.length=x,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=I,r.pointShadowMap.length=I,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=I,r.spotLightMatrix.length=T+B-M,r.spotLightMap.length=B,r.numSpotLightShadowsWithMaps=M,P.directionalLength=g,P.pointLength=v,P.spotLength=C,P.rectAreaLength=y,P.hemiLength=x,P.numDirectionalShadows=S,P.numPointShadows=I,P.numSpotShadows=T,P.numSpotMaps=B,r.version=kW++)}function c(u,d){let p=0,m=0,A=0,g=0,v=0;const C=d.matrixWorldInverse;for(let y=0,x=u.length;y<x;y++){const S=u[y];if(S.isDirectionalLight){const I=r.directional[p];I.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(C),p++}else if(S.isSpotLight){const I=r.spot[A];I.position.setFromMatrixPosition(S.matrixWorld),I.position.applyMatrix4(C),I.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(C),A++}else if(S.isRectAreaLight){const I=r.rectArea[g];I.position.setFromMatrixPosition(S.matrixWorld),I.position.applyMatrix4(C),a.identity(),o.copy(S.matrixWorld),o.premultiply(C),a.extractRotation(o),I.halfWidth.set(S.width*.5,0,0),I.halfHeight.set(0,S.height*.5,0),I.halfWidth.applyMatrix4(a),I.halfHeight.applyMatrix4(a),g++}else if(S.isPointLight){const I=r.point[m];I.position.setFromMatrixPosition(S.matrixWorld),I.position.applyMatrix4(C),m++}else if(S.isHemisphereLight){const I=r.hemi[v];I.direction.setFromMatrixPosition(S.matrixWorld),I.direction.transformDirection(C),v++}}}return{setup:l,setupView:c,state:r}}function WS(t,e){const n=new OW(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){n.setup(i,d)}function c(d){n.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function UW(t,e){let n=new WeakMap;function i(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new WS(t,e),n.set(s,[l])):o>=a.length?(l=new WS(t,e),a.push(l)):l=a[o],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class z2 extends Zn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Px extends Zn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new D,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const GW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,QW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function HW(t,e,n){let i=new Q2;const r=new le,s=new le,o=new Qt,a=new z2({depthPacking:wx}),l=new Px,c={},u=n.maxTextureSize,d={[Po]:er,[er]:Po,[Us]:Us},p=new jt({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new le},radius:{value:4}},vertexShader:GW,fragmentShader:QW}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const A=new yt;A.setAttribute("position",new Zt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new tn(A,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=P2,this.render=function(S,I,T){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||S.length===0)return;const B=t.getRenderTarget(),M=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),P=t.state;P.setBlending(Lt),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);for(let L=0,V=S.length;L<V;L++){const N=S[L],U=N.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;r.copy(U.mapSize);const j=U.getFrameExtents();if(r.multiply(j),s.copy(U.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/j.x),r.x=s.x*j.x,U.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/j.y),r.y=s.y*j.y,U.mapSize.y=s.y)),U.map===null){const te=this.type!==Nc?{minFilter:vt,magFilter:vt}:{};U.map=new cn(r.x,r.y,te),U.map.texture.name=N.name+".shadowMap",U.camera.updateProjectionMatrix()}t.setRenderTarget(U.map),t.clear();const X=U.getViewportCount();for(let te=0;te<X;te++){const k=U.getViewport(te);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),P.viewport(o),U.updateMatrices(N,te),i=U.getFrustum(),x(I,T,U.camera,N,this.type)}U.isPointLightShadow!==!0&&this.type===Nc&&C(U,T),U.needsUpdate=!1}v.needsUpdate=!1,t.setRenderTarget(B,M,R)};function C(S,I){const T=e.update(g);p.defines.VSM_SAMPLES!==S.blurSamples&&(p.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new cn(r.x,r.y)),p.uniforms.shadow_pass.value=S.map.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,t.setRenderTarget(S.mapPass),t.clear(),t.renderBufferDirect(I,null,T,p,g,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,t.setRenderTarget(S.map),t.clear(),t.renderBufferDirect(I,null,T,m,g,null)}function y(S,I,T,B,M,R){let P=null;const L=T.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(L!==void 0)P=L;else if(P=T.isPointLight===!0?l:a,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const V=P.uuid,N=I.uuid;let U=c[V];U===void 0&&(U={},c[V]=U);let j=U[N];j===void 0&&(j=P.clone(),U[N]=j),P=j}return P.visible=I.visible,P.wireframe=I.wireframe,R===Nc?P.side=I.shadowSide!==null?I.shadowSide:I.side:P.side=I.shadowSide!==null?I.shadowSide:d[I.side],P.alphaMap=I.alphaMap,P.alphaTest=I.alphaTest,P.map=I.map,P.clipShadows=I.clipShadows,P.clippingPlanes=I.clippingPlanes,P.clipIntersection=I.clipIntersection,P.displacementMap=I.displacementMap,P.displacementScale=I.displacementScale,P.displacementBias=I.displacementBias,P.wireframeLinewidth=I.wireframeLinewidth,P.linewidth=I.linewidth,T.isPointLight===!0&&P.isMeshDistanceMaterial===!0&&(P.referencePosition.setFromMatrixPosition(T.matrixWorld),P.nearDistance=B,P.farDistance=M),P}function x(S,I,T,B,M){if(S.visible===!1)return;if(S.layers.test(I.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&M===Nc)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,S.matrixWorld);const L=e.update(S),V=S.material;if(Array.isArray(V)){const N=L.groups;for(let U=0,j=N.length;U<j;U++){const X=N[U],te=V[X.materialIndex];if(te&&te.visible){const k=y(S,te,B,T.near,T.far,M);t.renderBufferDirect(T,null,L,k,S,X)}}}else if(V.visible){const N=y(S,V,B,T.near,T.far,M);t.renderBufferDirect(T,null,L,N,S,null)}}const P=S.children;for(let L=0,V=P.length;L<V;L++)x(P[L],I,T,B,M)}}function zW(t,e,n){const i=n.isWebGL2;function r(){let K=!1;const ae=new Qt;let Se=null;const Ne=new Qt(0,0,0,0);return{setMask:function(it){Se!==it&&!K&&(t.colorMask(it,it,it,it),Se=it)},setLocked:function(it){K=it},setClear:function(it,Ft,$t,rn,Hi){Hi===!0&&(it*=rn,Ft*=rn,$t*=rn),ae.set(it,Ft,$t,rn),Ne.equals(ae)===!1&&(t.clearColor(it,Ft,$t,rn),Ne.copy(ae))},reset:function(){K=!1,Se=null,Ne.set(-1,0,0,0)}}}function s(){let K=!1,ae=null,Se=null,Ne=null;return{setTest:function(it){it?Te(2929):Pe(2929)},setMask:function(it){ae!==it&&!K&&(t.depthMask(it),ae=it)},setFunc:function(it){if(Se!==it){switch(it){case Ob:t.depthFunc(512);break;case Ub:t.depthFunc(519);break;case Gb:t.depthFunc(513);break;case Rg:t.depthFunc(515);break;case Qb:t.depthFunc(514);break;case Hb:t.depthFunc(518);break;case zb:t.depthFunc(516);break;case Vb:t.depthFunc(517);break;default:t.depthFunc(515)}Se=it}},setLocked:function(it){K=it},setClear:function(it){Ne!==it&&(t.clearDepth(it),Ne=it)},reset:function(){K=!1,ae=null,Se=null,Ne=null}}}function o(){let K=!1,ae=null,Se=null,Ne=null,it=null,Ft=null,$t=null,rn=null,Hi=null;return{setTest:function(Wt){K||(Wt?Te(2960):Pe(2960))},setMask:function(Wt){ae!==Wt&&!K&&(t.stencilMask(Wt),ae=Wt)},setFunc:function(Wt,fi,$n){(Se!==Wt||Ne!==fi||it!==$n)&&(t.stencilFunc(Wt,fi,$n),Se=Wt,Ne=fi,it=$n)},setOp:function(Wt,fi,$n){(Ft!==Wt||$t!==fi||rn!==$n)&&(t.stencilOp(Wt,fi,$n),Ft=Wt,$t=fi,rn=$n)},setLocked:function(Wt){K=Wt},setClear:function(Wt){Hi!==Wt&&(t.clearStencil(Wt),Hi=Wt)},reset:function(){K=!1,ae=null,Se=null,Ne=null,it=null,Ft=null,$t=null,rn=null,Hi=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let p={},m={},A=new WeakMap,g=[],v=null,C=!1,y=null,x=null,S=null,I=null,T=null,B=null,M=null,R=!1,P=null,L=null,V=null,N=null,U=null;const j=t.getParameter(35661);let X=!1,te=0;const k=t.getParameter(7938);k.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(k)[1]),X=te>=1):k.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),X=te>=2);let J=null,W={};const $=t.getParameter(3088),H=t.getParameter(2978),ne=new Qt().fromArray($),de=new Qt().fromArray(H);function Ae(K,ae,Se){const Ne=new Uint8Array(4),it=t.createTexture();t.bindTexture(K,it),t.texParameteri(K,10241,9728),t.texParameteri(K,10240,9728);for(let Ft=0;Ft<Se;Ft++)t.texImage2D(ae+Ft,0,6408,1,1,0,6408,5121,Ne);return it}const q={};q[3553]=Ae(3553,3553,1),q[34067]=Ae(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Te(2929),l.setFunc(Rg),ke(!1),tt(zy),Te(2884),_e(Lt);function Te(K){p[K]!==!0&&(t.enable(K),p[K]=!0)}function Pe(K){p[K]!==!1&&(t.disable(K),p[K]=!1)}function De(K,ae){return m[K]!==ae?(t.bindFramebuffer(K,ae),m[K]=ae,i&&(K===36009&&(m[36160]=ae),K===36160&&(m[36009]=ae)),!0):!1}function Ce(K,ae){let Se=g,Ne=!1;if(K)if(Se=A.get(ae),Se===void 0&&(Se=[],A.set(ae,Se)),K.isWebGLMultipleRenderTargets){const it=K.texture;if(Se.length!==it.length||Se[0]!==36064){for(let Ft=0,$t=it.length;Ft<$t;Ft++)Se[Ft]=36064+Ft;Se.length=it.length,Ne=!0}}else Se[0]!==36064&&(Se[0]=36064,Ne=!0);else Se[0]!==1029&&(Se[0]=1029,Ne=!0);Ne&&(n.isWebGL2?t.drawBuffers(Se):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Se))}function Me(K){return v!==K?(t.useProgram(K),v=K,!0):!1}const ue={[Br]:32774,[bb]:32778,[Rb]:32779};if(i)ue[Jy]=32775,ue[jy]=32776;else{const K=e.get("EXT_blend_minmax");K!==null&&(ue[Jy]=K.MIN_EXT,ue[jy]=K.MAX_EXT)}const oe={[Kh]:0,[Pb]:1,[Db]:768,[Dp]:770,[Nb]:776,[L2]:774,[D2]:772,[Lb]:769,[Lp]:771,[kb]:775,[Fb]:773};function _e(K,ae,Se,Ne,it,Ft,$t,rn){if(K===Lt){C===!0&&(Pe(3042),C=!1);return}if(C===!1&&(Te(3042),C=!0),K!==Pp){if(K!==y||rn!==R){if((x!==Br||T!==Br)&&(t.blendEquation(32774),x=Br,T=Br),rn)switch(K){case So:t.blendFuncSeparate(1,771,1,771);break;case Rp:t.blendFunc(1,1);break;case Vy:t.blendFuncSeparate(0,769,0,1);break;case Wy:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}else switch(K){case So:t.blendFuncSeparate(770,771,1,771);break;case Rp:t.blendFunc(770,1);break;case Vy:t.blendFuncSeparate(0,769,0,1);break;case Wy:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}S=null,I=null,B=null,M=null,y=K,R=rn}return}it=it||ae,Ft=Ft||Se,$t=$t||Ne,(ae!==x||it!==T)&&(t.blendEquationSeparate(ue[ae],ue[it]),x=ae,T=it),(Se!==S||Ne!==I||Ft!==B||$t!==M)&&(t.blendFuncSeparate(oe[Se],oe[Ne],oe[Ft],oe[$t]),S=Se,I=Ne,B=Ft,M=$t),y=K,R=!1}function He(K,ae){K.side===Us?Pe(2884):Te(2884);let Se=K.side===er;ae&&(Se=!Se),ke(Se),K.blending===So&&K.transparent===!1?_e(Lt):_e(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.premultipliedAlpha),l.setFunc(K.depthFunc),l.setTest(K.depthTest),l.setMask(K.depthWrite),a.setMask(K.colorWrite);const Ne=K.stencilWrite;c.setTest(Ne),Ne&&(c.setMask(K.stencilWriteMask),c.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),c.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),Ye(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),K.alphaToCoverage===!0?Te(32926):Pe(32926)}function ke(K){P!==K&&(K?t.frontFace(2304):t.frontFace(2305),P=K)}function tt(K){K!==Mb?(Te(2884),K!==L&&(K===zy?t.cullFace(1029):K===Tb?t.cullFace(1028):t.cullFace(1032))):Pe(2884),L=K}function et(K){K!==V&&(X&&t.lineWidth(K),V=K)}function Ye(K,ae,Se){K?(Te(32823),(N!==ae||U!==Se)&&(t.polygonOffset(ae,Se),N=ae,U=Se)):Pe(32823)}function _t(K){K?Te(3089):Pe(3089)}function Mt(K){K===void 0&&(K=33984+j-1),J!==K&&(t.activeTexture(K),J=K)}function Q(K,ae,Se){Se===void 0&&(J===null?Se=33984+j-1:Se=J);let Ne=W[Se];Ne===void 0&&(Ne={type:void 0,texture:void 0},W[Se]=Ne),(Ne.type!==K||Ne.texture!==ae)&&(J!==Se&&(t.activeTexture(Se),J=Se),t.bindTexture(K,ae||q[K]),Ne.type=K,Ne.texture=ae)}function F(){const K=W[J];K!==void 0&&K.type!==void 0&&(t.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)}function ce(){try{t.compressedTexImage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Re(){try{t.texSubImage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Fe(){try{t.texSubImage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ct(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Oe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ge(){try{t.texStorage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ze(){try{t.texStorage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function st(){try{t.texImage2D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Xe(){try{t.texImage3D.apply(t,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function lt(K){ne.equals(K)===!1&&(t.scissor(K.x,K.y,K.z,K.w),ne.copy(K))}function nt(K){de.equals(K)===!1&&(t.viewport(K.x,K.y,K.z,K.w),de.copy(K))}function Y(K,ae){let Se=d.get(ae);Se===void 0&&(Se=new WeakMap,d.set(ae,Se));let Ne=Se.get(K);Ne===void 0&&(Ne=t.getUniformBlockIndex(ae,K.name),Se.set(K,Ne))}function Ee(K,ae){const Ne=d.get(ae).get(K);u.get(ae)!==Ne&&(t.uniformBlockBinding(ae,Ne,K.__bindingPointIndex),u.set(ae,Ne))}function ze(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),i===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},J=null,W={},m={},A=new WeakMap,g=[],v=null,C=!1,y=null,x=null,S=null,I=null,T=null,B=null,M=null,R=!1,P=null,L=null,V=null,N=null,U=null,ne.set(0,0,t.canvas.width,t.canvas.height),de.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Te,disable:Pe,bindFramebuffer:De,drawBuffers:Ce,useProgram:Me,setBlending:_e,setMaterial:He,setFlipSided:ke,setCullFace:tt,setLineWidth:et,setPolygonOffset:Ye,setScissorTest:_t,activeTexture:Mt,bindTexture:Q,unbindTexture:F,compressedTexImage2D:ce,compressedTexImage3D:Ie,texImage2D:st,texImage3D:Xe,updateUBOMapping:Y,uniformBlockBinding:Ee,texStorage2D:ge,texStorage3D:Ze,texSubImage2D:Re,texSubImage3D:Fe,compressedTexSubImage2D:ct,compressedTexSubImage3D:Oe,scissor:lt,viewport:nt,reset:ze}}function VW(t,e,n,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),A=new WeakMap;let g;const v=new WeakMap;let C=!1;try{C=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(Q,F){return C?new OffscreenCanvas(Q,F):Jp("canvas")}function x(Q,F,ce,Ie){let Re=1;if((Q.width>Ie||Q.height>Ie)&&(Re=Ie/Math.max(Q.width,Q.height)),Re<1||F===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const Fe=F?Lg:Math.floor,ct=Fe(Re*Q.width),Oe=Fe(Re*Q.height);g===void 0&&(g=y(ct,Oe));const ge=ce?y(ct,Oe):g;return ge.width=ct,ge.height=Oe,ge.getContext("2d").drawImage(Q,0,0,ct,Oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+ct+"x"+Oe+")."),ge}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function S(Q){return d8(Q.width)&&d8(Q.height)}function I(Q){return a?!1:Q.wrapS!==_n||Q.wrapT!==_n||Q.minFilter!==vt&&Q.minFilter!==ln}function T(Q,F){return Q.generateMipmaps&&F&&Q.minFilter!==vt&&Q.minFilter!==ln}function B(Q){t.generateMipmap(Q)}function M(Q,F,ce,Ie,Re=!1){if(a===!1)return F;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Fe=F;return F===6403&&(ce===5126&&(Fe=33326),ce===5131&&(Fe=33325),ce===5121&&(Fe=33321)),F===33319&&(ce===5126&&(Fe=33328),ce===5131&&(Fe=33327),ce===5121&&(Fe=33323)),F===6408&&(ce===5126&&(Fe=34836),ce===5131&&(Fe=34842),ce===5121&&(Fe=Ie===hn&&Re===!1?35907:32856),ce===32819&&(Fe=32854),ce===32820&&(Fe=32855)),(Fe===33325||Fe===33326||Fe===33327||Fe===33328||Fe===34842||Fe===34836)&&e.get("EXT_color_buffer_float"),Fe}function R(Q,F,ce){return T(Q,ce)===!0||Q.isFramebufferTexture&&Q.minFilter!==vt&&Q.minFilter!==ln?Math.log2(Math.max(F.width,F.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?F.mipmaps.length:1}function P(Q){return Q===vt||Q===Np||Q===Dh?9728:9729}function L(Q){const F=Q.target;F.removeEventListener("dispose",L),N(F),F.isVideoTexture&&A.delete(F)}function V(Q){const F=Q.target;F.removeEventListener("dispose",V),j(F)}function N(Q){const F=i.get(Q);if(F.__webglInit===void 0)return;const ce=Q.source,Ie=v.get(ce);if(Ie){const Re=Ie[F.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&U(Q),Object.keys(Ie).length===0&&v.delete(ce)}i.remove(Q)}function U(Q){const F=i.get(Q);t.deleteTexture(F.__webglTexture);const ce=Q.source,Ie=v.get(ce);delete Ie[F.__cacheKey],o.memory.textures--}function j(Q){const F=Q.texture,ce=i.get(Q),Ie=i.get(F);if(Ie.__webglTexture!==void 0&&(t.deleteTexture(Ie.__webglTexture),o.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++)t.deleteFramebuffer(ce.__webglFramebuffer[Re]),ce.__webglDepthbuffer&&t.deleteRenderbuffer(ce.__webglDepthbuffer[Re]);else{if(t.deleteFramebuffer(ce.__webglFramebuffer),ce.__webglDepthbuffer&&t.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let Re=0;Re<ce.__webglColorRenderbuffer.length;Re++)ce.__webglColorRenderbuffer[Re]&&t.deleteRenderbuffer(ce.__webglColorRenderbuffer[Re]);ce.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Re=0,Fe=F.length;Re<Fe;Re++){const ct=i.get(F[Re]);ct.__webglTexture&&(t.deleteTexture(ct.__webglTexture),o.memory.textures--),i.remove(F[Re])}i.remove(F),i.remove(Q)}let X=0;function te(){X=0}function k(){const Q=X;return Q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+l),X+=1,Q}function J(Q){const F=[];return F.push(Q.wrapS),F.push(Q.wrapT),F.push(Q.wrapR||0),F.push(Q.magFilter),F.push(Q.minFilter),F.push(Q.anisotropy),F.push(Q.internalFormat),F.push(Q.format),F.push(Q.type),F.push(Q.generateMipmaps),F.push(Q.premultiplyAlpha),F.push(Q.flipY),F.push(Q.unpackAlignment),F.push(Q.encoding),F.join()}function W(Q,F){const ce=i.get(Q);if(Q.isVideoTexture&&_t(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&ce.__version!==Q.version){const Ie=Q.image;if(Ie===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ie.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Pe(ce,Q,F);return}}n.bindTexture(3553,ce.__webglTexture,33984+F)}function $(Q,F){const ce=i.get(Q);if(Q.version>0&&ce.__version!==Q.version){Pe(ce,Q,F);return}n.bindTexture(35866,ce.__webglTexture,33984+F)}function H(Q,F){const ce=i.get(Q);if(Q.version>0&&ce.__version!==Q.version){Pe(ce,Q,F);return}n.bindTexture(32879,ce.__webglTexture,33984+F)}function ne(Q,F){const ce=i.get(Q);if(Q.version>0&&ce.__version!==Q.version){De(ce,Q,F);return}n.bindTexture(34067,ce.__webglTexture,33984+F)}const de={[ys]:10497,[_n]:33071,[Yh]:33648},Ae={[vt]:9728,[Np]:9984,[Dh]:9986,[ln]:9729,[k2]:9985,[xs]:9987};function q(Q,F,ce){if(ce?(t.texParameteri(Q,10242,de[F.wrapS]),t.texParameteri(Q,10243,de[F.wrapT]),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,de[F.wrapR]),t.texParameteri(Q,10240,Ae[F.magFilter]),t.texParameteri(Q,10241,Ae[F.minFilter])):(t.texParameteri(Q,10242,33071),t.texParameteri(Q,10243,33071),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,33071),(F.wrapS!==_n||F.wrapT!==_n)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,10240,P(F.magFilter)),t.texParameteri(Q,10241,P(F.minFilter)),F.minFilter!==vt&&F.minFilter!==ln&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ie=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===vt||F.minFilter!==Dh&&F.minFilter!==xs||F.type===fr&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===Jn&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||i.get(F).__currentAnisotropy)&&(t.texParameterf(Q,Ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy)}}function Te(Q,F){let ce=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,F.addEventListener("dispose",L));const Ie=F.source;let Re=v.get(Ie);Re===void 0&&(Re={},v.set(Ie,Re));const Fe=J(F);if(Fe!==Q.__cacheKey){Re[Fe]===void 0&&(Re[Fe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ce=!0),Re[Fe].usedTimes++;const ct=Re[Q.__cacheKey];ct!==void 0&&(Re[Q.__cacheKey].usedTimes--,ct.usedTimes===0&&U(F)),Q.__cacheKey=Fe,Q.__webglTexture=Re[Fe].texture}return ce}function Pe(Q,F,ce){let Ie=3553;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Ie=35866),F.isData3DTexture&&(Ie=32879);const Re=Te(Q,F),Fe=F.source;n.bindTexture(Ie,Q.__webglTexture,33984+ce);const ct=i.get(Fe);if(Fe.version!==ct.__version||Re===!0){n.activeTexture(33984+ce),t.pixelStorei(37440,F.flipY),t.pixelStorei(37441,F.premultiplyAlpha),t.pixelStorei(3317,F.unpackAlignment),t.pixelStorei(37443,0);const Oe=I(F)&&S(F.image)===!1;let ge=x(F.image,Oe,!1,u);ge=Mt(F,ge);const Ze=S(ge)||a,st=s.convert(F.format,F.encoding);let Xe=s.convert(F.type),lt=M(F.internalFormat,st,Xe,F.encoding,F.isVideoTexture);q(Ie,F,Ze);let nt;const Y=F.mipmaps,Ee=a&&F.isVideoTexture!==!0,ze=ct.__version===void 0||Re===!0,K=R(F,ge,Ze);if(F.isDepthTexture)lt=6402,a?F.type===fr?lt=36012:F.type===cl?lt=33190:F.type===xl?lt=35056:lt=33189:F.type===fr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===Cl&&lt===6402&&F.type!==gf&&F.type!==cl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=cl,Xe=s.convert(F.type)),F.format===Bl&&lt===6402&&(lt=34041,F.type!==xl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=xl,Xe=s.convert(F.type))),ze&&(Ee?n.texStorage2D(3553,1,lt,ge.width,ge.height):n.texImage2D(3553,0,lt,ge.width,ge.height,0,st,Xe,null));else if(F.isDataTexture)if(Y.length>0&&Ze){Ee&&ze&&n.texStorage2D(3553,K,lt,Y[0].width,Y[0].height);for(let ae=0,Se=Y.length;ae<Se;ae++)nt=Y[ae],Ee?n.texSubImage2D(3553,ae,0,0,nt.width,nt.height,st,Xe,nt.data):n.texImage2D(3553,ae,lt,nt.width,nt.height,0,st,Xe,nt.data);F.generateMipmaps=!1}else Ee?(ze&&n.texStorage2D(3553,K,lt,ge.width,ge.height),n.texSubImage2D(3553,0,0,0,ge.width,ge.height,st,Xe,ge.data)):n.texImage2D(3553,0,lt,ge.width,ge.height,0,st,Xe,ge.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Ee&&ze&&n.texStorage3D(35866,K,lt,Y[0].width,Y[0].height,ge.depth);for(let ae=0,Se=Y.length;ae<Se;ae++)nt=Y[ae],F.format!==Un?st!==null?Ee?n.compressedTexSubImage3D(35866,ae,0,0,0,nt.width,nt.height,ge.depth,st,nt.data,0,0):n.compressedTexImage3D(35866,ae,lt,nt.width,nt.height,ge.depth,0,nt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ee?n.texSubImage3D(35866,ae,0,0,0,nt.width,nt.height,ge.depth,st,Xe,nt.data):n.texImage3D(35866,ae,lt,nt.width,nt.height,ge.depth,0,st,Xe,nt.data)}else{Ee&&ze&&n.texStorage2D(3553,K,lt,Y[0].width,Y[0].height);for(let ae=0,Se=Y.length;ae<Se;ae++)nt=Y[ae],F.format!==Un?st!==null?Ee?n.compressedTexSubImage2D(3553,ae,0,0,nt.width,nt.height,st,nt.data):n.compressedTexImage2D(3553,ae,lt,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ee?n.texSubImage2D(3553,ae,0,0,nt.width,nt.height,st,Xe,nt.data):n.texImage2D(3553,ae,lt,nt.width,nt.height,0,st,Xe,nt.data)}else if(F.isDataArrayTexture)Ee?(ze&&n.texStorage3D(35866,K,lt,ge.width,ge.height,ge.depth),n.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,st,Xe,ge.data)):n.texImage3D(35866,0,lt,ge.width,ge.height,ge.depth,0,st,Xe,ge.data);else if(F.isData3DTexture)Ee?(ze&&n.texStorage3D(32879,K,lt,ge.width,ge.height,ge.depth),n.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,st,Xe,ge.data)):n.texImage3D(32879,0,lt,ge.width,ge.height,ge.depth,0,st,Xe,ge.data);else if(F.isFramebufferTexture){if(ze)if(Ee)n.texStorage2D(3553,K,lt,ge.width,ge.height);else{let ae=ge.width,Se=ge.height;for(let Ne=0;Ne<K;Ne++)n.texImage2D(3553,Ne,lt,ae,Se,0,st,Xe,null),ae>>=1,Se>>=1}}else if(Y.length>0&&Ze){Ee&&ze&&n.texStorage2D(3553,K,lt,Y[0].width,Y[0].height);for(let ae=0,Se=Y.length;ae<Se;ae++)nt=Y[ae],Ee?n.texSubImage2D(3553,ae,0,0,st,Xe,nt):n.texImage2D(3553,ae,lt,st,Xe,nt);F.generateMipmaps=!1}else Ee?(ze&&n.texStorage2D(3553,K,lt,ge.width,ge.height),n.texSubImage2D(3553,0,0,0,st,Xe,ge)):n.texImage2D(3553,0,lt,st,Xe,ge);T(F,Ze)&&B(Ie),ct.__version=Fe.version,F.onUpdate&&F.onUpdate(F)}Q.__version=F.version}function De(Q,F,ce){if(F.image.length!==6)return;const Ie=Te(Q,F),Re=F.source;n.bindTexture(34067,Q.__webglTexture,33984+ce);const Fe=i.get(Re);if(Re.version!==Fe.__version||Ie===!0){n.activeTexture(33984+ce),t.pixelStorei(37440,F.flipY),t.pixelStorei(37441,F.premultiplyAlpha),t.pixelStorei(3317,F.unpackAlignment),t.pixelStorei(37443,0);const ct=F.isCompressedTexture||F.image[0].isCompressedTexture,Oe=F.image[0]&&F.image[0].isDataTexture,ge=[];for(let ae=0;ae<6;ae++)!ct&&!Oe?ge[ae]=x(F.image[ae],!1,!0,c):ge[ae]=Oe?F.image[ae].image:F.image[ae],ge[ae]=Mt(F,ge[ae]);const Ze=ge[0],st=S(Ze)||a,Xe=s.convert(F.format,F.encoding),lt=s.convert(F.type),nt=M(F.internalFormat,Xe,lt,F.encoding),Y=a&&F.isVideoTexture!==!0,Ee=Fe.__version===void 0||Ie===!0;let ze=R(F,Ze,st);q(34067,F,st);let K;if(ct){Y&&Ee&&n.texStorage2D(34067,ze,nt,Ze.width,Ze.height);for(let ae=0;ae<6;ae++){K=ge[ae].mipmaps;for(let Se=0;Se<K.length;Se++){const Ne=K[Se];F.format!==Un?Xe!==null?Y?n.compressedTexSubImage2D(34069+ae,Se,0,0,Ne.width,Ne.height,Xe,Ne.data):n.compressedTexImage2D(34069+ae,Se,nt,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Y?n.texSubImage2D(34069+ae,Se,0,0,Ne.width,Ne.height,Xe,lt,Ne.data):n.texImage2D(34069+ae,Se,nt,Ne.width,Ne.height,0,Xe,lt,Ne.data)}}}else{K=F.mipmaps,Y&&Ee&&(K.length>0&&ze++,n.texStorage2D(34067,ze,nt,ge[0].width,ge[0].height));for(let ae=0;ae<6;ae++)if(Oe){Y?n.texSubImage2D(34069+ae,0,0,0,ge[ae].width,ge[ae].height,Xe,lt,ge[ae].data):n.texImage2D(34069+ae,0,nt,ge[ae].width,ge[ae].height,0,Xe,lt,ge[ae].data);for(let Se=0;Se<K.length;Se++){const it=K[Se].image[ae].image;Y?n.texSubImage2D(34069+ae,Se+1,0,0,it.width,it.height,Xe,lt,it.data):n.texImage2D(34069+ae,Se+1,nt,it.width,it.height,0,Xe,lt,it.data)}}else{Y?n.texSubImage2D(34069+ae,0,0,0,Xe,lt,ge[ae]):n.texImage2D(34069+ae,0,nt,Xe,lt,ge[ae]);for(let Se=0;Se<K.length;Se++){const Ne=K[Se];Y?n.texSubImage2D(34069+ae,Se+1,0,0,Xe,lt,Ne.image[ae]):n.texImage2D(34069+ae,Se+1,nt,Xe,lt,Ne.image[ae])}}}T(F,st)&&B(34067),Fe.__version=Re.version,F.onUpdate&&F.onUpdate(F)}Q.__version=F.version}function Ce(Q,F,ce,Ie,Re){const Fe=s.convert(ce.format,ce.encoding),ct=s.convert(ce.type),Oe=M(ce.internalFormat,Fe,ct,ce.encoding);i.get(F).__hasExternalTextures||(Re===32879||Re===35866?n.texImage3D(Re,0,Oe,F.width,F.height,F.depth,0,Fe,ct,null):n.texImage2D(Re,0,Oe,F.width,F.height,0,Fe,ct,null)),n.bindFramebuffer(36160,Q),Ye(F)?p.framebufferTexture2DMultisampleEXT(36160,Ie,Re,i.get(ce).__webglTexture,0,et(F)):(Re===3553||Re>=34069&&Re<=34074)&&t.framebufferTexture2D(36160,Ie,Re,i.get(ce).__webglTexture,0),n.bindFramebuffer(36160,null)}function Me(Q,F,ce){if(t.bindRenderbuffer(36161,Q),F.depthBuffer&&!F.stencilBuffer){let Ie=33189;if(ce||Ye(F)){const Re=F.depthTexture;Re&&Re.isDepthTexture&&(Re.type===fr?Ie=36012:Re.type===cl&&(Ie=33190));const Fe=et(F);Ye(F)?p.renderbufferStorageMultisampleEXT(36161,Fe,Ie,F.width,F.height):t.renderbufferStorageMultisample(36161,Fe,Ie,F.width,F.height)}else t.renderbufferStorage(36161,Ie,F.width,F.height);t.framebufferRenderbuffer(36160,36096,36161,Q)}else if(F.depthBuffer&&F.stencilBuffer){const Ie=et(F);ce&&Ye(F)===!1?t.renderbufferStorageMultisample(36161,Ie,35056,F.width,F.height):Ye(F)?p.renderbufferStorageMultisampleEXT(36161,Ie,35056,F.width,F.height):t.renderbufferStorage(36161,34041,F.width,F.height),t.framebufferRenderbuffer(36160,33306,36161,Q)}else{const Ie=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Re=0;Re<Ie.length;Re++){const Fe=Ie[Re],ct=s.convert(Fe.format,Fe.encoding),Oe=s.convert(Fe.type),ge=M(Fe.internalFormat,ct,Oe,Fe.encoding),Ze=et(F);ce&&Ye(F)===!1?t.renderbufferStorageMultisample(36161,Ze,ge,F.width,F.height):Ye(F)?p.renderbufferStorageMultisampleEXT(36161,Ze,ge,F.width,F.height):t.renderbufferStorage(36161,ge,F.width,F.height)}}t.bindRenderbuffer(36161,null)}function ue(Q,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Q),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),W(F.depthTexture,0);const Ie=i.get(F.depthTexture).__webglTexture,Re=et(F);if(F.depthTexture.format===Cl)Ye(F)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ie,0,Re):t.framebufferTexture2D(36160,36096,3553,Ie,0);else if(F.depthTexture.format===Bl)Ye(F)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ie,0,Re):t.framebufferTexture2D(36160,33306,3553,Ie,0);else throw new Error("Unknown depthTexture format")}function oe(Q){const F=i.get(Q),ce=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!F.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");ue(F.__webglFramebuffer,Q)}else if(ce){F.__webglDepthbuffer=[];for(let Ie=0;Ie<6;Ie++)n.bindFramebuffer(36160,F.__webglFramebuffer[Ie]),F.__webglDepthbuffer[Ie]=t.createRenderbuffer(),Me(F.__webglDepthbuffer[Ie],Q,!1)}else n.bindFramebuffer(36160,F.__webglFramebuffer),F.__webglDepthbuffer=t.createRenderbuffer(),Me(F.__webglDepthbuffer,Q,!1);n.bindFramebuffer(36160,null)}function _e(Q,F,ce){const Ie=i.get(Q);F!==void 0&&Ce(Ie.__webglFramebuffer,Q,Q.texture,36064,3553),ce!==void 0&&oe(Q)}function He(Q){const F=Q.texture,ce=i.get(Q),Ie=i.get(F);Q.addEventListener("dispose",V),Q.isWebGLMultipleRenderTargets!==!0&&(Ie.__webglTexture===void 0&&(Ie.__webglTexture=t.createTexture()),Ie.__version=F.version,o.memory.textures++);const Re=Q.isWebGLCubeRenderTarget===!0,Fe=Q.isWebGLMultipleRenderTargets===!0,ct=S(Q)||a;if(Re){ce.__webglFramebuffer=[];for(let Oe=0;Oe<6;Oe++)ce.__webglFramebuffer[Oe]=t.createFramebuffer()}else{if(ce.__webglFramebuffer=t.createFramebuffer(),Fe)if(r.drawBuffers){const Oe=Q.texture;for(let ge=0,Ze=Oe.length;ge<Ze;ge++){const st=i.get(Oe[ge]);st.__webglTexture===void 0&&(st.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Q.samples>0&&Ye(Q)===!1){const Oe=Fe?F:[F];ce.__webglMultisampledFramebuffer=t.createFramebuffer(),ce.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ce.__webglMultisampledFramebuffer);for(let ge=0;ge<Oe.length;ge++){const Ze=Oe[ge];ce.__webglColorRenderbuffer[ge]=t.createRenderbuffer(),t.bindRenderbuffer(36161,ce.__webglColorRenderbuffer[ge]);const st=s.convert(Ze.format,Ze.encoding),Xe=s.convert(Ze.type),lt=M(Ze.internalFormat,st,Xe,Ze.encoding,Q.isXRRenderTarget===!0),nt=et(Q);t.renderbufferStorageMultisample(36161,nt,lt,Q.width,Q.height),t.framebufferRenderbuffer(36160,36064+ge,36161,ce.__webglColorRenderbuffer[ge])}t.bindRenderbuffer(36161,null),Q.depthBuffer&&(ce.__webglDepthRenderbuffer=t.createRenderbuffer(),Me(ce.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(36160,null)}}if(Re){n.bindTexture(34067,Ie.__webglTexture),q(34067,F,ct);for(let Oe=0;Oe<6;Oe++)Ce(ce.__webglFramebuffer[Oe],Q,F,36064,34069+Oe);T(F,ct)&&B(34067),n.unbindTexture()}else if(Fe){const Oe=Q.texture;for(let ge=0,Ze=Oe.length;ge<Ze;ge++){const st=Oe[ge],Xe=i.get(st);n.bindTexture(3553,Xe.__webglTexture),q(3553,st,ct),Ce(ce.__webglFramebuffer,Q,st,36064+ge,3553),T(st,ct)&&B(3553)}n.unbindTexture()}else{let Oe=3553;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(a?Oe=Q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Oe,Ie.__webglTexture),q(Oe,F,ct),Ce(ce.__webglFramebuffer,Q,F,36064,Oe),T(F,ct)&&B(Oe),n.unbindTexture()}Q.depthBuffer&&oe(Q)}function ke(Q){const F=S(Q)||a,ce=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Ie=0,Re=ce.length;Ie<Re;Ie++){const Fe=ce[Ie];if(T(Fe,F)){const ct=Q.isWebGLCubeRenderTarget?34067:3553,Oe=i.get(Fe).__webglTexture;n.bindTexture(ct,Oe),B(ct),n.unbindTexture()}}}function tt(Q){if(a&&Q.samples>0&&Ye(Q)===!1){const F=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],ce=Q.width,Ie=Q.height;let Re=16384;const Fe=[],ct=Q.stencilBuffer?33306:36096,Oe=i.get(Q),ge=Q.isWebGLMultipleRenderTargets===!0;if(ge)for(let Ze=0;Ze<F.length;Ze++)n.bindFramebuffer(36160,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ze,36161,null),n.bindFramebuffer(36160,Oe.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ze,3553,null,0);n.bindFramebuffer(36008,Oe.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Oe.__webglFramebuffer);for(let Ze=0;Ze<F.length;Ze++){Fe.push(36064+Ze),Q.depthBuffer&&Fe.push(ct);const st=Oe.__ignoreDepthValues!==void 0?Oe.__ignoreDepthValues:!1;if(st===!1&&(Q.depthBuffer&&(Re|=256),Q.stencilBuffer&&(Re|=1024)),ge&&t.framebufferRenderbuffer(36008,36064,36161,Oe.__webglColorRenderbuffer[Ze]),st===!0&&(t.invalidateFramebuffer(36008,[ct]),t.invalidateFramebuffer(36009,[ct])),ge){const Xe=i.get(F[Ze]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,Xe,0)}t.blitFramebuffer(0,0,ce,Ie,0,0,ce,Ie,Re,9728),m&&t.invalidateFramebuffer(36008,Fe)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),ge)for(let Ze=0;Ze<F.length;Ze++){n.bindFramebuffer(36160,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ze,36161,Oe.__webglColorRenderbuffer[Ze]);const st=i.get(F[Ze]).__webglTexture;n.bindFramebuffer(36160,Oe.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ze,3553,st,0)}n.bindFramebuffer(36009,Oe.__webglMultisampledFramebuffer)}}function et(Q){return Math.min(d,Q.samples)}function Ye(Q){const F=i.get(Q);return a&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function _t(Q){const F=o.render.frame;A.get(Q)!==F&&(A.set(Q,F),Q.update())}function Mt(Q,F){const ce=Q.encoding,Ie=Q.format,Re=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===Dg||ce!==bl&&(ce===hn?a===!1?e.has("EXT_sRGB")===!0&&Ie===Un?(Q.format=Dg,Q.minFilter=ln,Q.generateMipmaps=!1):F=_x.sRGBToLinear(F):(Ie!==Un||Re!==yi)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ce)),F}this.allocateTextureUnit=k,this.resetTextureUnits=te,this.setTexture2D=W,this.setTexture2DArray=$,this.setTexture3D=H,this.setTextureCube=ne,this.rebindTextures=_e,this.setupRenderTarget=He,this.updateRenderTargetMipmap=ke,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=Ce,this.useMultisampledRTT=Ye}function wR(t,e,n){const i=n.isWebGL2;function r(s,o=null){let a;if(s===yi)return 5121;if(s===eR)return 32819;if(s===tR)return 32820;if(s===qb)return 5120;if(s===Zb)return 5122;if(s===gf)return 5123;if(s===$b)return 5124;if(s===cl)return 5125;if(s===fr)return 5126;if(s===Jn)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===nR)return 6406;if(s===Un)return 6408;if(s===Cx)return 6409;if(s===iR)return 6410;if(s===Cl)return 6402;if(s===Bl)return 34041;if(s===Dg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Oc)return 6403;if(s===rR)return 36244;if(s===yh)return 33319;if(s===sR)return 33320;if(s===oR)return 36249;if(s===Lh||s===HA||s===zA||s===Fh)if(o===hn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Lh)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===HA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===zA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Fh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Lh)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===HA)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===zA)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Fh)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Op||s===Ky||s===Up||s===Yy)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Op)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Ky)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Up)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Yy)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===N2)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Gp||s===Qp)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Gp)return o===hn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Qp)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Hp||s===Xy||s===qy||s===Zy||s===$y||s===e8||s===t8||s===n8||s===i8||s===r8||s===s8||s===o8||s===a8||s===l8)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Hp)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Xy)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===qy)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Zy)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===$y)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===e8)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===t8)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===n8)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===i8)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===r8)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===s8)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===o8)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===a8)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===l8)return o===hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===kh)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===kh)return o===hn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===aR||s===c8||s===u8||s===h8)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===kh)return a.COMPRESSED_RED_RGTC1_EXT;if(s===c8)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===u8)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===h8)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===xl?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:r}}class IR extends sn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ha extends Ht{constructor(){super(),this.isGroup=!0,this.type="Group"}}const WW={type:"move"};class Ov{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ha,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ha,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new D,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new D),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ha,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new D,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new D),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const v=n.getJointPose(g,i),C=this._getHandJoint(c,g);v!==null&&(C.matrix.fromArray(v.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.jointRadius=v.radius),C.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),m=.02,A=.005;c.inputState.pinching&&p>m+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(WW)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new ha;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class xf extends yn{constructor(e,n,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:Cl,u!==Cl&&u!==Bl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Cl&&(i=cl),i===void 0&&u===Bl&&(i=xl),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:vt,this.minFilter=l!==void 0?l:vt,this.flipY=!1,this.generateMipmaps=!1}}class JW extends Do{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,p=null,m=null,A=null;const g=n.getContextAttributes();let v=null,C=null;const y=[],x=[],S=new Set,I=new Map,T=new sn;T.layers.enable(1),T.viewport=new Qt;const B=new sn;B.layers.enable(2),B.viewport=new Qt;const M=[T,B],R=new IR;R.layers.enable(1),R.layers.enable(2);let P=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(H){let ne=y[H];return ne===void 0&&(ne=new Ov,y[H]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(H){let ne=y[H];return ne===void 0&&(ne=new Ov,y[H]=ne),ne.getGripSpace()},this.getHand=function(H){let ne=y[H];return ne===void 0&&(ne=new Ov,y[H]=ne),ne.getHandSpace()};function V(H){const ne=x.indexOf(H.inputSource);if(ne===-1)return;const de=y[ne];de!==void 0&&de.dispatchEvent({type:H.type,data:H.inputSource})}function N(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",N),r.removeEventListener("inputsourceschange",U);for(let H=0;H<y.length;H++){const ne=x[H];ne!==null&&(x[H]=null,y[H].disconnect(ne))}P=null,L=null,e.setRenderTarget(v),m=null,p=null,d=null,r=null,C=null,$.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(H){s=H,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){a=H,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(H){c=H},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return A},this.getSession=function(){return r},this.setSession=async function(H){if(r=H,r!==null){if(v=e.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",N),r.addEventListener("inputsourceschange",U),g.xrCompatible!==!0&&await n.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ne={antialias:r.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,n,ne),r.updateRenderState({baseLayer:m}),C=new cn(m.framebufferWidth,m.framebufferHeight,{format:Un,type:yi,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let ne=null,de=null,Ae=null;g.depth&&(Ae=g.stencil?35056:33190,ne=g.stencil?Bl:Cl,de=g.stencil?xl:cl);const q={colorFormat:32856,depthFormat:Ae,scaleFactor:s};d=new XRWebGLBinding(r,n),p=d.createProjectionLayer(q),r.updateRenderState({layers:[p]}),C=new cn(p.textureWidth,p.textureHeight,{format:Un,type:yi,depthTexture:new xf(p.textureWidth,p.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const Te=e.properties.get(C);Te.__ignoreDepthValues=p.ignoreDepthValues}C.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),$.setContext(r),$.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function U(H){for(let ne=0;ne<H.removed.length;ne++){const de=H.removed[ne],Ae=x.indexOf(de);Ae>=0&&(x[Ae]=null,y[Ae].disconnect(de))}for(let ne=0;ne<H.added.length;ne++){const de=H.added[ne];let Ae=x.indexOf(de);if(Ae===-1){for(let Te=0;Te<y.length;Te++)if(Te>=x.length){x.push(de),Ae=Te;break}else if(x[Te]===null){x[Te]=de,Ae=Te;break}if(Ae===-1)break}const q=y[Ae];q&&q.connect(de)}}const j=new D,X=new D;function te(H,ne,de){j.setFromMatrixPosition(ne.matrixWorld),X.setFromMatrixPosition(de.matrixWorld);const Ae=j.distanceTo(X),q=ne.projectionMatrix.elements,Te=de.projectionMatrix.elements,Pe=q[14]/(q[10]-1),De=q[14]/(q[10]+1),Ce=(q[9]+1)/q[5],Me=(q[9]-1)/q[5],ue=(q[8]-1)/q[0],oe=(Te[8]+1)/Te[0],_e=Pe*ue,He=Pe*oe,ke=Ae/(-ue+oe),tt=ke*-ue;ne.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX(tt),H.translateZ(ke),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();const et=Pe+ke,Ye=De+ke,_t=_e-tt,Mt=He+(Ae-tt),Q=Ce*De/Ye*et,F=Me*De/Ye*et;H.projectionMatrix.makePerspective(_t,Mt,Q,F,et,Ye)}function k(H,ne){ne===null?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(ne.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCamera=function(H){if(r===null)return;R.near=B.near=T.near=H.near,R.far=B.far=T.far=H.far,(P!==R.near||L!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),P=R.near,L=R.far);const ne=H.parent,de=R.cameras;k(R,ne);for(let q=0;q<de.length;q++)k(de[q],ne);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),H.matrix.copy(R.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale);const Ae=H.children;for(let q=0,Te=Ae.length;q<Te;q++)Ae[q].updateMatrixWorld(!0);de.length===2?te(R,T,B):R.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(H){l=H,p!==null&&(p.fixedFoveation=H),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=H)},this.getPlanes=function(){return S};let J=null;function W(H,ne){if(u=ne.getViewerPose(c||o),A=ne,u!==null){const de=u.views;m!==null&&(e.setRenderTargetFramebuffer(C,m.framebuffer),e.setRenderTarget(C));let Ae=!1;de.length!==R.cameras.length&&(R.cameras.length=0,Ae=!0);for(let q=0;q<de.length;q++){const Te=de[q];let Pe=null;if(m!==null)Pe=m.getViewport(Te);else{const Ce=d.getViewSubImage(p,Te);Pe=Ce.viewport,q===0&&(e.setRenderTargetTextures(C,Ce.colorTexture,p.ignoreDepthValues?void 0:Ce.depthStencilTexture),e.setRenderTarget(C))}let De=M[q];De===void 0&&(De=new sn,De.layers.enable(q),De.viewport=new Qt,M[q]=De),De.matrix.fromArray(Te.transform.matrix),De.projectionMatrix.fromArray(Te.projectionMatrix),De.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),q===0&&R.matrix.copy(De.matrix),Ae===!0&&R.cameras.push(De)}}for(let de=0;de<y.length;de++){const Ae=x[de],q=y[de];Ae!==null&&q!==void 0&&q.update(Ae,ne,c||o)}if(J&&J(H,ne),ne.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:ne.detectedPlanes});let de=null;for(const Ae of S)ne.detectedPlanes.has(Ae)||(de===null&&(de=[]),de.push(Ae));if(de!==null)for(const Ae of de)S.delete(Ae),I.delete(Ae),i.dispatchEvent({type:"planeremoved",data:Ae});for(const Ae of ne.detectedPlanes)if(!S.has(Ae))S.add(Ae),I.set(Ae,ne.lastChangedTime),i.dispatchEvent({type:"planeadded",data:Ae});else{const q=I.get(Ae);Ae.lastChangedTime>q&&(I.set(Ae,Ae.lastChangedTime),i.dispatchEvent({type:"planechanged",data:Ae}))}}A=null}const $=new yR;$.setAnimationLoop(W),this.setAnimationLoop=function(H){J=H},this.dispose=function(){}}}function jW(t,e){function n(g,v){v.color.getRGB(g.fogColor.value,vR(t)),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)}function i(g,v,C,y,x){v.isMeshBasicMaterial||v.isMeshLambertMaterial?r(g,v):v.isMeshToonMaterial?(r(g,v),u(g,v)):v.isMeshPhongMaterial?(r(g,v),c(g,v)):v.isMeshStandardMaterial?(r(g,v),d(g,v),v.isMeshPhysicalMaterial&&p(g,v,x)):v.isMeshMatcapMaterial?(r(g,v),m(g,v)):v.isMeshDepthMaterial?r(g,v):v.isMeshDistanceMaterial?(r(g,v),A(g,v)):v.isMeshNormalMaterial?r(g,v):v.isLineBasicMaterial?(s(g,v),v.isLineDashedMaterial&&o(g,v)):v.isPointsMaterial?a(g,v,C,y):v.isSpriteMaterial?l(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function r(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.bumpMap&&(g.bumpMap.value=v.bumpMap,g.bumpScale.value=v.bumpScale,v.side===er&&(g.bumpScale.value*=-1)),v.displacementMap&&(g.displacementMap.value=v.displacementMap,g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap),v.normalMap&&(g.normalMap.value=v.normalMap,g.normalScale.value.copy(v.normalScale),v.side===er&&g.normalScale.value.negate()),v.specularMap&&(g.specularMap.value=v.specularMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);const C=e.get(v).envMap;if(C&&(g.envMap.value=C,g.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap){g.lightMap.value=v.lightMap;const S=t.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=v.lightMapIntensity*S}v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity);let y;v.map?y=v.map:v.specularMap?y=v.specularMap:v.displacementMap?y=v.displacementMap:v.normalMap?y=v.normalMap:v.bumpMap?y=v.bumpMap:v.roughnessMap?y=v.roughnessMap:v.metalnessMap?y=v.metalnessMap:v.alphaMap?y=v.alphaMap:v.emissiveMap?y=v.emissiveMap:v.clearcoatMap?y=v.clearcoatMap:v.clearcoatNormalMap?y=v.clearcoatNormalMap:v.clearcoatRoughnessMap?y=v.clearcoatRoughnessMap:v.iridescenceMap?y=v.iridescenceMap:v.iridescenceThicknessMap?y=v.iridescenceThicknessMap:v.specularIntensityMap?y=v.specularIntensityMap:v.specularColorMap?y=v.specularColorMap:v.transmissionMap?y=v.transmissionMap:v.thicknessMap?y=v.thicknessMap:v.sheenColorMap?y=v.sheenColorMap:v.sheenRoughnessMap&&(y=v.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),g.uvTransform.value.copy(y.matrix));let x;v.aoMap?x=v.aoMap:v.lightMap&&(x=v.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uv2Transform.value.copy(x.matrix))}function s(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity}function o(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}function a(g,v,C,y){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*C,g.scale.value=y*.5,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let x;v.map?x=v.map:v.alphaMap&&(x=v.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix))}function l(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let C;v.map?C=v.map:v.alphaMap&&(C=v.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),g.uvTransform.value.copy(C.matrix))}function c(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}function u(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}function d(g,v){g.roughness.value=v.roughness,g.metalness.value=v.metalness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(g.envMapIntensity.value=v.envMapIntensity)}function p(g,v,C){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),g.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===er&&g.clearcoatNormalScale.value.negate())),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=C.texture,g.transmissionSamplerSize.value.set(C.width,C.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap)}function m(g,v){v.matcap&&(g.matcap.value=v.matcap)}function A(g,v){g.referencePosition.value.copy(v.referencePosition),g.nearDistance.value=v.nearDistance,g.farDistance.value=v.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function KW(t,e,n,i){let r={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(y,x){const S=x.program;i.uniformBlockBinding(y,S)}function c(y,x){let S=r[y.id];S===void 0&&(A(y),S=u(y),r[y.id]=S,y.addEventListener("dispose",v));const I=x.program;i.updateUBOMapping(y,I);const T=e.render.frame;s[y.id]!==T&&(p(y),s[y.id]=T)}function u(y){const x=d();y.__bindingPointIndex=x;const S=t.createBuffer(),I=y.__size,T=y.usage;return t.bindBuffer(35345,S),t.bufferData(35345,I,T),t.bindBuffer(35345,null),t.bindBufferBase(35345,x,S),S}function d(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(y){const x=r[y.id],S=y.uniforms,I=y.__cache;t.bindBuffer(35345,x);for(let T=0,B=S.length;T<B;T++){const M=S[T];if(m(M,T,I)===!0){const R=M.__offset,P=Array.isArray(M.value)?M.value:[M.value];let L=0;for(let V=0;V<P.length;V++){const N=P[V],U=g(N);typeof N=="number"?(M.__data[0]=N,t.bufferSubData(35345,R+L,M.__data)):N.isMatrix3?(M.__data[0]=N.elements[0],M.__data[1]=N.elements[1],M.__data[2]=N.elements[2],M.__data[3]=N.elements[0],M.__data[4]=N.elements[3],M.__data[5]=N.elements[4],M.__data[6]=N.elements[5],M.__data[7]=N.elements[0],M.__data[8]=N.elements[6],M.__data[9]=N.elements[7],M.__data[10]=N.elements[8],M.__data[11]=N.elements[0]):(N.toArray(M.__data,L),L+=U.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,R,M.__data)}}t.bindBuffer(35345,null)}function m(y,x,S){const I=y.value;if(S[x]===void 0){if(typeof I=="number")S[x]=I;else{const T=Array.isArray(I)?I:[I],B=[];for(let M=0;M<T.length;M++)B.push(T[M].clone());S[x]=B}return!0}else if(typeof I=="number"){if(S[x]!==I)return S[x]=I,!0}else{const T=Array.isArray(S[x])?S[x]:[S[x]],B=Array.isArray(I)?I:[I];for(let M=0;M<T.length;M++){const R=T[M];if(R.equals(B[M])===!1)return R.copy(B[M]),!0}}return!1}function A(y){const x=y.uniforms;let S=0;const I=16;let T=0;for(let B=0,M=x.length;B<M;B++){const R=x[B],P={boundary:0,storage:0},L=Array.isArray(R.value)?R.value:[R.value];for(let V=0,N=L.length;V<N;V++){const U=L[V],j=g(U);P.boundary+=j.boundary,P.storage+=j.storage}if(R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=S,B>0){T=S%I;const V=I-T;T!==0&&V-P.boundary<0&&(S+=I-T,R.__offset=S)}S+=P.storage}return T=S%I,T>0&&(S+=I-T),y.__size=S,y.__cache={},this}function g(y){const x={boundary:0,storage:0};return typeof y=="number"?(x.boundary=4,x.storage=4):y.isVector2?(x.boundary=8,x.storage=8):y.isVector3||y.isColor?(x.boundary=16,x.storage=12):y.isVector4?(x.boundary=16,x.storage=16):y.isMatrix3?(x.boundary=48,x.storage=48):y.isMatrix4?(x.boundary=64,x.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),x}function v(y){const x=y.target;x.removeEventListener("dispose",v);const S=o.indexOf(x.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(r[x.id]),delete r[x.id],delete s[x.id]}function C(){for(const y in r)t.deleteBuffer(r[y]);o=[],r={},s={}}return{bind:l,update:c,dispose:C}}function YW(){const t=Jp("canvas");return t.style.display="block",t}function Dx(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:YW(),n=t.context!==void 0?t.context:null,i=t.depth!==void 0?t.depth:!0,r=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let u;n!==null?u=n.getContextAttributes().alpha:u=t.alpha!==void 0?t.alpha:!1;let d=null,p=null;const m=[],A=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=bl,this.physicallyCorrectLights=!1,this.toneMapping=Lr,this.toneMappingExposure=1;const g=this;let v=!1,C=0,y=0,x=null,S=-1,I=null;const T=new Qt,B=new Qt;let M=null,R=e.width,P=e.height,L=1,V=null,N=null;const U=new Qt(0,0,R,P),j=new Qt(0,0,R,P);let X=!1;const te=new Q2;let k=!1,J=!1,W=null;const $=new Je,H=new le,ne=new D,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return x===null?L:1}let q=n;function Te(O,re){for(let ve=0;ve<O.length;ve++){const ie=O[ve],xe=e.getContext(ie,re);if(xe!==null)return xe}return null}try{const O={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Xs}`),e.addEventListener("webglcontextlost",lt,!1),e.addEventListener("webglcontextrestored",nt,!1),e.addEventListener("webglcontextcreationerror",Y,!1),q===null){const re=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&re.shift(),q=Te(re,O),q===null)throw Te(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let Pe,De,Ce,Me,ue,oe,_e,He,ke,tt,et,Ye,_t,Mt,Q,F,ce,Ie,Re,Fe,ct,Oe,ge,Ze;function st(){Pe=new hV(q),De=new sV(q,Pe,t),Pe.init(De),Oe=new wR(q,Pe,De),Ce=new zW(q,Pe,De),Me=new pV,ue=new RW,oe=new VW(q,Pe,Ce,ue,De,Oe,Me),_e=new aV(g),He=new uV(g),ke=new SQ(q,De),ge=new iV(q,Pe,ke,De),tt=new fV(q,ke,Me,ge),et=new vV(q,tt,ke,Me),Re=new gV(q,De,oe),F=new oV(ue),Ye=new bW(g,_e,He,Pe,De,ge,F),_t=new jW(g,ue),Mt=new DW,Q=new UW(Pe,De),Ie=new nV(g,_e,He,Ce,et,u,o),ce=new HW(g,et,De),Ze=new KW(q,Me,De,Ce),Fe=new rV(q,Pe,Me,De),ct=new dV(q,Pe,Me,De),Me.programs=Ye.programs,g.capabilities=De,g.extensions=Pe,g.properties=ue,g.renderLists=Mt,g.shadowMap=ce,g.state=Ce,g.info=Me}st();const Xe=new JW(g,q);this.xr=Xe,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const O=Pe.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=Pe.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(O){O!==void 0&&(L=O,this.setSize(R,P,!1))},this.getSize=function(O){return O.set(R,P)},this.setSize=function(O,re,ve){if(Xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=O,P=re,e.width=Math.floor(O*L),e.height=Math.floor(re*L),ve!==!1&&(e.style.width=O+"px",e.style.height=re+"px"),this.setViewport(0,0,O,re)},this.getDrawingBufferSize=function(O){return O.set(R*L,P*L).floor()},this.setDrawingBufferSize=function(O,re,ve){R=O,P=re,L=ve,e.width=Math.floor(O*ve),e.height=Math.floor(re*ve),this.setViewport(0,0,O,re)},this.getCurrentViewport=function(O){return O.copy(T)},this.getViewport=function(O){return O.copy(U)},this.setViewport=function(O,re,ve,ie){O.isVector4?U.set(O.x,O.y,O.z,O.w):U.set(O,re,ve,ie),Ce.viewport(T.copy(U).multiplyScalar(L).floor())},this.getScissor=function(O){return O.copy(j)},this.setScissor=function(O,re,ve,ie){O.isVector4?j.set(O.x,O.y,O.z,O.w):j.set(O,re,ve,ie),Ce.scissor(B.copy(j).multiplyScalar(L).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(O){Ce.setScissorTest(X=O)},this.setOpaqueSort=function(O){V=O},this.setTransparentSort=function(O){N=O},this.getClearColor=function(O){return O.copy(Ie.getClearColor())},this.setClearColor=function(){Ie.setClearColor.apply(Ie,arguments)},this.getClearAlpha=function(){return Ie.getClearAlpha()},this.setClearAlpha=function(){Ie.setClearAlpha.apply(Ie,arguments)},this.clear=function(O=!0,re=!0,ve=!0){let ie=0;O&&(ie|=16384),re&&(ie|=256),ve&&(ie|=1024),q.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",lt,!1),e.removeEventListener("webglcontextrestored",nt,!1),e.removeEventListener("webglcontextcreationerror",Y,!1),Mt.dispose(),Q.dispose(),ue.dispose(),_e.dispose(),He.dispose(),et.dispose(),ge.dispose(),Ze.dispose(),Ye.dispose(),Xe.dispose(),Xe.removeEventListener("sessionstart",Ne),Xe.removeEventListener("sessionend",it),W&&(W.dispose(),W=null),Ft.stop()};function lt(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function nt(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const O=Me.autoReset,re=ce.enabled,ve=ce.autoUpdate,ie=ce.needsUpdate,xe=ce.type;st(),Me.autoReset=O,ce.enabled=re,ce.autoUpdate=ve,ce.needsUpdate=ie,ce.type=xe}function Y(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function Ee(O){const re=O.target;re.removeEventListener("dispose",Ee),ze(re)}function ze(O){K(O),ue.remove(O)}function K(O){const re=ue.get(O).programs;re!==void 0&&(re.forEach(function(ve){Ye.releaseProgram(ve)}),O.isShaderMaterial&&Ye.releaseShaderCache(O))}this.renderBufferDirect=function(O,re,ve,ie,xe,ut){re===null&&(re=de);const xt=xe.isMesh&&xe.matrixWorld.determinant()<0,Tt=N1(O,re,ve,ie,xe);Ce.setMaterial(ie,xt);let Pt=ve.index,Ut=1;ie.wireframe===!0&&(Pt=tt.getWireframeAttribute(ve),Ut=2);const kt=ve.drawRange,Nt=ve.attributes.position;let Dn=kt.start*Ut,zi=(kt.start+kt.count)*Ut;ut!==null&&(Dn=Math.max(Dn,ut.start*Ut),zi=Math.min(zi,(ut.start+ut.count)*Ut)),Pt!==null?(Dn=Math.max(Dn,0),zi=Math.min(zi,Pt.count)):Nt!=null&&(Dn=Math.max(Dn,0),zi=Math.min(zi,Nt.count));const _s=zi-Dn;if(_s<0||_s===1/0)return;ge.setup(xe,ie,Tt,ve,Pt);let Ho,xn=Fe;if(Pt!==null&&(Ho=ke.get(Pt),xn=ct,xn.setIndex(Ho)),xe.isMesh)ie.wireframe===!0?(Ce.setLineWidth(ie.wireframeLinewidth*Ae()),xn.setMode(1)):xn.setMode(4);else if(xe.isLine){let Bt=ie.linewidth;Bt===void 0&&(Bt=1),Ce.setLineWidth(Bt*Ae()),xe.isLineSegments?xn.setMode(1):xe.isLineLoop?xn.setMode(2):xn.setMode(3)}else xe.isPoints?xn.setMode(0):xe.isSprite&&xn.setMode(4);if(xe.isInstancedMesh)xn.renderInstances(Dn,_s,xe.count);else if(ve.isInstancedBufferGeometry){const Bt=ve._maxInstanceCount!==void 0?ve._maxInstanceCount:1/0,Zl=Math.min(ve.instanceCount,Bt);xn.renderInstances(Dn,_s,Zl)}else xn.render(Dn,_s)},this.compile=function(O,re){function ve(ie,xe,ut){ie.transparent===!0&&ie.side===Us&&ie.forceSinglePass===!1?(ie.side=er,ie.needsUpdate=!0,$n(ie,xe,ut),ie.side=Po,ie.needsUpdate=!0,$n(ie,xe,ut),ie.side=Us):$n(ie,xe,ut)}p=Q.get(O),p.init(),A.push(p),O.traverseVisible(function(ie){ie.isLight&&ie.layers.test(re.layers)&&(p.pushLight(ie),ie.castShadow&&p.pushShadow(ie))}),p.setupLights(g.physicallyCorrectLights),O.traverse(function(ie){const xe=ie.material;if(xe)if(Array.isArray(xe))for(let ut=0;ut<xe.length;ut++){const xt=xe[ut];ve(xt,O,ie)}else ve(xe,O,ie)}),A.pop(),p=null};let ae=null;function Se(O){ae&&ae(O)}function Ne(){Ft.stop()}function it(){Ft.start()}const Ft=new yR;Ft.setAnimationLoop(Se),typeof self<"u"&&Ft.setContext(self),this.setAnimationLoop=function(O){ae=O,Xe.setAnimationLoop(O),O===null?Ft.stop():Ft.start()},Xe.addEventListener("sessionstart",Ne),Xe.addEventListener("sessionend",it),this.render=function(O,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),Xe.enabled===!0&&Xe.isPresenting===!0&&(Xe.cameraAutoUpdate===!0&&Xe.updateCamera(re),re=Xe.getCamera()),O.isScene===!0&&O.onBeforeRender(g,O,re,x),p=Q.get(O,A.length),p.init(),A.push(p),$.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),te.setFromProjectionMatrix($),J=this.localClippingEnabled,k=F.init(this.clippingPlanes,J),d=Mt.get(O,m.length),d.init(),m.push(d),$t(O,re,0,g.sortObjects),d.finish(),g.sortObjects===!0&&d.sort(V,N),k===!0&&F.beginShadows();const ve=p.state.shadowsArray;if(ce.render(ve,O,re),k===!0&&F.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ie.render(d,O),p.setupLights(g.physicallyCorrectLights),re.isArrayCamera){const ie=re.cameras;for(let xe=0,ut=ie.length;xe<ut;xe++){const xt=ie[xe];rn(d,O,xt,xt.viewport)}}else rn(d,O,re);x!==null&&(oe.updateMultisampleRenderTarget(x),oe.updateRenderTargetMipmap(x)),O.isScene===!0&&O.onAfterRender(g,O,re),ge.resetDefaultState(),S=-1,I=null,A.pop(),A.length>0?p=A[A.length-1]:p=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function $t(O,re,ve,ie){if(O.visible===!1)return;if(O.layers.test(re.layers)){if(O.isGroup)ve=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(re);else if(O.isLight)p.pushLight(O),O.castShadow&&p.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||te.intersectsSprite(O)){ie&&ne.setFromMatrixPosition(O.matrixWorld).applyMatrix4($);const xt=et.update(O),Tt=O.material;Tt.visible&&d.push(O,xt,Tt,ve,ne.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(O.isSkinnedMesh&&O.skeleton.frame!==Me.render.frame&&(O.skeleton.update(),O.skeleton.frame=Me.render.frame),!O.frustumCulled||te.intersectsObject(O))){ie&&ne.setFromMatrixPosition(O.matrixWorld).applyMatrix4($);const xt=et.update(O),Tt=O.material;if(Array.isArray(Tt)){const Pt=xt.groups;for(let Ut=0,kt=Pt.length;Ut<kt;Ut++){const Nt=Pt[Ut],Dn=Tt[Nt.materialIndex];Dn&&Dn.visible&&d.push(O,xt,Dn,ve,ne.z,Nt)}}else Tt.visible&&d.push(O,xt,Tt,ve,ne.z,null)}}const ut=O.children;for(let xt=0,Tt=ut.length;xt<Tt;xt++)$t(ut[xt],re,ve,ie)}function rn(O,re,ve,ie){const xe=O.opaque,ut=O.transmissive,xt=O.transparent;p.setupLightsView(ve),k===!0&&F.setGlobalState(g.clippingPlanes,ve),ut.length>0&&Hi(xe,re,ve),ie&&Ce.viewport(T.copy(ie)),xe.length>0&&Wt(xe,re,ve),ut.length>0&&Wt(ut,re,ve),xt.length>0&&Wt(xt,re,ve),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function Hi(O,re,ve){const ie=De.isWebGL2;W===null&&(W=new cn(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")?Jn:yi,minFilter:xs,samples:ie&&s===!0?4:0})),g.getDrawingBufferSize(H),ie?W.setSize(H.x,H.y):W.setSize(Lg(H.x),Lg(H.y));const xe=g.getRenderTarget();g.setRenderTarget(W),g.clear();const ut=g.toneMapping;g.toneMapping=Lr,Wt(O,re,ve),g.toneMapping=ut,oe.updateMultisampleRenderTarget(W),oe.updateRenderTargetMipmap(W),g.setRenderTarget(xe)}function Wt(O,re,ve){const ie=re.isScene===!0?re.overrideMaterial:null;for(let xe=0,ut=O.length;xe<ut;xe++){const xt=O[xe],Tt=xt.object,Pt=xt.geometry,Ut=ie===null?xt.material:ie,kt=xt.group;Tt.layers.test(ve.layers)&&fi(Tt,re,ve,Pt,Ut,kt)}}function fi(O,re,ve,ie,xe,ut){O.onBeforeRender(g,re,ve,ie,xe,ut),O.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),xe.onBeforeRender(g,re,ve,ie,O,ut),xe.transparent===!0&&xe.side===Us&&xe.forceSinglePass===!1?(xe.side=er,xe.needsUpdate=!0,g.renderBufferDirect(ve,re,ie,xe,O,ut),xe.side=Po,xe.needsUpdate=!0,g.renderBufferDirect(ve,re,ie,xe,O,ut),xe.side=Us):g.renderBufferDirect(ve,re,ie,xe,O,ut),O.onAfterRender(g,re,ve,ie,xe,ut)}function $n(O,re,ve){re.isScene!==!0&&(re=de);const ie=ue.get(O),xe=p.state.lights,ut=p.state.shadowsArray,xt=xe.state.version,Tt=Ye.getParameters(O,xe.state,ut,re,ve),Pt=Ye.getProgramCacheKey(Tt);let Ut=ie.programs;ie.environment=O.isMeshStandardMaterial?re.environment:null,ie.fog=re.fog,ie.envMap=(O.isMeshStandardMaterial?He:_e).get(O.envMap||ie.environment),Ut===void 0&&(O.addEventListener("dispose",Ee),Ut=new Map,ie.programs=Ut);let kt=Ut.get(Pt);if(kt!==void 0){if(ie.currentProgram===kt&&ie.lightsStateVersion===xt)return l3(O,Tt),kt}else Tt.uniforms=Ye.getUniforms(O),O.onBuild(ve,Tt,g),O.onBeforeCompile(Tt,g),kt=Ye.acquireProgram(Tt,Pt),Ut.set(Pt,kt),ie.uniforms=Tt.uniforms;const Nt=ie.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(Nt.clippingPlanes=F.uniform),l3(O,Tt),ie.needsLights=Rf(O),ie.lightsStateVersion=xt,ie.needsLights&&(Nt.ambientLightColor.value=xe.state.ambient,Nt.lightProbe.value=xe.state.probe,Nt.directionalLights.value=xe.state.directional,Nt.directionalLightShadows.value=xe.state.directionalShadow,Nt.spotLights.value=xe.state.spot,Nt.spotLightShadows.value=xe.state.spotShadow,Nt.rectAreaLights.value=xe.state.rectArea,Nt.ltc_1.value=xe.state.rectAreaLTC1,Nt.ltc_2.value=xe.state.rectAreaLTC2,Nt.pointLights.value=xe.state.point,Nt.pointLightShadows.value=xe.state.pointShadow,Nt.hemisphereLights.value=xe.state.hemi,Nt.directionalShadowMap.value=xe.state.directionalShadowMap,Nt.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,Nt.spotShadowMap.value=xe.state.spotShadowMap,Nt.spotLightMatrix.value=xe.state.spotLightMatrix,Nt.spotLightMap.value=xe.state.spotLightMap,Nt.pointShadowMap.value=xe.state.pointShadowMap,Nt.pointShadowMatrix.value=xe.state.pointShadowMatrix);const Dn=kt.getUniforms(),zi=jA.seqWithValue(Dn.seq,Nt);return ie.currentProgram=kt,ie.uniformsList=zi,kt}function l3(O,re){const ve=ue.get(O);ve.outputEncoding=re.outputEncoding,ve.instancing=re.instancing,ve.skinning=re.skinning,ve.morphTargets=re.morphTargets,ve.morphNormals=re.morphNormals,ve.morphColors=re.morphColors,ve.morphTargetsCount=re.morphTargetsCount,ve.numClippingPlanes=re.numClippingPlanes,ve.numIntersection=re.numClipIntersection,ve.vertexAlphas=re.vertexAlphas,ve.vertexTangents=re.vertexTangents,ve.toneMapping=re.toneMapping}function N1(O,re,ve,ie,xe){re.isScene!==!0&&(re=de),oe.resetTextureUnits();const ut=re.fog,xt=ie.isMeshStandardMaterial?re.environment:null,Tt=x===null?g.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:bl,Pt=(ie.isMeshStandardMaterial?He:_e).get(ie.envMap||xt),Ut=ie.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,kt=!!ie.normalMap&&!!ve.attributes.tangent,Nt=!!ve.morphAttributes.position,Dn=!!ve.morphAttributes.normal,zi=!!ve.morphAttributes.color,_s=ie.toneMapped?g.toneMapping:Lr,Ho=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,xn=Ho!==void 0?Ho.length:0,Bt=ue.get(ie),Zl=p.state.lights;if(k===!0&&(J===!0||O!==I)){const en=O===I&&ie.id===S;F.setState(ie,O,en)}let Ln=!1;ie.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==Zl.state.version||Bt.outputEncoding!==Tt||xe.isInstancedMesh&&Bt.instancing===!1||!xe.isInstancedMesh&&Bt.instancing===!0||xe.isSkinnedMesh&&Bt.skinning===!1||!xe.isSkinnedMesh&&Bt.skinning===!0||Bt.envMap!==Pt||ie.fog===!0&&Bt.fog!==ut||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==F.numPlanes||Bt.numIntersection!==F.numIntersection)||Bt.vertexAlphas!==Ut||Bt.vertexTangents!==kt||Bt.morphTargets!==Nt||Bt.morphNormals!==Dn||Bt.morphColors!==zi||Bt.toneMapping!==_s||De.isWebGL2===!0&&Bt.morphTargetsCount!==xn)&&(Ln=!0):(Ln=!0,Bt.__version=ie.version);let zo=Bt.currentProgram;Ln===!0&&(zo=$n(ie,re,xe));let wu=!1,jr=!1,Kr=!1;const It=zo.getUniforms(),zt=Bt.uniforms;if(Ce.useProgram(zo.program)&&(wu=!0,jr=!0,Kr=!0),ie.id!==S&&(S=ie.id,jr=!0),wu||I!==O){if(It.setValue(q,"projectionMatrix",O.projectionMatrix),De.logarithmicDepthBuffer&&It.setValue(q,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),I!==O&&(I=O,jr=!0,Kr=!0),ie.isShaderMaterial||ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshStandardMaterial||ie.envMap){const en=It.map.cameraPosition;en!==void 0&&en.setValue(q,ne.setFromMatrixPosition(O.matrixWorld))}(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial)&&It.setValue(q,"isOrthographic",O.isOrthographicCamera===!0),(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial||ie.isShadowMaterial||xe.isSkinnedMesh)&&It.setValue(q,"viewMatrix",O.matrixWorldInverse)}if(xe.isSkinnedMesh){It.setOptional(q,xe,"bindMatrix"),It.setOptional(q,xe,"bindMatrixInverse");const en=xe.skeleton;en&&(De.floatVertexTextures?(en.boneTexture===null&&en.computeBoneTexture(),It.setValue(q,"boneTexture",en.boneTexture,oe),It.setValue(q,"boneTextureSize",en.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Yr=ve.morphAttributes;if((Yr.position!==void 0||Yr.normal!==void 0||Yr.color!==void 0&&De.isWebGL2===!0)&&Re.update(xe,ve,ie,zo),(jr||Bt.receiveShadow!==xe.receiveShadow)&&(Bt.receiveShadow=xe.receiveShadow,It.setValue(q,"receiveShadow",xe.receiveShadow)),ie.isMeshGouraudMaterial&&ie.envMap!==null&&(zt.envMap.value=Pt,zt.flipEnvMap.value=Pt.isCubeTexture&&Pt.isRenderTargetTexture===!1?-1:1),jr&&(It.setValue(q,"toneMappingExposure",g.toneMappingExposure),Bt.needsLights&&c3(zt,Kr),ut&&ie.fog===!0&&_t.refreshFogUniforms(zt,ut),_t.refreshMaterialUniforms(zt,ie,L,P,W),jA.upload(q,Bt.uniformsList,zt,oe)),ie.isShaderMaterial&&ie.uniformsNeedUpdate===!0&&(jA.upload(q,Bt.uniformsList,zt,oe),ie.uniformsNeedUpdate=!1),ie.isSpriteMaterial&&It.setValue(q,"center",xe.center),It.setValue(q,"modelViewMatrix",xe.modelViewMatrix),It.setValue(q,"normalMatrix",xe.normalMatrix),It.setValue(q,"modelMatrix",xe.matrixWorld),ie.isShaderMaterial||ie.isRawShaderMaterial){const en=ie.uniformsGroups;for(let di=0,Vo=en.length;di<Vo;di++)if(De.isWebGL2){const Wo=en[di];Ze.update(Wo,zo),Ze.bind(Wo,zo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return zo}function c3(O,re){O.ambientLightColor.needsUpdate=re,O.lightProbe.needsUpdate=re,O.directionalLights.needsUpdate=re,O.directionalLightShadows.needsUpdate=re,O.pointLights.needsUpdate=re,O.pointLightShadows.needsUpdate=re,O.spotLights.needsUpdate=re,O.spotLightShadows.needsUpdate=re,O.rectAreaLights.needsUpdate=re,O.hemisphereLights.needsUpdate=re}function Rf(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(O,re,ve){ue.get(O.texture).__webglTexture=re,ue.get(O.depthTexture).__webglTexture=ve;const ie=ue.get(O);ie.__hasExternalTextures=!0,ie.__hasExternalTextures&&(ie.__autoAllocateDepthBuffer=ve===void 0,ie.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,re){const ve=ue.get(O);ve.__webglFramebuffer=re,ve.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(O,re=0,ve=0){x=O,C=re,y=ve;let ie=!0,xe=null,ut=!1,xt=!1;if(O){const Pt=ue.get(O);Pt.__useDefaultFramebuffer!==void 0?(Ce.bindFramebuffer(36160,null),ie=!1):Pt.__webglFramebuffer===void 0?oe.setupRenderTarget(O):Pt.__hasExternalTextures&&oe.rebindTextures(O,ue.get(O.texture).__webglTexture,ue.get(O.depthTexture).__webglTexture);const Ut=O.texture;(Ut.isData3DTexture||Ut.isDataArrayTexture||Ut.isCompressedArrayTexture)&&(xt=!0);const kt=ue.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(xe=kt[re],ut=!0):De.isWebGL2&&O.samples>0&&oe.useMultisampledRTT(O)===!1?xe=ue.get(O).__webglMultisampledFramebuffer:xe=kt,T.copy(O.viewport),B.copy(O.scissor),M=O.scissorTest}else T.copy(U).multiplyScalar(L).floor(),B.copy(j).multiplyScalar(L).floor(),M=X;if(Ce.bindFramebuffer(36160,xe)&&De.drawBuffers&&ie&&Ce.drawBuffers(O,xe),Ce.viewport(T),Ce.scissor(B),Ce.setScissorTest(M),ut){const Pt=ue.get(O.texture);q.framebufferTexture2D(36160,36064,34069+re,Pt.__webglTexture,ve)}else if(xt){const Pt=ue.get(O.texture),Ut=re||0;q.framebufferTextureLayer(36160,36064,Pt.__webglTexture,ve||0,Ut)}S=-1},this.readRenderTargetPixels=function(O,re,ve,ie,xe,ut,xt){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Tt=ue.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&xt!==void 0&&(Tt=Tt[xt]),Tt){Ce.bindFramebuffer(36160,Tt);try{const Pt=O.texture,Ut=Pt.format,kt=Pt.type;if(Ut!==Un&&Oe.convert(Ut)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Nt=kt===Jn&&(Pe.has("EXT_color_buffer_half_float")||De.isWebGL2&&Pe.has("EXT_color_buffer_float"));if(kt!==yi&&Oe.convert(kt)!==q.getParameter(35738)&&!(kt===fr&&(De.isWebGL2||Pe.has("OES_texture_float")||Pe.has("WEBGL_color_buffer_float")))&&!Nt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=O.width-ie&&ve>=0&&ve<=O.height-xe&&q.readPixels(re,ve,ie,xe,Oe.convert(Ut),Oe.convert(kt),ut)}finally{const Pt=x!==null?ue.get(x).__webglFramebuffer:null;Ce.bindFramebuffer(36160,Pt)}}},this.copyFramebufferToTexture=function(O,re,ve=0){const ie=Math.pow(2,-ve),xe=Math.floor(re.image.width*ie),ut=Math.floor(re.image.height*ie);oe.setTexture2D(re,0),q.copyTexSubImage2D(3553,ve,0,0,O.x,O.y,xe,ut),Ce.unbindTexture()},this.copyTextureToTexture=function(O,re,ve,ie=0){const xe=re.image.width,ut=re.image.height,xt=Oe.convert(ve.format),Tt=Oe.convert(ve.type);oe.setTexture2D(ve,0),q.pixelStorei(37440,ve.flipY),q.pixelStorei(37441,ve.premultiplyAlpha),q.pixelStorei(3317,ve.unpackAlignment),re.isDataTexture?q.texSubImage2D(3553,ie,O.x,O.y,xe,ut,xt,Tt,re.image.data):re.isCompressedTexture?q.compressedTexSubImage2D(3553,ie,O.x,O.y,re.mipmaps[0].width,re.mipmaps[0].height,xt,re.mipmaps[0].data):q.texSubImage2D(3553,ie,O.x,O.y,xt,Tt,re.image),ie===0&&ve.generateMipmaps&&q.generateMipmap(3553),Ce.unbindTexture()},this.copyTextureToTexture3D=function(O,re,ve,ie,xe=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ut=O.max.x-O.min.x+1,xt=O.max.y-O.min.y+1,Tt=O.max.z-O.min.z+1,Pt=Oe.convert(ie.format),Ut=Oe.convert(ie.type);let kt;if(ie.isData3DTexture)oe.setTexture3D(ie,0),kt=32879;else if(ie.isDataArrayTexture)oe.setTexture2DArray(ie,0),kt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,ie.flipY),q.pixelStorei(37441,ie.premultiplyAlpha),q.pixelStorei(3317,ie.unpackAlignment);const Nt=q.getParameter(3314),Dn=q.getParameter(32878),zi=q.getParameter(3316),_s=q.getParameter(3315),Ho=q.getParameter(32877),xn=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;q.pixelStorei(3314,xn.width),q.pixelStorei(32878,xn.height),q.pixelStorei(3316,O.min.x),q.pixelStorei(3315,O.min.y),q.pixelStorei(32877,O.min.z),ve.isDataTexture||ve.isData3DTexture?q.texSubImage3D(kt,xe,re.x,re.y,re.z,ut,xt,Tt,Pt,Ut,xn.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(kt,xe,re.x,re.y,re.z,ut,xt,Tt,Pt,xn.data)):q.texSubImage3D(kt,xe,re.x,re.y,re.z,ut,xt,Tt,Pt,Ut,xn),q.pixelStorei(3314,Nt),q.pixelStorei(32878,Dn),q.pixelStorei(3316,zi),q.pixelStorei(3315,_s),q.pixelStorei(32877,Ho),xe===0&&ie.generateMipmaps&&q.generateMipmap(kt),Ce.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?oe.setTextureCube(O,0):O.isData3DTexture?oe.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?oe.setTexture2DArray(O,0):oe.setTexture2D(O,0),Ce.unbindTexture()},this.resetState=function(){C=0,y=0,x=null,Ce.reset(),ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class _R extends Dx{}_R.prototype.isWebGL1Renderer=!0;class V2{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new be(e),this.density=n}clone(){return new V2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class W2{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new be(e),this.near=n,this.far=i}clone(){return new W2(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Fg extends Ht{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class C0{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Vp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Fr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ji=new D;class Rl{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Ji.fromBufferAttribute(this,n),Ji.applyMatrix4(e),this.setXYZ(n,Ji.x,Ji.y,Ji.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Ji.fromBufferAttribute(this,n),Ji.applyNormalMatrix(e),this.setXYZ(n,Ji.x,Ji.y,Ji.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Ji.fromBufferAttribute(this,n),Ji.transformDirection(e),this.setXYZ(n,Ji.x,Ji.y,Ji.z);return this}setX(e,n){return this.normalized&&(n=an(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=an(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=an(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=an(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ua(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ua(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ua(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ua(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=an(n,this.array),i=an(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=an(n,this.array),i=an(i,this.array),r=an(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=an(n,this.array),i=an(i,this.array),r=an(r,this.array),s=an(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new Zt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Rl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Lx extends Zn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Zu;const fd=new D,$u=new D,eh=new D,th=new le,dd=new le,MR=new Je,Um=new D,pd=new D,Gm=new D,JS=new le,Uv=new le,jS=new le;class TR extends Ht{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Zu===void 0){Zu=new yt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new C0(n,5);Zu.setIndex([0,1,2,0,2,3]),Zu.setAttribute("position",new Rl(i,3,0,!1)),Zu.setAttribute("uv",new Rl(i,2,3,!1))}this.geometry=Zu,this.material=e!==void 0?e:new Lx,this.center=new le(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),$u.setFromMatrixScale(this.matrixWorld),MR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),eh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&$u.multiplyScalar(-eh.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Qm(Um.set(-.5,-.5,0),eh,o,$u,r,s),Qm(pd.set(.5,-.5,0),eh,o,$u,r,s),Qm(Gm.set(.5,.5,0),eh,o,$u,r,s),JS.set(0,0),Uv.set(1,0),jS.set(1,1);let a=e.ray.intersectTriangle(Um,pd,Gm,!1,fd);if(a===null&&(Qm(pd.set(-.5,.5,0),eh,o,$u,r,s),Uv.set(0,1),a=e.ray.intersectTriangle(Um,Gm,pd,!1,fd),a===null))return;const l=e.ray.origin.distanceTo(fd);l<e.near||l>e.far||n.push({distance:l,point:fd.clone(),uv:hs.getUV(fd,Um,pd,Gm,JS,Uv,jS,new le),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Qm(t,e,n,i,r,s){th.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(dd.x=s*th.x-r*th.y,dd.y=r*th.x+s*th.y):dd.copy(th),t.copy(e),t.x+=dd.x,t.y+=dd.y,t.applyMatrix4(MR)}const Hm=new D,KS=new D;class BR extends Ht{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){Hm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Hm);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Hm.setFromMatrixPosition(e.matrixWorld),KS.setFromMatrixPosition(this.matrixWorld);const i=Hm.distanceTo(KS)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const YS=new D,XS=new Qt,qS=new Qt,XW=new D,ZS=new Je;class Fx extends tn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Je,this.bindMatrixInverse=new Je}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Qt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const i=this.skeleton,r=this.geometry;XS.fromBufferAttribute(r.attributes.skinIndex,e),qS.fromBufferAttribute(r.attributes.skinWeight,e),YS.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=qS.getComponent(s);if(o!==0){const a=XS.getComponent(s);ZS.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(XW.copy(YS).applyMatrix4(ZS),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class J2 extends Ht{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Io extends yn{constructor(e=null,n=1,i=1,r,s,o,a,l,c=vt,u=vt,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $S=new Je,qW=new Je;class E0{constructor(e=[],n=[]){this.uuid=Fr(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Je)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Je;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:qW;$S.multiplyMatrices(a,n[s]),$S.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new E0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=mR(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Io(n,e,e,Un,fr);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new J2),this.bones.push(o),this.boneInverses.push(new Je().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class $h extends Zt{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ew=new Je,tw=new Je,zm=[],ZW=new Je,md=new tn;class kx extends tn{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new $h(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,ZW)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(md.geometry=this.geometry,md.material=this.material,md.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,ew),tw.multiplyMatrices(i,ew),md.matrixWorld=tw,md.raycast(e,zm);for(let o=0,a=zm.length;o<a;o++){const l=zm[o];l.instanceId=s,l.object=this,n.push(l)}zm.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new $h(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Qi extends Zn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new be(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const nw=new D,iw=new D,rw=new Je,Gv=new vf,Vm=new Vl;class Ea extends Ht{constructor(e=new yt,n=new Qi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)nw.fromBufferAttribute(n,r-1),iw.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=nw.distanceTo(iw);e.setAttribute("lineDistance",new je(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Vm.copy(i.boundingSphere),Vm.applyMatrix4(r),Vm.radius+=s,e.ray.intersectsSphere(Vm)===!1)return;rw.copy(r).invert(),Gv.copy(e.ray).applyMatrix4(rw);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new D,u=new D,d=new D,p=new D,m=this.isLineSegments?2:1,A=i.index,v=i.attributes.position;if(A!==null){const C=Math.max(0,o.start),y=Math.min(A.count,o.start+o.count);for(let x=C,S=y-1;x<S;x+=m){const I=A.getX(x),T=A.getX(x+1);if(c.fromBufferAttribute(v,I),u.fromBufferAttribute(v,T),Gv.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(p);M<e.near||M>e.far||n.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const C=Math.max(0,o.start),y=Math.min(v.count,o.start+o.count);for(let x=C,S=y-1;x<S;x+=m){if(c.fromBufferAttribute(v,x),u.fromBufferAttribute(v,x+1),Gv.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||n.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const sw=new D,ow=new D;class qs extends Ea{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)sw.fromBufferAttribute(n,r),ow.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+sw.distanceTo(ow);e.setAttribute("lineDistance",new je(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Nx extends Ea{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class S0 extends Zn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const aw=new Je,A8=new vf,Wm=new Vl,Jm=new D;let j2=class extends Ht{constructor(e=new yt,n=new S0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Wm.copy(i.boundingSphere),Wm.applyMatrix4(r),Wm.radius+=s,e.ray.intersectsSphere(Wm)===!1)return;aw.copy(r).invert(),A8.copy(e.ray).applyMatrix4(aw);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let A=p,g=m;A<g;A++){const v=c.getX(A);Jm.fromBufferAttribute(d,v),lw(Jm,v,l,r,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let A=p,g=m;A<g;A++)Jm.fromBufferAttribute(d,A),lw(Jm,A,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function lw(t,e,n,i,r,s,o){const a=A8.distanceSqToPoint(t);if(a<n){const l=new D;A8.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class $W extends yn{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ln,this.magFilter=s!==void 0?s:ln,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class eJ extends yn{constructor(e,n,i){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=vt,this.minFilter=vt,this.generateMipmaps=!1,this.needsUpdate=!0}}class ru extends yn{constructor(e,n,i,r,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}let tJ=class extends ru{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=_n}};class nJ extends yn{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Zs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],p=i[r+1]-u,m=(o-u)/p;return(r+m)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new le:new D);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new D,r=[],s=[],o=[],a=new D,l=new Je;for(let m=0;m<=e;m++){const A=m/e;r[m]=this.getTangentAt(A,new D)}s[0]=new D,o[0]=new D;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const A=Math.acos(Wn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,A))}o[m].crossVectors(r[m],s[m])}if(n===!0){let m=Math.acos(Wn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let A=1;A<=e;A++)s[A].applyMatrix4(l.makeRotationAxis(r[A],m*A)),o[A].crossVectors(r[A],s[A])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class K2 extends Zs{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const i=n||new le,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*d+this.aX,c=p*d+m*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class bR extends K2{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Ox(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;p*=u,m*=u,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const jm=new D,Qv=new Ox,Hv=new Ox,zv=new Ox;class RR extends Zs{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new D){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(jm.subVectors(r[0],r[1]).add(r[0]),c=jm);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(jm.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=jm),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let A=Math.pow(c.distanceToSquared(d),m),g=Math.pow(d.distanceToSquared(p),m),v=Math.pow(p.distanceToSquared(u),m);g<1e-4&&(g=1),A<1e-4&&(A=g),v<1e-4&&(v=g),Qv.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,A,g,v),Hv.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,A,g,v),zv.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,A,g,v)}else this.curveType==="catmullrom"&&(Qv.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),Hv.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),zv.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return i.set(Qv.calc(l),Hv.calc(l),zv.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new D().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function cw(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function iJ(t,e){const n=1-t;return n*n*e}function rJ(t,e){return 2*(1-t)*t*e}function sJ(t,e){return t*t*e}function $d(t,e,n,i){return iJ(t,e)+rJ(t,n)+sJ(t,i)}function oJ(t,e){const n=1-t;return n*n*n*e}function aJ(t,e){const n=1-t;return 3*n*n*t*e}function lJ(t,e){return 3*(1-t)*t*t*e}function cJ(t,e){return t*t*t*e}function ep(t,e,n,i,r){return oJ(t,e)+aJ(t,n)+lJ(t,i)+cJ(t,r)}class Ux extends Zs{constructor(e=new le,n=new le,i=new le,r=new le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new le){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(ep(e,r.x,s.x,o.x,a.x),ep(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class PR extends Zs{constructor(e=new D,n=new D,i=new D,r=new D){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new D){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(ep(e,r.x,s.x,o.x,a.x),ep(e,r.y,s.y,o.y,a.y),ep(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Y2 extends Zs{constructor(e=new le,n=new le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new le){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const i=n||new le;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DR extends Zs{constructor(e=new D,n=new D){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new D){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Gx extends Zs{constructor(e=new le,n=new le,i=new le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new le){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set($d(e,r.x,s.x,o.x),$d(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Qx extends Zs{constructor(e=new D,n=new D,i=new D){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new D){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set($d(e,r.x,s.x,o.x),$d(e,r.y,s.y,o.y),$d(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Hx extends Zs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new le){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(cw(a,l.x,c.x,u.x,d.x),cw(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new le().fromArray(r))}return this}}var zx=Object.freeze({__proto__:null,ArcCurve:bR,CatmullRomCurve3:RR,CubicBezierCurve:Ux,CubicBezierCurve3:PR,EllipseCurve:K2,LineCurve:Y2,LineCurve3:DR,QuadraticBezierCurve:Gx,QuadraticBezierCurve3:Qx,SplineCurve:Hx});class LR extends Zs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Y2(n,e))}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new zx[r.type]().fromJSON(r))}return this}}let jp=class extends LR{constructor(e){super(),this.type="Path",this.currentPoint=new le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new Y2(this.currentPoint.clone(),new le(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new Gx(this.currentPoint.clone(),new le(e,n),new le(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new Ux(this.currentPoint.clone(),new le(e,n),new le(i,r),new le(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new Hx(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const c=new K2(e,n,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Cf extends yt{constructor(e=[new le(0,-.5),new le(.5,0),new le(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Wn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,d=new D,p=new le,m=new D,A=new D,g=new D;let v=0,C=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:v=e[y+1].x-e[y].x,C=e[y+1].y-e[y].y,m.x=C*1,m.y=-v,m.z=C*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:v=e[y+1].x-e[y].x,C=e[y+1].y-e[y].y,m.x=C*1,m.y=-v,m.z=C*0,A.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(A)}for(let y=0;y<=n;y++){const x=i+y*u*r,S=Math.sin(x),I=Math.cos(x);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*S,d.y=e[T].y,d.z=e[T].x*I,o.push(d.x,d.y,d.z),p.x=y/n,p.y=T/(e.length-1),a.push(p.x,p.y);const B=l[3*T+0]*S,M=l[3*T+1],R=l[3*T+0]*I;c.push(B,M,R)}}for(let y=0;y<n;y++)for(let x=0;x<e.length-1;x++){const S=x+y*e.length,I=S,T=S+e.length,B=S+e.length+1,M=S+1;s.push(I,T,M),s.push(B,M,T)}this.setIndex(s),this.setAttribute("position",new je(o,3)),this.setAttribute("uv",new je(a,2)),this.setAttribute("normal",new je(c,3))}static fromJSON(e){return new Cf(e.points,e.segments,e.phiStart,e.phiLength)}}class w0 extends Cf{constructor(e=1,n=1,i=4,r=8){const s=new jp;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new w0(e.radius,e.length,e.capSegments,e.radialSegments)}}class I0 extends yt{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new D,u=new le;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const m=i+d/n*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new je(o,3)),this.setAttribute("normal",new je(a,3)),this.setAttribute("uv",new je(l,2))}static fromJSON(e){return new I0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class mu extends yt{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],p=[],m=[];let A=0;const g=[],v=i/2;let C=0;y(),o===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new je(d,3)),this.setAttribute("normal",new je(p,3)),this.setAttribute("uv",new je(m,2));function y(){const S=new D,I=new D;let T=0;const B=(n-e)/i;for(let M=0;M<=s;M++){const R=[],P=M/s,L=P*(n-e)+e;for(let V=0;V<=r;V++){const N=V/r,U=N*l+a,j=Math.sin(U),X=Math.cos(U);I.x=L*j,I.y=-P*i+v,I.z=L*X,d.push(I.x,I.y,I.z),S.set(j,B,X).normalize(),p.push(S.x,S.y,S.z),m.push(N,1-P),R.push(A++)}g.push(R)}for(let M=0;M<r;M++)for(let R=0;R<s;R++){const P=g[R][M],L=g[R+1][M],V=g[R+1][M+1],N=g[R][M+1];u.push(P,L,N),u.push(L,V,N),T+=6}c.addGroup(C,T,0),C+=T}function x(S){const I=A,T=new le,B=new D;let M=0;const R=S===!0?e:n,P=S===!0?1:-1;for(let V=1;V<=r;V++)d.push(0,v*P,0),p.push(0,P,0),m.push(.5,.5),A++;const L=A;for(let V=0;V<=r;V++){const U=V/r*l+a,j=Math.cos(U),X=Math.sin(U);B.x=R*X,B.y=v*P,B.z=R*j,d.push(B.x,B.y,B.z),p.push(0,P,0),T.x=j*.5+.5,T.y=X*.5*P+.5,m.push(T.x,T.y),A++}for(let V=0;V<r;V++){const N=I+V,U=L+V;S===!0?u.push(U,U+1,N):u.push(U+1,U,N),M+=3}c.addGroup(C,M,S===!0?1:2),C+=M}}static fromJSON(e){return new mu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _0 extends mu{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new _0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ma extends yt{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new je(s,3)),this.setAttribute("normal",new je(s.slice(),3)),this.setAttribute("uv",new je(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(y){const x=new D,S=new D,I=new D;for(let T=0;T<n.length;T+=3)m(n[T+0],x),m(n[T+1],S),m(n[T+2],I),l(x,S,I,y)}function l(y,x,S,I){const T=I+1,B=[];for(let M=0;M<=T;M++){B[M]=[];const R=y.clone().lerp(S,M/T),P=x.clone().lerp(S,M/T),L=T-M;for(let V=0;V<=L;V++)V===0&&M===T?B[M][V]=R:B[M][V]=R.clone().lerp(P,V/L)}for(let M=0;M<T;M++)for(let R=0;R<2*(T-M)-1;R++){const P=Math.floor(R/2);R%2===0?(p(B[M][P+1]),p(B[M+1][P]),p(B[M][P])):(p(B[M][P+1]),p(B[M+1][P+1]),p(B[M+1][P]))}}function c(y){const x=new D;for(let S=0;S<s.length;S+=3)x.x=s[S+0],x.y=s[S+1],x.z=s[S+2],x.normalize().multiplyScalar(y),s[S+0]=x.x,s[S+1]=x.y,s[S+2]=x.z}function u(){const y=new D;for(let x=0;x<s.length;x+=3){y.x=s[x+0],y.y=s[x+1],y.z=s[x+2];const S=v(y)/2/Math.PI+.5,I=C(y)/Math.PI+.5;o.push(S,1-I)}A(),d()}function d(){for(let y=0;y<o.length;y+=6){const x=o[y+0],S=o[y+2],I=o[y+4],T=Math.max(x,S,I),B=Math.min(x,S,I);T>.9&&B<.1&&(x<.2&&(o[y+0]+=1),S<.2&&(o[y+2]+=1),I<.2&&(o[y+4]+=1))}}function p(y){s.push(y.x,y.y,y.z)}function m(y,x){const S=y*3;x.x=e[S+0],x.y=e[S+1],x.z=e[S+2]}function A(){const y=new D,x=new D,S=new D,I=new D,T=new le,B=new le,M=new le;for(let R=0,P=0;R<s.length;R+=9,P+=6){y.set(s[R+0],s[R+1],s[R+2]),x.set(s[R+3],s[R+4],s[R+5]),S.set(s[R+6],s[R+7],s[R+8]),T.set(o[P+0],o[P+1]),B.set(o[P+2],o[P+3]),M.set(o[P+4],o[P+5]),I.copy(y).add(x).add(S).divideScalar(3);const L=v(I);g(T,P+0,y,L),g(B,P+2,x,L),g(M,P+4,S,L)}}function g(y,x,S,I){I<0&&y.x===1&&(o[x]=y.x-1),S.x===0&&S.z===0&&(o[x]=I/2/Math.PI+.5)}function v(y){return Math.atan2(y.z,-y.x)}function C(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}static fromJSON(e){return new Ma(e.vertices,e.indices,e.radius,e.details)}}class M0 extends Ma{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new M0(e.radius,e.detail)}}const Km=new D,Ym=new D,Vv=new D,Xm=new hs;class FR extends yt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(Kc*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},m=[];for(let A=0;A<l;A+=3){o?(c[0]=o.getX(A),c[1]=o.getX(A+1),c[2]=o.getX(A+2)):(c[0]=A,c[1]=A+1,c[2]=A+2);const{a:g,b:v,c:C}=Xm;if(g.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),C.fromBufferAttribute(a,c[2]),Xm.getNormal(Vv),d[0]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,d[1]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,d[2]=`${Math.round(C.x*r)},${Math.round(C.y*r)},${Math.round(C.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let y=0;y<3;y++){const x=(y+1)%3,S=d[y],I=d[x],T=Xm[u[y]],B=Xm[u[x]],M=`${S}_${I}`,R=`${I}_${S}`;R in p&&p[R]?(Vv.dot(p[R].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(B.x,B.y,B.z)),p[R]=null):M in p||(p[M]={index0:c[y],index1:c[x],normal:Vv.clone()})}}for(const A in p)if(p[A]){const{index0:g,index1:v}=p[A];Km.fromBufferAttribute(a,g),Ym.fromBufferAttribute(a,v),m.push(Km.x,Km.y,Km.z),m.push(Ym.x,Ym.y,Ym.z)}this.setAttribute("position",new je(m,3))}}}class qc extends jp{constructor(e){super(e),this.uuid=Fr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new jp().fromJSON(r))}return this}}const uJ={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=kR(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,p,m;if(i&&(s=mJ(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let A=n;A<r;A+=n)d=t[A],p=t[A+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Kp(s,o,n,a,l,m,0),o}};function kR(t,e,n,i,r){let s,o;if(r===_J(t,e,n,i)>0)for(s=e;s<n;s+=i)o=uw(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=uw(s,t[s],t[s+1],o);return o&&X2(o,o.next)&&(Xp(o),o=o.next),o}function su(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(X2(n,n.next)||Tn(n.prev,n,n.next)===0)){if(Xp(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Kp(t,e,n,i,r,s,o){if(!t)return;!o&&s&&xJ(t,i,r,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?fJ(t,i,r,s):hJ(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Xp(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=dJ(su(t),e,n),Kp(t,e,n,i,r,s,2)):o===2&&pJ(t,e,n,i,r,s):Kp(su(t),e,n,i,r,s,1);break}}}function hJ(t){const e=t.prev,n=t,i=t.next;if(Tn(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,l=n.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let A=i.next;for(;A!==e;){if(A.x>=u&&A.x<=p&&A.y>=d&&A.y<=m&&Eh(r,a,s,l,o,c,A.x,A.y)&&Tn(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function fJ(t,e,n,i){const r=t.prev,s=t,o=t.next;if(Tn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,A=u<d?u<p?u:p:d<p?d:p,g=a>l?a>c?a:c:l>c?l:c,v=u>d?u>p?u:p:d>p?d:p,C=g8(m,A,e,n,i),y=g8(g,v,e,n,i);let x=t.prevZ,S=t.nextZ;for(;x&&x.z>=C&&S&&S.z<=y;){if(x.x>=m&&x.x<=g&&x.y>=A&&x.y<=v&&x!==r&&x!==o&&Eh(a,u,l,d,c,p,x.x,x.y)&&Tn(x.prev,x,x.next)>=0||(x=x.prevZ,S.x>=m&&S.x<=g&&S.y>=A&&S.y<=v&&S!==r&&S!==o&&Eh(a,u,l,d,c,p,S.x,S.y)&&Tn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;x&&x.z>=C;){if(x.x>=m&&x.x<=g&&x.y>=A&&x.y<=v&&x!==r&&x!==o&&Eh(a,u,l,d,c,p,x.x,x.y)&&Tn(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;S&&S.z<=y;){if(S.x>=m&&S.x<=g&&S.y>=A&&S.y<=v&&S!==r&&S!==o&&Eh(a,u,l,d,c,p,S.x,S.y)&&Tn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function dJ(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!X2(r,s)&&NR(r,i,i.next,s)&&Yp(r,s)&&Yp(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),Xp(i),Xp(i.next),i=t=s),i=i.next}while(i!==t);return su(i)}function pJ(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&SJ(o,a)){let l=OR(o,a);o=su(o,o.next),l=su(l,l.next),Kp(o,e,n,i,r,s,0),Kp(l,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function mJ(t,e,n,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=kR(t,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(EJ(c));for(r.sort(AJ),s=0;s<r.length;s++)n=gJ(r[s],n);return n}function AJ(t,e){return t.x-e.x}function gJ(t,e){const n=vJ(t,e);if(!n)return e;const i=OR(n,t);return su(i,i.next),su(n,n.next)}function vJ(t,e){let n=e,i=-1/0,r;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>i&&(i=p,r=n.x<n.next.x?n:n.next,p===s))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,d;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&Eh(o<c?s:i,o,l,c,o<c?i:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),Yp(n,t)&&(d<u||d===u&&(n.x>r.x||n.x===r.x&&yJ(r,n)))&&(r=n,u=d)),n=n.next;while(n!==a);return r}function yJ(t,e){return Tn(t.prev,t,e.prev)<0&&Tn(e.next,t,t.next)<0}function xJ(t,e,n,i){let r=t;do r.z===0&&(r.z=g8(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,CJ(r)}function CJ(t){let e,n,i,r,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return t}function g8(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function EJ(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Eh(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function SJ(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!wJ(t,e)&&(Yp(t,e)&&Yp(e,t)&&IJ(t,e)&&(Tn(t.prev,t,e.prev)||Tn(t,e.prev,e))||X2(t,e)&&Tn(t.prev,t,t.next)>0&&Tn(e.prev,e,e.next)>0)}function Tn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function X2(t,e){return t.x===e.x&&t.y===e.y}function NR(t,e,n,i){const r=Zm(Tn(t,e,n)),s=Zm(Tn(t,e,i)),o=Zm(Tn(n,i,t)),a=Zm(Tn(n,i,e));return!!(r!==s&&o!==a||r===0&&qm(t,n,e)||s===0&&qm(t,i,e)||o===0&&qm(n,t,i)||a===0&&qm(n,e,i))}function qm(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Zm(t){return t>0?1:t<0?-1:0}function wJ(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&NR(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Yp(t,e){return Tn(t.prev,t,t.next)<0?Tn(t,e,t.next)>=0&&Tn(t,t.prev,e)>=0:Tn(t,e,t.prev)<0||Tn(t,t.next,e)<0}function IJ(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function OR(t,e){const n=new v8(t.i,t.x,t.y),i=new v8(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function uw(t,e,n,i){const r=new v8(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Xp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function v8(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _J(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class _o{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return _o.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];hw(e),fw(i,e);let o=e.length;n.forEach(hw);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,fw(i,n[l]);const a=uJ.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function hw(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function fw(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class T0 extends yt{constructor(e=new qc([new le(.5,.5),new le(-.5,.5),new le(-.5,-.5),new le(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new je(r,3)),this.setAttribute("uv",new je(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,A=n.bevelSize!==void 0?n.bevelSize:m-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const C=n.extrudePath,y=n.UVGenerator!==void 0?n.UVGenerator:MJ;let x,S=!1,I,T,B,M;C&&(x=C.getSpacedPoints(u),S=!0,p=!1,I=C.computeFrenetFrames(u,!1),T=new D,B=new D,M=new D),p||(v=0,m=0,A=0,g=0);const R=a.extractPoints(c);let P=R.shape;const L=R.holes;if(!_o.isClockWise(P)){P=P.reverse();for(let ue=0,oe=L.length;ue<oe;ue++){const _e=L[ue];_o.isClockWise(_e)&&(L[ue]=_e.reverse())}}const N=_o.triangulateShape(P,L),U=P;for(let ue=0,oe=L.length;ue<oe;ue++){const _e=L[ue];P=P.concat(_e)}function j(ue,oe,_e){return oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),oe.clone().multiplyScalar(_e).add(ue)}const X=P.length,te=N.length;function k(ue,oe,_e){let He,ke,tt;const et=ue.x-oe.x,Ye=ue.y-oe.y,_t=_e.x-ue.x,Mt=_e.y-ue.y,Q=et*et+Ye*Ye,F=et*Mt-Ye*_t;if(Math.abs(F)>Number.EPSILON){const ce=Math.sqrt(Q),Ie=Math.sqrt(_t*_t+Mt*Mt),Re=oe.x-Ye/ce,Fe=oe.y+et/ce,ct=_e.x-Mt/Ie,Oe=_e.y+_t/Ie,ge=((ct-Re)*Mt-(Oe-Fe)*_t)/(et*Mt-Ye*_t);He=Re+et*ge-ue.x,ke=Fe+Ye*ge-ue.y;const Ze=He*He+ke*ke;if(Ze<=2)return new le(He,ke);tt=Math.sqrt(Ze/2)}else{let ce=!1;et>Number.EPSILON?_t>Number.EPSILON&&(ce=!0):et<-Number.EPSILON?_t<-Number.EPSILON&&(ce=!0):Math.sign(Ye)===Math.sign(Mt)&&(ce=!0),ce?(He=-Ye,ke=et,tt=Math.sqrt(Q)):(He=et,ke=Ye,tt=Math.sqrt(Q/2))}return new le(He/tt,ke/tt)}const J=[];for(let ue=0,oe=U.length,_e=oe-1,He=ue+1;ue<oe;ue++,_e++,He++)_e===oe&&(_e=0),He===oe&&(He=0),J[ue]=k(U[ue],U[_e],U[He]);const W=[];let $,H=J.concat();for(let ue=0,oe=L.length;ue<oe;ue++){const _e=L[ue];$=[];for(let He=0,ke=_e.length,tt=ke-1,et=He+1;He<ke;He++,tt++,et++)tt===ke&&(tt=0),et===ke&&(et=0),$[He]=k(_e[He],_e[tt],_e[et]);W.push($),H=H.concat($)}for(let ue=0;ue<v;ue++){const oe=ue/v,_e=m*Math.cos(oe*Math.PI/2),He=A*Math.sin(oe*Math.PI/2)+g;for(let ke=0,tt=U.length;ke<tt;ke++){const et=j(U[ke],J[ke],He);Te(et.x,et.y,-_e)}for(let ke=0,tt=L.length;ke<tt;ke++){const et=L[ke];$=W[ke];for(let Ye=0,_t=et.length;Ye<_t;Ye++){const Mt=j(et[Ye],$[Ye],He);Te(Mt.x,Mt.y,-_e)}}}const ne=A+g;for(let ue=0;ue<X;ue++){const oe=p?j(P[ue],H[ue],ne):P[ue];S?(B.copy(I.normals[0]).multiplyScalar(oe.x),T.copy(I.binormals[0]).multiplyScalar(oe.y),M.copy(x[0]).add(B).add(T),Te(M.x,M.y,M.z)):Te(oe.x,oe.y,0)}for(let ue=1;ue<=u;ue++)for(let oe=0;oe<X;oe++){const _e=p?j(P[oe],H[oe],ne):P[oe];S?(B.copy(I.normals[ue]).multiplyScalar(_e.x),T.copy(I.binormals[ue]).multiplyScalar(_e.y),M.copy(x[ue]).add(B).add(T),Te(M.x,M.y,M.z)):Te(_e.x,_e.y,d/u*ue)}for(let ue=v-1;ue>=0;ue--){const oe=ue/v,_e=m*Math.cos(oe*Math.PI/2),He=A*Math.sin(oe*Math.PI/2)+g;for(let ke=0,tt=U.length;ke<tt;ke++){const et=j(U[ke],J[ke],He);Te(et.x,et.y,d+_e)}for(let ke=0,tt=L.length;ke<tt;ke++){const et=L[ke];$=W[ke];for(let Ye=0,_t=et.length;Ye<_t;Ye++){const Mt=j(et[Ye],$[Ye],He);S?Te(Mt.x,Mt.y+x[u-1].y,x[u-1].x+_e):Te(Mt.x,Mt.y,d+_e)}}}de(),Ae();function de(){const ue=r.length/3;if(p){let oe=0,_e=X*oe;for(let He=0;He<te;He++){const ke=N[He];Pe(ke[2]+_e,ke[1]+_e,ke[0]+_e)}oe=u+v*2,_e=X*oe;for(let He=0;He<te;He++){const ke=N[He];Pe(ke[0]+_e,ke[1]+_e,ke[2]+_e)}}else{for(let oe=0;oe<te;oe++){const _e=N[oe];Pe(_e[2],_e[1],_e[0])}for(let oe=0;oe<te;oe++){const _e=N[oe];Pe(_e[0]+X*u,_e[1]+X*u,_e[2]+X*u)}}i.addGroup(ue,r.length/3-ue,0)}function Ae(){const ue=r.length/3;let oe=0;q(U,oe),oe+=U.length;for(let _e=0,He=L.length;_e<He;_e++){const ke=L[_e];q(ke,oe),oe+=ke.length}i.addGroup(ue,r.length/3-ue,1)}function q(ue,oe){let _e=ue.length;for(;--_e>=0;){const He=_e;let ke=_e-1;ke<0&&(ke=ue.length-1);for(let tt=0,et=u+v*2;tt<et;tt++){const Ye=X*tt,_t=X*(tt+1),Mt=oe+He+Ye,Q=oe+ke+Ye,F=oe+ke+_t,ce=oe+He+_t;De(Mt,Q,F,ce)}}}function Te(ue,oe,_e){l.push(ue),l.push(oe),l.push(_e)}function Pe(ue,oe,_e){Ce(ue),Ce(oe),Ce(_e);const He=r.length/3,ke=y.generateTopUV(i,r,He-3,He-2,He-1);Me(ke[0]),Me(ke[1]),Me(ke[2])}function De(ue,oe,_e,He){Ce(ue),Ce(oe),Ce(He),Ce(oe),Ce(_e),Ce(He);const ke=r.length/3,tt=y.generateSideWallUV(i,r,ke-6,ke-3,ke-2,ke-1);Me(tt[0]),Me(tt[1]),Me(tt[3]),Me(tt[1]),Me(tt[2]),Me(tt[3])}function Ce(ue){r.push(l[ue*3+0]),r.push(l[ue*3+1]),r.push(l[ue*3+2])}function Me(ue){s.push(ue.x),s.push(ue.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return TJ(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new zx[r.type]().fromJSON(r)),new T0(i,e.options)}}const MJ={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new le(s,o),new le(a,l),new le(c,u)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],A=e[r*3+2],g=e[s*3],v=e[s*3+1],C=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new le(o,1-l),new le(c,1-d),new le(p,1-A),new le(g,1-C)]:[new le(a,1-l),new le(u,1-d),new le(m,1-A),new le(v,1-C)]}};function TJ(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class B0 extends Ma{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new B0(e.radius,e.detail)}}class Ef extends Ma{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ef(e.radius,e.detail)}}class b0 extends yt{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let d=e;const p=(n-e)/r,m=new D,A=new le;for(let g=0;g<=r;g++){for(let v=0;v<=i;v++){const C=s+v/i*o;m.x=d*Math.cos(C),m.y=d*Math.sin(C),l.push(m.x,m.y,m.z),c.push(0,0,1),A.x=(m.x/n+1)/2,A.y=(m.y/n+1)/2,u.push(A.x,A.y)}d+=p}for(let g=0;g<r;g++){const v=g*(i+1);for(let C=0;C<i;C++){const y=C+v,x=y,S=y+i+1,I=y+i+2,T=y+1;a.push(x,S,T),a.push(S,I,T)}}this.setIndex(a),this.setAttribute("position",new je(l,3)),this.setAttribute("normal",new je(c,3)),this.setAttribute("uv",new je(u,2))}static fromJSON(e){return new b0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class R0 extends yt{constructor(e=new qc([new le(0,.5),new le(-.5,-.5),new le(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new je(r,3)),this.setAttribute("normal",new je(s,3)),this.setAttribute("uv",new je(o,2));function c(u){const d=r.length/3,p=u.extractPoints(n);let m=p.shape;const A=p.holes;_o.isClockWise(m)===!1&&(m=m.reverse());for(let v=0,C=A.length;v<C;v++){const y=A[v];_o.isClockWise(y)===!0&&(A[v]=y.reverse())}const g=_o.triangulateShape(m,A);for(let v=0,C=A.length;v<C;v++){const y=A[v];m=m.concat(y)}for(let v=0,C=m.length;v<C;v++){const y=m[v];r.push(y.x,y.y,0),s.push(0,0,1),o.push(y.x,y.y)}for(let v=0,C=g.length;v<C;v++){const y=g[v],x=y[0]+d,S=y[1]+d,I=y[2]+d;i.push(x,S,I),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return BJ(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new R0(i,e.curveSegments)}}function BJ(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class Sf extends yt{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new D,p=new D,m=[],A=[],g=[],v=[];for(let C=0;C<=i;C++){const y=[],x=C/i;let S=0;C==0&&o==0?S=.5/n:C==i&&l==Math.PI&&(S=-.5/n);for(let I=0;I<=n;I++){const T=I/n;d.x=-e*Math.cos(r+T*s)*Math.sin(o+x*a),d.y=e*Math.cos(o+x*a),d.z=e*Math.sin(r+T*s)*Math.sin(o+x*a),A.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),v.push(T+S,1-x),y.push(c++)}u.push(y)}for(let C=0;C<i;C++)for(let y=0;y<n;y++){const x=u[C][y+1],S=u[C][y],I=u[C+1][y],T=u[C+1][y+1];(C!==0||o>0)&&m.push(x,S,T),(C!==i-1||l<Math.PI)&&m.push(S,I,T)}this.setIndex(m),this.setAttribute("position",new je(A,3)),this.setAttribute("normal",new je(g,3)),this.setAttribute("uv",new je(v,2))}static fromJSON(e){return new Sf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class P0 extends Ma{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new P0(e.radius,e.detail)}}class D0 extends yt{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new D,d=new D,p=new D;for(let m=0;m<=i;m++)for(let A=0;A<=r;A++){const g=A/r*s,v=m/i*Math.PI*2;d.x=(e+n*Math.cos(v))*Math.cos(g),d.y=(e+n*Math.cos(v))*Math.sin(g),d.z=n*Math.sin(v),a.push(d.x,d.y,d.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(A/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let A=1;A<=r;A++){const g=(r+1)*m+A-1,v=(r+1)*(m-1)+A-1,C=(r+1)*(m-1)+A,y=(r+1)*m+A;o.push(g,v,y),o.push(v,C,y)}this.setIndex(o),this.setAttribute("position",new je(a,3)),this.setAttribute("normal",new je(l,3)),this.setAttribute("uv",new je(c,2))}static fromJSON(e){return new D0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class L0 extends yt{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],d=new D,p=new D,m=new D,A=new D,g=new D,v=new D,C=new D;for(let x=0;x<=i;++x){const S=x/i*s*Math.PI*2;y(S,s,o,e,m),y(S+.01,s,o,e,A),v.subVectors(A,m),C.addVectors(A,m),g.crossVectors(v,C),C.crossVectors(g,v),g.normalize(),C.normalize();for(let I=0;I<=r;++I){const T=I/r*Math.PI*2,B=-n*Math.cos(T),M=n*Math.sin(T);d.x=m.x+(B*C.x+M*g.x),d.y=m.y+(B*C.y+M*g.y),d.z=m.z+(B*C.z+M*g.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),u.push(x/i),u.push(I/r)}}for(let x=1;x<=i;x++)for(let S=1;S<=r;S++){const I=(r+1)*(x-1)+(S-1),T=(r+1)*x+(S-1),B=(r+1)*x+S,M=(r+1)*(x-1)+S;a.push(I,T,M),a.push(T,B,M)}this.setIndex(a),this.setAttribute("position",new je(l,3)),this.setAttribute("normal",new je(c,3)),this.setAttribute("uv",new je(u,2));function y(x,S,I,T,B){const M=Math.cos(x),R=Math.sin(x),P=I/S*x,L=Math.cos(P);B.x=T*(2+L)*.5*M,B.y=T*(2+L)*R*.5,B.z=T*Math.sin(P)*.5}}static fromJSON(e){return new L0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class F0 extends yt{constructor(e=new Qx(new D(-1,-1,0),new D(-1,1,0),new D(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new D,l=new D,c=new le;let u=new D;const d=[],p=[],m=[],A=[];g(),this.setIndex(A),this.setAttribute("position",new je(d,3)),this.setAttribute("normal",new je(p,3)),this.setAttribute("uv",new je(m,2));function g(){for(let x=0;x<n;x++)v(x);v(s===!1?n:0),y(),C()}function v(x){u=e.getPointAt(x/n,u);const S=o.normals[x],I=o.binormals[x];for(let T=0;T<=r;T++){const B=T/r*Math.PI*2,M=Math.sin(B),R=-Math.cos(B);l.x=R*S.x+M*I.x,l.y=R*S.y+M*I.y,l.z=R*S.z+M*I.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function C(){for(let x=1;x<=n;x++)for(let S=1;S<=r;S++){const I=(r+1)*(x-1)+(S-1),T=(r+1)*x+(S-1),B=(r+1)*x+S,M=(r+1)*(x-1)+S;A.push(I,T,M),A.push(T,B,M)}}function y(){for(let x=0;x<=n;x++)for(let S=0;S<=r;S++)c.x=x/n,c.y=S/r,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new F0(new zx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class UR extends yt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new D,s=new D;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],p=d.start,m=d.count;for(let A=p,g=p+m;A<g;A+=3)for(let v=0;v<3;v++){const C=a.getX(A+v),y=a.getX(A+(v+1)%3);r.fromBufferAttribute(o,C),s.fromBufferAttribute(o,y),dw(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),dw(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new je(n,3))}}}function dw(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var pw=Object.freeze({__proto__:null,BoxGeometry:_a,CapsuleGeometry:w0,CircleGeometry:I0,ConeGeometry:_0,CylinderGeometry:mu,DodecahedronGeometry:M0,EdgesGeometry:FR,ExtrudeGeometry:T0,IcosahedronGeometry:B0,LatheGeometry:Cf,OctahedronGeometry:Ef,PlaneGeometry:pu,PolyhedronGeometry:Ma,RingGeometry:b0,ShapeGeometry:R0,SphereGeometry:Sf,TetrahedronGeometry:P0,TorusGeometry:D0,TorusKnotGeometry:L0,TubeGeometry:F0,WireframeGeometry:UR});class GR extends Zn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class tp extends jt{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class k0 extends Zn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lo extends k0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new be(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class QR extends Zn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new be(16777215),this.specular=new be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=v0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HR extends Zn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class N0 extends Zn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class zR extends Zn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=v0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VR extends Zn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WR extends Qi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ls(t,e,n){return Vx(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Hc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Vx(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JR(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function y8(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r}function Wx(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function bJ(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const A=c.times[m]*r;if(!(A<n||A>=i)){d.push(c.times[m]);for(let g=0;g<u;++g)p.push(c.values[m*u+g])}}d.length!==0&&(c.times=Hc(d,c.times.constructor),c.values=Hc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function RJ(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(C){return C.name===a.name&&C.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const A=a.times.length-1;let g;if(s<=a.times[0]){const C=u,y=d-u;g=ls(a.values,C,y)}else if(s>=a.times[A]){const C=A*d+u,y=C+d-u;g=ls(a.values,C,y)}else{const C=a.createInterpolant(),y=u,x=d-u;C.evaluate(s),g=ls(C.resultBuffer,y,x)}l==="quaternion"&&new ai().fromArray(g).normalize().conjugate().toArray(g);const v=c.times.length;for(let C=0;C<v;++C){const y=C*m+p;if(l==="quaternion")ai.multiplyQuaternionsFlat(c.values,y,g,0,c.values,y);else{const x=m-p*2;for(let S=0;S<x;++S)c.values[y+S]-=g[S]}}}return t.blendMode=Ex,t}var PJ=Object.freeze({__proto__:null,arraySlice:ls,convertArray:Hc,flattenJSON:Wx,getKeyframeOrder:JR,isTypedArray:Vx,makeClipAdditive:RJ,sortedArray:y8,subclip:bJ});class wf{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class jR extends wf{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Uc,endingEnd:Uc}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Gc:s=e,a=2*n-i;break;case zp:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Gc:o=e,l=2*i-n;break;case zp:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,A=(i-n)/(r-n),g=A*A,v=g*A,C=-p*v+2*p*g-p*A,y=(1+p)*v+(-1.5-2*p)*g+(-.5+p)*A+1,x=(-1-m)*v+(1.5+m)*g+.5*A,S=m*v-m*g;for(let I=0;I!==a;++I)s[I]=C*o[u+I]+y*o[c+I]+x*o[l+I]+S*o[d+I];return s}}class Jx extends wf{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-n)/(r-n),d=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*u;return s}}class KR extends wf{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class $s{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hc(n,this.TimeBufferType),this.values=Hc(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Hc(e.times,Array),values:Hc(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new KR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Jx(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new jR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Xh:n=this.InterpolantFactoryMethodDiscrete;break;case iu:n=this.InterpolantFactoryMethodLinear;break;case VA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xh;case this.InterpolantFactoryMethodLinear:return iu;case this.InterpolantFactoryMethodSmooth:return VA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=ls(i,s,o),this.values=ls(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&Vx(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=ls(this.times),n=ls(this.values),i=this.getValueSize(),r=this.getInterpolation()===VA,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let A=0;A!==i;++A){const g=n[d+A];if(g!==n[p+A]||g!==n[m+A]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)n[p+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=ls(e,0,o),this.values=ls(n,0,o*i)):(this.times=e,this.values=n),this}clone(){const e=ls(this.times,0),n=ls(this.values,0),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}$s.prototype.TimeBufferType=Float32Array;$s.prototype.ValueBufferType=Float32Array;$s.prototype.DefaultInterpolation=iu;class Au extends $s{}Au.prototype.ValueTypeName="bool";Au.prototype.ValueBufferType=Array;Au.prototype.DefaultInterpolation=Xh;Au.prototype.InterpolantFactoryMethodLinear=void 0;Au.prototype.InterpolantFactoryMethodSmooth=void 0;class jx extends $s{}jx.prototype.ValueTypeName="color";class ef extends $s{}ef.prototype.ValueTypeName="number";class YR extends wf{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let c=e*a;for(let u=c+a;c!==u;c+=4)ai.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Pl extends $s{InterpolantFactoryMethodLinear(e){return new YR(this.times,this.values,this.getValueSize(),e)}}Pl.prototype.ValueTypeName="quaternion";Pl.prototype.DefaultInterpolation=iu;Pl.prototype.InterpolantFactoryMethodSmooth=void 0;class gu extends $s{}gu.prototype.ValueTypeName="string";gu.prototype.ValueBufferType=Array;gu.prototype.DefaultInterpolation=Xh;gu.prototype.InterpolantFactoryMethodLinear=void 0;gu.prototype.InterpolantFactoryMethodSmooth=void 0;class tf extends $s{}tf.prototype.ValueTypeName="vector";class nf{constructor(e,n=-1,i,r=O2){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Fr(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(LJ(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push($s.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=JR(l);l=y8(l,1,u),c=y8(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new ef(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,A,g){if(m.length!==0){const v=[],C=[];Wx(m,v,C,A),v.length!==0&&g.push(new d(p,v,C))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let A;for(A=0;A<p.length;A++)if(p[A].morphTargets)for(let g=0;g<p[A].morphTargets.length;g++)m[p[A].morphTargets[g]]=-1;for(const g in m){const v=[],C=[];for(let y=0;y!==p[A].morphTargets.length;++y){const x=p[A];v.push(x.time),C.push(x.morphTarget===g?1:0)}r.push(new ef(".morphTargetInfluence["+g+"]",v,C))}l=m.length*o}else{const m=".bones["+n[d].name+"]";i(tf,m+".position",p,"pos",r),i(Pl,m+".quaternion",p,"rot",r),i(tf,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function DJ(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ef;case"vector":case"vector2":case"vector3":case"vector4":return tf;case"color":return jx;case"quaternion":return Pl;case"bool":case"boolean":return Au;case"string":return gu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function LJ(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=DJ(t.type);if(t.times===void 0){const n=[],i=[];Wx(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ou={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Kx{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],A=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return A}return null}}}const Sh=new Kx;class Bi{constructor(e){this.manager=e!==void 0?e:Sh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ia={};class FJ extends Error{constructor(e,n){super(e),this.response=n}}class li extends Bi{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ou.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ia[e]!==void 0){ia[e].push({onLoad:n,onProgress:i,onError:r});return}ia[e]=[],ia[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ia[e],d=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,A=m!==0;let g=0;const v=new ReadableStream({start(C){y();function y(){d.read().then(({done:x,value:S})=>{if(x)C.close();else{g+=S.byteLength;const I=new ProgressEvent("progress",{lengthComputable:A,loaded:g,total:m});for(let T=0,B=u.length;T<B;T++){const M=u[T];M.onProgress&&M.onProgress(I)}C.enqueue(S),y()}})}}});return new Response(v)}else throw new FJ(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(A=>m.decode(A))}}}).then(c=>{ou.add(e,c);const u=ia[e];delete ia[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=ia[e];if(u===void 0)throw this.manager.itemError(e),c;delete ia[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class kJ extends Bi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new li(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=nf.parse(e[i]);n.push(r)}return n}}class NJ extends Bi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new ru,l=new li(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=ln),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let A=0;A<m;A++){o[A]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[A].mipmaps.push(p.mipmaps[A*p.mipmapCount+g]),o[A].format=p.format,o[A].width=p.width,o[A].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=ln),a.format=p.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class qp extends Bi{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ou.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Jp("img");function l(){u(),ou.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class OJ extends Bi{constructor(e){super(e)}load(e,n,i,r){const s=new x0,o=new qp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class UJ extends Bi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Io,a=new li(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:_n,o.wrapT=c.wrapT!==void 0?c.wrapT:_n,o.magFilter=c.magFilter!==void 0?c.magFilter:ln,o.minFilter=c.minFilter!==void 0?c.minFilter:ln,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=xs),c.mipmapCount===1&&(o.minFilter=ln),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c))},i,r),o}}class O0 extends Bi{constructor(e){super(e)}load(e,n,i,r){const s=new yn,o=new qp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class Wl extends Ht{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new be(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class XR extends Wl{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.groundColor=new be(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Wv=new Je,mw=new D,Aw=new D;class Yx{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new le(512,512),this.map=null,this.mapPass=null,this.matrix=new Je,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Q2,this._frameExtents=new le(1,1),this._viewportCount=1,this._viewports=[new Qt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;mw.setFromMatrixPosition(e.matrixWorld),n.position.copy(mw),Aw.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Aw),n.updateMatrixWorld(),Wv.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Wv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class GJ extends Yx{constructor(){super(new sn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=Wp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Xx extends Wl{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.target=new Ht,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new GJ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const gw=new Je,Ad=new D,Jv=new D;class QJ extends Yx{constructor(){super(new sn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new le(4,2),this._viewportCount=6,this._viewports=[new Qt(2,1,1,1),new Qt(0,1,1,1),new Qt(3,1,1,1),new Qt(1,1,1,1),new Qt(3,0,1,1),new Qt(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Ad.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ad),Jv.copy(i.position),Jv.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(Jv),i.updateMatrixWorld(),r.makeTranslation(-Ad.x,-Ad.y,-Ad.z),gw.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gw)}}class qx extends Wl{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new QJ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class HJ extends Yx{constructor(){super(new Rr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Zx extends Wl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.target=new Ht,this.shadow=new HJ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class qR extends Wl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class ZR extends Wl{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class $R{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new D)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class q2 extends Wl{constructor(e=new $R,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Z2 extends Bi{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new li(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=Z2.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new be().setHex(o.value);break;case"v2":r.uniforms[s].value=new le().fromArray(o.value);break;case"v3":r.uniforms[s].value=new D().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Qt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Zi().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Je().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new le().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:GR,SpriteMaterial:Lx,RawShaderMaterial:tp,ShaderMaterial:jt,PointsMaterial:S0,MeshPhysicalMaterial:Lo,MeshStandardMaterial:k0,MeshPhongMaterial:QR,MeshToonMaterial:HR,MeshNormalMaterial:N0,MeshLambertMaterial:zR,MeshDepthMaterial:z2,MeshDistanceMaterial:Px,MeshBasicMaterial:Ii,MeshMatcapMaterial:VR,LineDashedMaterial:WR,LineBasicMaterial:Qi,Material:Zn};return new n[e]}}class Mo{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class eP extends yt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class tP extends Bi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new li(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(m,A){if(n[A]!==void 0)return n[A];const v=m.interleavedBuffers[A],C=s(m,v.buffer),y=xh(v.type,C),x=new C0(y,v.stride);return x.uuid=v.uuid,n[A]=x,x}function s(m,A){if(i[A]!==void 0)return i[A];const v=m.arrayBuffers[A],C=new Uint32Array(v).buffer;return i[A]=C,C}const o=e.isInstancedBufferGeometry?new eP:new yt,a=e.data.index;if(a!==void 0){const m=xh(a.type,a.array);o.setIndex(new Zt(m,1))}const l=e.data.attributes;for(const m in l){const A=l[m];let g;if(A.isInterleavedBufferAttribute){const v=r(e.data,A.data);g=new Rl(v,A.itemSize,A.offset,A.normalized)}else{const v=xh(A.type,A.array),C=A.isInstancedBufferAttribute?$h:Zt;g=new C(v,A.itemSize,A.normalized)}A.name!==void 0&&(g.name=A.name),A.usage!==void 0&&g.setUsage(A.usage),A.updateRange!==void 0&&(g.updateRange.offset=A.updateRange.offset,g.updateRange.count=A.updateRange.count),o.setAttribute(m,g)}const c=e.data.morphAttributes;if(c)for(const m in c){const A=c[m],g=[];for(let v=0,C=A.length;v<C;v++){const y=A[v];let x;if(y.isInterleavedBufferAttribute){const S=r(e.data,y.data);x=new Rl(S,y.itemSize,y.offset,y.normalized)}else{const S=xh(y.type,y.array);x=new Zt(S,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),g.push(x)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,A=d.length;m!==A;++m){const g=d[m];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new D;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Vl(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class zJ extends Bi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?Mo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new li(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?Mo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new li(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new qc().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new E0().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new tP;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in pw?a=pw[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new Z2;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=nf.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:xh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Kx(n);s=new qp(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let A=0,g=p.length;A<g;A++){const v=p[A],C=a(v);C!==null&&(C instanceof HTMLImageElement?m.push(C):m.push(new Io(C.data,C.width,C.height)))}r[d.uuid]=new Qc(m)}else{const m=a(d.url);r[d.uuid]=new Qc(m)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:xh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new qp(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],A=await s(m);A!==null&&(A instanceof HTMLImageElement?u.push(A):u.push(new Io(A.data,A.width,A.height)))}i[l.uuid]=new Qc(u)}else{const u=await s(l.url);i[l.uuid]=new Qc(u)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new x0,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Io:u=new yn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,VJ)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],vw),u.wrapT=i(a.wrap[1],vw)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,yw)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,yw)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,n,i,r,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let A=0,g=p.length;A<g;A++){const v=p[A];i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(i[v])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let u,d;switch(e.type){case"Scene":o=new Fg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new be(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new W2(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new V2(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new sn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Rr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new qR(e.color,e.intensity);break;case"DirectionalLight":o=new Zx(e.color,e.intensity);break;case"PointLight":o=new qx(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ZR(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Xx(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new XR(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new q2().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new Fx(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new tn(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,A=e.instanceColor;o=new kx(u,d,p),o.instanceMatrix=new $h(new Float32Array(m.array),16),A!==void 0&&(o.instanceColor=new $h(new Float32Array(A.array),A.itemSize));break;case"LOD":o=new BR;break;case"Line":o=new Ea(a(e.geometry),l(e.material));break;case"LineLoop":o=new Nx(a(e.geometry),l(e.material));break;case"LineSegments":o=new qs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new j2(a(e.geometry),l(e.material));break;case"Sprite":o=new TR(l(e.material));break;case"Group":o=new ha;break;case"Bone":o=new J2;break;default:o=new Ht}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const A=p[m];o.animations.push(s[A])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const A=p[m],g=o.getObjectByProperty("uuid",A.object);g!==void 0&&o.addLevel(g,A.distance,A.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const VJ={UVMapping:F2,CubeReflectionMapping:Ml,CubeRefractionMapping:Tl,EquirectangularReflectionMapping:Fp,EquirectangularRefractionMapping:kp,CubeUVReflectionMapping:Af},vw={RepeatWrapping:ys,ClampToEdgeWrapping:_n,MirroredRepeatWrapping:Yh},yw={NearestFilter:vt,NearestMipmapNearestFilter:Np,NearestMipmapLinearFilter:Dh,LinearFilter:ln,LinearMipmapNearestFilter:k2,LinearMipmapLinearFilter:xs};class nP extends Bi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ou.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ou.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let $m;class $x{static getContext(){return $m===void 0&&($m=new(window.AudioContext||window.webkitAudioContext)),$m}static setContext(e){$m=e}}class WJ extends Bi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new li(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);$x.getContext().decodeAudioData(l,function(u){n(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class JJ extends q2{constructor(e,n,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new be().set(e),s=new be().set(n),o=new D(r.r,r.g,r.b),a=new D(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class jJ extends q2{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const i=new be().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const xw=new Je,Cw=new Je,hc=new Je;class KJ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new sn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new sn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,hc.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(Kc*n.fov*.5)/n.zoom;let a,l;Cw.elements[12]=-r,xw.elements[12]=r,a=-o*n.aspect+s,l=o*n.aspect+s,hc.elements[0]=2*n.near/(l-a),hc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(hc),a=-o*n.aspect-s,l=o*n.aspect-s,hc.elements[0]=2*n.near/(l-a),hc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(hc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Cw),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(xw)}}class $2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Ew(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=Ew();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function Ew(){return(typeof performance>"u"?Date:performance).now()}const fc=new D,Sw=new ai,YJ=new D,dc=new D;class XJ extends Ht{constructor(){super(),this.type="AudioListener",this.context=$x.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(fc,Sw,YJ),dc.set(0,0,-1).applyQuaternion(Sw),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(fc.x,r),n.positionY.linearRampToValueAtTime(fc.y,r),n.positionZ.linearRampToValueAtTime(fc.z,r),n.forwardX.linearRampToValueAtTime(dc.x,r),n.forwardY.linearRampToValueAtTime(dc.y,r),n.forwardZ.linearRampToValueAtTime(dc.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(fc.x,fc.y,fc.z),n.setOrientation(dc.x,dc.y,dc.z,i.x,i.y,i.z)}}class iP extends Ht{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const pc=new D,ww=new ai,qJ=new D,mc=new D;class ZJ extends iP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(pc,ww,qJ),mc.set(0,0,1).applyQuaternion(ww);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(pc.x,i),n.positionY.linearRampToValueAtTime(pc.y,i),n.positionZ.linearRampToValueAtTime(pc.z,i),n.orientationX.linearRampToValueAtTime(mc.x,i),n.orientationY.linearRampToValueAtTime(mc.y,i),n.orientationZ.linearRampToValueAtTime(mc.z,i)}else n.setPosition(pc.x,pc.y,pc.z),n.setOrientation(mc.x,mc.y,mc.z)}}class $J{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class rP{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){ai.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;ai.multiplyQuaternionsFlat(e,o,e,n,e,i),ai.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const e9="\\[\\]\\.:\\/",ej=new RegExp("["+e9+"]","g"),t9="[^"+e9+"]",tj="[^"+e9.replace("\\.","")+"]",nj=/((?:WC+[\/:])*)/.source.replace("WC",t9),ij=/(WCOD+)?/.source.replace("WCOD",tj),rj=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t9),sj=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t9),oj=new RegExp("^"+nj+ij+rj+sj+"$"),aj=["material","materials","bones","map"];class lj{constructor(e,n,i){const r=i||Vt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Vt{constructor(e,n,i){this.path=n,this.parsedPath=i||Vt.parseTrackName(n),this.node=Vt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Vt.Composite(e,n,i):new Vt(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ej,"")}static parseTrackName(e){const n=oj.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);aj.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=Vt.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vt.Composite=lj;Vt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vt.prototype.GetterByBindingType=[Vt.prototype._getValue_direct,Vt.prototype._getValue_array,Vt.prototype._getValue_arrayElement,Vt.prototype._getValue_toArray];Vt.prototype.SetterByBindingTypeAndVersioning=[[Vt.prototype._setValue_direct,Vt.prototype._setValue_direct_setNeedsUpdate,Vt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_array,Vt.prototype._setValue_array_setNeedsUpdate,Vt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_arrayElement,Vt.prototype._setValue_arrayElement_setNeedsUpdate,Vt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_fromArray,Vt.prototype._setValue_fromArray_setNeedsUpdate,Vt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class cj{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Fr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],m=p.uuid;let A=n[m];if(A===void 0){A=l++,n[m]=A,e.push(p);for(let g=0,v=o;g!==v;++g)s[g].push(new Vt(p,i[g],r[g]))}else if(A<c){a=e[A];const g=--c,v=e[g];n[v.uuid]=A,e[A]=v,n[m]=g,e[g]=p;for(let C=0,y=o;C!==y;++C){const x=s[C],S=x[g];let I=x[A];x[A]=S,I===void 0&&(I=new Vt(p,i[C],r[C])),x[g]=I}}else e[A]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,p=e[d];n[p.uuid]=u,e[u]=p,n[c]=d,e[d]=l;for(let m=0,A=r;m!==A;++m){const g=i[m],v=g[d],C=g[u];g[u]=v,g[d]=C}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const p=--s,m=e[p],A=--o,g=e[A];n[m.uuid]=d,e[d]=m,n[g.uuid]=p,e[p]=g,e.pop();for(let v=0,C=r;v!==C;++v){const y=i[v],x=y[p],S=y[A];y[d]=x,y[p]=S,y.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let A=0,g=r;A!==g;++A){const v=i[A];v[d]=v[p],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(d);for(let p=u,m=l.length;p!==m;++p){const A=l[p];d[p]=new Vt(A,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class uj{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Uc,endingEnd:Uc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Ex:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case O2:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===uR;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===lR){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Gc,r.endingEnd=Gc):(e?r.endingStart=this.zeroSlopeAtStart?Gc:Uc:r.endingStart=zp,n?r.endingEnd=this.zeroSlopeAtEnd?Gc:Uc:r.endingEnd=zp)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}const hj=new Float32Array(1);class fj extends Do{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let A=u[m];if(A!==void 0)++A.referenceCount,o[d]=A;else{if(A=o[d],A!==void 0){A._cacheIndex===null&&(++A.referenceCount,this._addInactiveBinding(A,l,m));continue}const g=n&&n._propertyBindings[d].binding.parsedPath;A=new rP(Vt.create(i,m,g),p.ValueTypeName,p.getValueSize()),++A.referenceCount,this._addInactiveBinding(A,l,m),o[d]=A}a[d].resultBuffer=A.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new Jx(new Float32Array(2),new Float32Array(2),1,hj),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?nf.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=O2),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new uj(this,o,n,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?nf.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class n9{constructor(e){this.value=e}clone(){return new n9(this.value.clone===void 0?this.value:this.value.clone())}}let dj=0;class pj extends Do{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:dj++}),this.name="",this.usage=Vp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++)this.uniforms.push(n[i].clone());return this}clone(){return new this.constructor().copy(this)}}class mj extends C0{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Aj{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class sP{constructor(e,n,i=0,r=1/0){this.ray=new vf(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Xc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return x8(e,this,i,n),i.sort(Iw),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)x8(e[r],this,i,n);return i.sort(Iw),i}}function Iw(t,e){return t.distance-e.distance}function x8(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const r=t.children;for(let s=0,o=r.length;s<o;s++)x8(r[s],e,n,!0)}}class C8{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Wn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class gj{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const _w=new le;class oP{constructor(e=new le(1/0,1/0),n=new le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=_w.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return _w.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Mw=new D,eA=new D;class vj{constructor(e=new D,n=new D){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Mw.subVectors(e,this.start),eA.subVectors(this.end,this.start);const i=eA.dot(eA);let s=eA.dot(Mw)/i;return n&&(s=Wn(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Tw=new D;class yj extends Ht{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new yt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new je(r,3));const s=new Qi({fog:!1,toneMapped:!1});this.cone=new qs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Tw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Tw),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wa=new D,tA=new Je,jv=new Je;class xj extends qs{constructor(e){const n=aP(e),i=new yt,r=[],s=[],o=new be(0,0,1),a=new be(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new je(r,3)),i.setAttribute("color",new je(s,3));const l=new Qi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");jv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(tA.multiplyMatrices(jv,a.matrixWorld),Wa.setFromMatrixPosition(tA),r.setXYZ(o,Wa.x,Wa.y,Wa.z),tA.multiplyMatrices(jv,a.parent.matrixWorld),Wa.setFromMatrixPosition(tA),r.setXYZ(o+1,Wa.x,Wa.y,Wa.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function aP(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,aP(t.children[n]));return e}class Cj extends tn{constructor(e,n,i){const r=new Sf(n,4,2),s=new Ii({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Ej=new D,Bw=new be,bw=new be;class Sj extends Ht{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Ef(n);r.rotateY(Math.PI*.5),this.material=new Ii({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Zt(o,3)),this.add(new tn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Bw.copy(this.light.color),bw.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?Bw:bw;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Ej.setFromMatrixPosition(this.light.matrixWorld).negate())}}class wj extends qs{constructor(e=10,n=10,i=4473924,r=8947848){i=new be(i),r=new be(r);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,m=0,A=-a;p<=n;p++,A+=o){l.push(-a,0,A,a,0,A),l.push(A,0,-a,A,0,a);const g=p===s?i:r;g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3}const u=new yt;u.setAttribute("position",new je(l,3)),u.setAttribute("color",new je(c,3));const d=new Qi({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ij extends qs{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new be(s),o=new be(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),m=Math.sin(p)*e,A=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,A);const g=d&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let A=0;A<r;A++){let g=A/r*(Math.PI*2),v=Math.sin(g)*m,C=Math.cos(g)*m;a.push(v,0,C),l.push(p.r,p.g,p.b),g=(A+1)/r*(Math.PI*2),v=Math.sin(g)*m,C=Math.cos(g)*m,a.push(v,0,C),l.push(p.r,p.g,p.b)}}const c=new yt;c.setAttribute("position",new je(a,3)),c.setAttribute("color",new je(l,3));const u=new Qi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Rw=new D,nA=new D,Pw=new D;class _j extends Ht{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new yt;r.setAttribute("position",new je([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Qi({fog:!1,toneMapped:!1});this.lightPlane=new Ea(r,s),this.add(this.lightPlane),r=new yt,r.setAttribute("position",new je([0,0,0,0,0,1],3)),this.targetLine=new Ea(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Rw.setFromMatrixPosition(this.light.matrixWorld),nA.setFromMatrixPosition(this.light.target.matrixWorld),Pw.subVectors(nA,Rw),this.lightPlane.lookAt(nA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(nA),this.targetLine.scale.z=Pw.length()}}const iA=new D,kn=new y0;class Mj extends qs{constructor(e){const n=new yt,i=new Qi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(A,g){l(A),l(g)}function l(A){r.push(0,0,0),s.push(0,0,0),o[A]===void 0&&(o[A]=[]),o[A].push(r.length/3-1)}n.setAttribute("position",new je(r,3)),n.setAttribute("color",new je(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new be(16755200),u=new be(16711680),d=new be(43775),p=new be(16777215),m=new be(3355443);this.setColors(c,u,d,p,m)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;kn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),zn("c",n,e,kn,0,0,-1),zn("t",n,e,kn,0,0,1),zn("n1",n,e,kn,-i,-r,-1),zn("n2",n,e,kn,i,-r,-1),zn("n3",n,e,kn,-i,r,-1),zn("n4",n,e,kn,i,r,-1),zn("f1",n,e,kn,-i,-r,1),zn("f2",n,e,kn,i,-r,1),zn("f3",n,e,kn,-i,r,1),zn("f4",n,e,kn,i,r,1),zn("u1",n,e,kn,i*.7,r*1.1,-1),zn("u2",n,e,kn,-i*.7,r*1.1,-1),zn("u3",n,e,kn,0,r*2,-1),zn("cf1",n,e,kn,-i,0,1),zn("cf2",n,e,kn,i,0,1),zn("cf3",n,e,kn,0,-r,1),zn("cf4",n,e,kn,0,r,1),zn("cn1",n,e,kn,-i,0,-1),zn("cn2",n,e,kn,i,0,-1),zn("cn3",n,e,kn,0,-r,-1),zn("cn4",n,e,kn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function zn(t,e,n,i,r,s,o){iA.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],iA.x,iA.y,iA.z)}}const rA=new zl;class Tj extends qs{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new yt;s.setIndex(new Zt(i,1)),s.setAttribute("position",new Zt(r,3)),super(s,new Qi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&rA.setFromObject(this.object),rA.isEmpty())return;const n=rA.min,i=rA.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Bj extends qs{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new yt;s.setIndex(new Zt(i,1)),s.setAttribute("position",new je(r,3)),super(s,new Qi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class bj extends Ea{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new yt;o.setAttribute("position",new je(s,3)),o.computeBoundingSphere(),super(o,new Qi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new yt;l.setAttribute("position",new je(a,3)),l.computeBoundingSphere(),this.add(new tn(l,new Ii({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Dw=new D;let sA,Kv;class Rj extends Ht{constructor(e=new D(0,0,1),n=new D(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",sA===void 0&&(sA=new yt,sA.setAttribute("position",new je([0,0,0,0,1,0],3)),Kv=new mu(0,.5,1,5,1),Kv.translate(0,-.5,0)),this.position.copy(n),this.line=new Ea(sA,new Qi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new tn(Kv,new Ii({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Dw.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Dw,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Pj extends qs{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new yt;r.setAttribute("position",new je(n,3)),r.setAttribute("color",new je(i,3));const s=new Qi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new be,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class lP{constructor(){this.type="ShapePath",this.color=new be,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new jp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(C){const y=[];for(let x=0,S=C.length;x<S;x++){const I=C[x],T=new qc;T.curves=I.curves,y.push(T)}return y}function i(C,y){const x=y.length;let S=!1;for(let I=x-1,T=0;T<x;I=T++){let B=y[I],M=y[T],R=M.x-B.x,P=M.y-B.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(B=y[T],R=-R,M=y[I],P=-P),C.y<B.y||C.y>M.y)continue;if(C.y===B.y){if(C.x===B.x)return!0}else{const L=P*(C.x-B.x)-R*(C.y-B.y);if(L===0)return!0;if(L<0)continue;S=!S}}else{if(C.y!==B.y)continue;if(M.x<=C.x&&C.x<=B.x||B.x<=C.x&&C.x<=M.x)return!0}}return S}const r=_o.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new qc,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const d=[],p=[];let m=[],A=0,g;p[A]=void 0,m[A]=[];for(let C=0,y=s.length;C<y;C++)a=s[C],g=a.getPoints(),o=r(g),o=e?!o:o,o?(!u&&p[A]&&A++,p[A]={s:new qc,p:g},p[A].s.curves=a.curves,u&&A++,m[A]=[]):m[A].push({h:a,p:g[0]});if(!p[0])return n(s);if(p.length>1){let C=!1,y=0;for(let x=0,S=p.length;x<S;x++)d[x]=[];for(let x=0,S=p.length;x<S;x++){const I=m[x];for(let T=0;T<I.length;T++){const B=I[T];let M=!0;for(let R=0;R<p.length;R++)i(B.p,p[R].p)&&(x!==R&&y++,M?(M=!1,d[R].push(B)):C=!0);M&&d[x].push(B)}}y>0&&C===!1&&(m=d)}let v;for(let C=0,y=p.length;C<y;C++){l=p[C].s,c.push(l),v=m[C];for(let x=0,S=v.length;x<S;x++)l.holes.push(v[x].h)}return c}}const aa=Dj();function Dj(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Lj(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Wn(t,-65504,65504),aa.floatView[0]=t;const e=aa.uint32View[0],n=e>>23&511;return aa.baseTable[n]+((e&8388607)>>aa.shiftTable[n])}function Fj(t){const e=t>>10;return aa.uint32View[0]=aa.mantissaTable[aa.offsetTable[e]+(t&1023)]+aa.exponentTable[e],aa.floatView[0]}var kj=Object.freeze({__proto__:null,fromHalfFloat:Fj,toHalfFloat:Lj});class Nj extends _a{constructor(e,n,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,i,r,s,o)}}class Oj extends w0{constructor(e,n,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,i,r)}}class Uj extends I0{constructor(e,n,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,i,r)}}class Gj extends _0{constructor(e,n,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,i,r,s,o,a)}}class Qj extends mu{constructor(e,n,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,i,r,s,o,a,l)}}class Hj extends M0{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class zj extends T0{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class Vj extends B0{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class Wj extends Cf{constructor(e,n,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,i,r)}}class Jj extends Ef{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class jj extends pu{constructor(e,n,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,i,r)}}class Kj extends Ma{constructor(e,n,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,i,r)}}class Yj extends b0{constructor(e,n,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,i,r,s,o)}}class Xj extends R0{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class qj extends Sf{constructor(e,n,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,i,r,s,o,a)}}class Zj extends P0{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class $j extends D0{constructor(e,n,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,i,r,s)}}class eK extends L0{constructor(e,n,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,i,r,s,o)}}class tK extends F0{constructor(e,n,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xs}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xs);const nK=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:xx,AddEquation:Br,AddOperation:Jb,AdditiveAnimationBlendMode:Ex,AdditiveBlending:Rp,AlphaFormat:nR,AlwaysDepth:Ub,AlwaysStencilFunc:pR,AmbientLight:qR,AmbientLightProbe:jJ,AnimationClip:nf,AnimationLoader:kJ,AnimationMixer:fj,AnimationObjectGroup:cj,AnimationUtils:PJ,ArcCurve:bR,ArrayCamera:IR,ArrowHelper:Rj,Audio:iP,AudioAnalyser:$J,AudioContext:$x,AudioListener:XJ,AudioLoader:WJ,AxesHelper:Pj,BackSide:er,BasicDepthPacking:fR,BasicShadowMap:Bb,Bone:J2,BooleanKeyframeTrack:Au,Box2:oP,Box3:zl,Box3Helper:Bj,BoxBufferGeometry:Nj,BoxGeometry:_a,BoxHelper:Tj,BufferAttribute:Zt,BufferGeometry:yt,BufferGeometryLoader:tP,ByteType:qb,Cache:ou,Camera:y0,CameraHelper:Mj,CanvasTexture:nJ,CapsuleBufferGeometry:Oj,CapsuleGeometry:w0,CatmullRomCurve3:RR,CineonToneMapping:Yb,CircleBufferGeometry:Uj,CircleGeometry:I0,ClampToEdgeWrapping:_n,Clock:$2,Color:be,ColorKeyframeTrack:jx,ColorManagement:Ni,CompressedArrayTexture:tJ,CompressedTexture:ru,CompressedTextureLoader:NJ,ConeBufferGeometry:Gj,ConeGeometry:_0,CubeCamera:Bx,CubeReflectionMapping:Ml,CubeRefractionMapping:Tl,CubeTexture:x0,CubeTextureLoader:OJ,CubeUVReflectionMapping:Af,CubicBezierCurve:Ux,CubicBezierCurve3:PR,CubicInterpolant:jR,CullFaceBack:zy,CullFaceFront:Tb,CullFaceFrontBack:lG,CullFaceNone:Mb,Curve:Zs,CurvePath:LR,CustomBlending:Pp,CustomToneMapping:Xb,CylinderBufferGeometry:Qj,CylinderGeometry:mu,Cylindrical:gj,Data3DTexture:Mx,DataArrayTexture:U2,DataTexture:Io,DataTextureLoader:UJ,DataUtils:kj,DecrementStencilOp:vG,DecrementWrapStencilOp:xG,DefaultLoadingManager:Sh,DepthFormat:Cl,DepthStencilFormat:Bl,DepthTexture:xf,DirectionalLight:Zx,DirectionalLightHelper:_j,DiscreteInterpolant:KR,DodecahedronBufferGeometry:Hj,DodecahedronGeometry:M0,DoubleSide:Us,DstAlphaFactor:D2,DstColorFactor:L2,DynamicCopyUsage:LG,DynamicDrawUsage:wo,DynamicReadUsage:RG,EdgesGeometry:FR,EllipseCurve:K2,EqualDepth:Qb,EqualStencilFunc:wG,EquirectangularReflectionMapping:Fp,EquirectangularRefractionMapping:kp,Euler:du,EventDispatcher:Do,ExtrudeBufferGeometry:zj,ExtrudeGeometry:T0,FileLoader:li,Float16BufferAttribute:pQ,Float32BufferAttribute:je,Float64BufferAttribute:mQ,FloatType:fr,Fog:W2,FogExp2:V2,FramebufferTexture:eJ,FrontSide:Po,Frustum:Q2,GLBufferAttribute:Aj,GLSL1:kG,GLSL3:f8,GreaterDepth:zb,GreaterEqualDepth:Hb,GreaterEqualStencilFunc:TG,GreaterStencilFunc:_G,GridHelper:wj,Group:ha,HalfFloatType:Jn,HemisphereLight:XR,HemisphereLightHelper:Sj,HemisphereLightProbe:JJ,IcosahedronBufferGeometry:Vj,IcosahedronGeometry:B0,ImageBitmapLoader:nP,ImageLoader:qp,ImageUtils:_x,IncrementStencilOp:gG,IncrementWrapStencilOp:yG,InstancedBufferAttribute:$h,InstancedBufferGeometry:eP,InstancedInterleavedBuffer:mj,InstancedMesh:kx,Int16BufferAttribute:fQ,Int32BufferAttribute:dQ,Int8BufferAttribute:cQ,IntType:$b,InterleavedBuffer:C0,InterleavedBufferAttribute:Rl,Interpolant:wf,InterpolateDiscrete:Xh,InterpolateLinear:iu,InterpolateSmooth:VA,InvertStencilOp:CG,KeepStencilOp:WA,KeyframeTrack:$s,LOD:BR,LatheBufferGeometry:Wj,LatheGeometry:Cf,Layers:Xc,LessDepth:Gb,LessEqualDepth:Rg,LessEqualStencilFunc:IG,LessStencilFunc:SG,Light:Wl,LightProbe:q2,Line:Ea,Line3:vj,LineBasicMaterial:Qi,LineCurve:Y2,LineCurve3:DR,LineDashedMaterial:WR,LineLoop:Nx,LineSegments:qs,LinearEncoding:bl,LinearFilter:ln,LinearInterpolant:Jx,LinearMipMapLinearFilter:dG,LinearMipMapNearestFilter:fG,LinearMipmapLinearFilter:xs,LinearMipmapNearestFilter:k2,LinearSRGBColorSpace:qh,LinearToneMapping:jb,Loader:Bi,LoaderUtils:Mo,LoadingManager:Kx,LoopOnce:lR,LoopPingPong:uR,LoopRepeat:cR,LuminanceAlphaFormat:iR,LuminanceFormat:Cx,MOUSE:Ec,Material:Zn,MaterialLoader:Z2,MathUtils:El,Matrix3:Zi,Matrix4:Je,MaxEquation:jy,Mesh:tn,MeshBasicMaterial:Ii,MeshDepthMaterial:z2,MeshDistanceMaterial:Px,MeshLambertMaterial:zR,MeshMatcapMaterial:VR,MeshNormalMaterial:N0,MeshPhongMaterial:QR,MeshPhysicalMaterial:Lo,MeshStandardMaterial:k0,MeshToonMaterial:HR,MinEquation:Jy,MirroredRepeatWrapping:Yh,MixOperation:Wb,MultiplyBlending:Wy,MultiplyOperation:v0,NearestFilter:vt,NearestMipMapLinearFilter:hG,NearestMipMapNearestFilter:uG,NearestMipmapLinearFilter:Dh,NearestMipmapNearestFilter:Np,NeverDepth:Ob,NeverStencilFunc:EG,NoBlending:Lt,NoColorSpace:pG,NoToneMapping:Lr,NormalAnimationBlendMode:O2,NormalBlending:So,NotEqualDepth:Vb,NotEqualStencilFunc:MG,NumberKeyframeTrack:ef,Object3D:Ht,ObjectLoader:zJ,ObjectSpaceNormalMap:dR,OctahedronBufferGeometry:Jj,OctahedronGeometry:Ef,OneFactor:Pb,OneMinusDstAlphaFactor:Fb,OneMinusDstColorFactor:kb,OneMinusSrcAlphaFactor:Lp,OneMinusSrcColorFactor:Lb,OrthographicCamera:Rr,PCFShadowMap:P2,PCFSoftShadowMap:qd,PMREMGenerator:p8,Path:jp,PerspectiveCamera:sn,Plane:Tr,PlaneBufferGeometry:jj,PlaneGeometry:pu,PlaneHelper:bj,PointLight:qx,PointLightHelper:Cj,Points:j2,PointsMaterial:S0,PolarGridHelper:Ij,PolyhedronBufferGeometry:Kj,PolyhedronGeometry:Ma,PositionalAudio:ZJ,PropertyBinding:Vt,PropertyMixer:rP,QuadraticBezierCurve:Gx,QuadraticBezierCurve3:Qx,Quaternion:ai,QuaternionKeyframeTrack:Pl,QuaternionLinearInterpolant:YR,RED_GREEN_RGTC2_Format:u8,RED_RGTC1_Format:aR,REVISION:Xs,RGBADepthPacking:wx,RGBAFormat:Un,RGBAIntegerFormat:oR,RGBA_ASTC_10x10_Format:o8,RGBA_ASTC_10x5_Format:i8,RGBA_ASTC_10x6_Format:r8,RGBA_ASTC_10x8_Format:s8,RGBA_ASTC_12x10_Format:a8,RGBA_ASTC_12x12_Format:l8,RGBA_ASTC_4x4_Format:Hp,RGBA_ASTC_5x4_Format:Xy,RGBA_ASTC_5x5_Format:qy,RGBA_ASTC_6x5_Format:Zy,RGBA_ASTC_6x6_Format:$y,RGBA_ASTC_8x5_Format:e8,RGBA_ASTC_8x6_Format:t8,RGBA_ASTC_8x8_Format:n8,RGBA_BPTC_Format:kh,RGBA_ETC2_EAC_Format:Qp,RGBA_PVRTC_2BPPV1_Format:Yy,RGBA_PVRTC_4BPPV1_Format:Up,RGBA_S3TC_DXT1_Format:HA,RGBA_S3TC_DXT3_Format:zA,RGBA_S3TC_DXT5_Format:Fh,RGB_ETC1_Format:N2,RGB_ETC2_Format:Gp,RGB_PVRTC_2BPPV1_Format:Ky,RGB_PVRTC_4BPPV1_Format:Op,RGB_S3TC_DXT1_Format:Lh,RGFormat:yh,RGIntegerFormat:sR,RawShaderMaterial:tp,Ray:vf,Raycaster:sP,RectAreaLight:ZR,RedFormat:Oc,RedIntegerFormat:rR,ReinhardToneMapping:Kb,RepeatWrapping:ys,ReplaceStencilOp:AG,ReverseSubtractEquation:Rb,RingBufferGeometry:Yj,RingGeometry:b0,SIGNED_RED_GREEN_RGTC2_Format:h8,SIGNED_RED_RGTC1_Format:c8,SRGBColorSpace:ks,Scene:Fg,ShaderChunk:Rt,ShaderLib:Os,ShaderMaterial:jt,ShadowMaterial:GR,Shape:qc,ShapeBufferGeometry:Xj,ShapeGeometry:R0,ShapePath:lP,ShapeUtils:_o,ShortType:Zb,Skeleton:E0,SkeletonHelper:xj,SkinnedMesh:Fx,Source:Qc,Sphere:Vl,SphereBufferGeometry:qj,SphereGeometry:Sf,Spherical:C8,SphericalHarmonics3:$R,SplineCurve:Hx,SpotLight:Xx,SpotLightHelper:yj,Sprite:TR,SpriteMaterial:Lx,SrcAlphaFactor:Dp,SrcAlphaSaturateFactor:Nb,SrcColorFactor:Db,StaticCopyUsage:DG,StaticDrawUsage:Vp,StaticReadUsage:bG,StereoCamera:KJ,StreamCopyUsage:FG,StreamDrawUsage:BG,StreamReadUsage:PG,StringKeyframeTrack:gu,SubtractEquation:bb,SubtractiveBlending:Vy,TOUCH:Sc,TangentSpaceNormalMap:Hl,TetrahedronBufferGeometry:Zj,TetrahedronGeometry:P0,Texture:yn,TextureLoader:O0,TorusBufferGeometry:$j,TorusGeometry:D0,TorusKnotBufferGeometry:eK,TorusKnotGeometry:L0,Triangle:hs,TriangleFanDrawMode:Pg,TriangleStripDrawMode:Sx,TrianglesDrawMode:hR,TubeBufferGeometry:tK,TubeGeometry:F0,TwoPassDoubleSide:cG,UVMapping:F2,Uint16BufferAttribute:Tx,Uint32BufferAttribute:G2,Uint8BufferAttribute:uQ,Uint8ClampedBufferAttribute:hQ,Uniform:n9,UniformsGroup:pj,UniformsLib:Ue,UniformsUtils:Mn,UnsignedByteType:yi,UnsignedInt248Type:xl,UnsignedIntType:cl,UnsignedShort4444Type:eR,UnsignedShort5551Type:tR,UnsignedShortType:gf,VSMShadowMap:Nc,Vector2:le,Vector3:D,Vector4:Qt,VectorKeyframeTrack:tf,VideoTexture:$W,WebGL1Renderer:_R,WebGL3DRenderTarget:$G,WebGLArrayRenderTarget:ZG,WebGLCubeRenderTarget:bx,WebGLMultipleRenderTargets:eQ,WebGLRenderTarget:cn,WebGLRenderer:Dx,WebGLUtils:wR,WireframeGeometry:UR,WrapAroundEnding:zp,ZeroCurvatureEnding:Uc,ZeroFactor:Kh,ZeroSlopeEnding:Gc,ZeroStencilOp:mG,_SRGBAFormat:Dg,sRGBEncoding:hn},Symbol.toStringTag,{value:"Module"}));var ul={},iK={get exports(){return ul},set exports(t){ul=t}},vu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */vu.ConcurrentRoot=1;vu.ContinuousEventPriority=4;vu.DefaultEventPriority=16;vu.DiscreteEventPriority=1;vu.IdleEventPriority=536870912;vu.LegacyRoot=0;(function(t){t.exports=vu})(iK);function rK(t){let e;const n=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},r=()=>e,s=(c,u=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const A=u(e);if(!d(p,A)){const g=p;c(p=A,g)}}return n.add(m),()=>n.delete(m)},l={setState:i,getState:r,subscribe:(c,u,d)=>u||d?s(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(i,r,l),l}const sK=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Lw=sK?z.useEffect:z.useLayoutEffect;function cP(t){const e=typeof t=="function"?rK(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=z.useReducer(v=>v+1,0),o=e.getState(),a=z.useRef(o),l=z.useRef(i),c=z.useRef(r),u=z.useRef(!1),d=z.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(p=i(o),m=!r(d.current,p)),Lw(()=>{m&&(d.current=p),a.current=o,l.current=i,c.current=r,u.current=!1});const A=z.useRef(o);Lw(()=>{const v=()=>{try{const y=e.getState(),x=l.current(y);c.current(d.current,x)||(a.current=y,d.current=x,s())}catch{u.current=!0,s()}},C=e.subscribe(v);return e.getState()!==A.current&&v(),C},[]);const g=m?p:d.current;return z.useDebugValue(g),g};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}var E8={},oK={get exports(){return E8},set exports(t){E8=t}},Zp={},aK={get exports(){return Zp},set exports(t){Zp=t}},uP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,J){var W=k.length;k.push(J);e:for(;0<W;){var $=W-1>>>1,H=k[$];if(0<r(H,J))k[$]=J,k[W]=H,W=$;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var J=k[0],W=k.pop();if(W!==J){k[0]=W;e:for(var $=0,H=k.length,ne=H>>>1;$<ne;){var de=2*($+1)-1,Ae=k[de],q=de+1,Te=k[q];if(0>r(Ae,W))q<H&&0>r(Te,Ae)?(k[$]=Te,k[q]=W,$=q):(k[$]=Ae,k[de]=W,$=de);else if(q<H&&0>r(Te,W))k[$]=Te,k[q]=W,$=q;else break e}}return J}function r(k,J){var W=k.sortIndex-J.sortIndex;return W!==0?W:k.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,A=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var J=n(c);J!==null;){if(J.callback===null)i(c);else if(J.startTime<=k)i(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function S(k){if(g=!1,x(k),!A)if(n(l)!==null)A=!0,X(I);else{var J=n(c);J!==null&&te(S,J.startTime-k)}}function I(k,J){A=!1,g&&(g=!1,C(M),M=-1),m=!0;var W=p;try{for(x(J),d=n(l);d!==null&&(!(d.expirationTime>J)||k&&!L());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var H=$(d.expirationTime<=J);J=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&i(l),x(J)}else i(l);d=n(l)}if(d!==null)var ne=!0;else{var de=n(c);de!==null&&te(S,de.startTime-J),ne=!1}return ne}finally{d=null,p=W,m=!1}}var T=!1,B=null,M=-1,R=5,P=-1;function L(){return!(t.unstable_now()-P<R)}function V(){if(B!==null){var k=t.unstable_now();P=k;var J=!0;try{J=B(!0,k)}finally{J?N():(T=!1,B=null)}}else T=!1}var N;if(typeof y=="function")N=function(){y(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=V,N=function(){j.postMessage(null)}}else N=function(){v(V,0)};function X(k){B=k,T||(T=!0,N())}function te(k,J){M=v(function(){k(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){A||m||(A=!0,X(I))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var W=p;p=J;try{return k()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,J){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=p;p=k;try{return J()}finally{p=W}},t.unstable_scheduleCallback=function(k,J,W){var $=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,k){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,k={id:u++,callback:J,priorityLevel:k,startTime:W,expirationTime:H,sortIndex:-1},W>$?(k.sortIndex=W,e(c,k),n(l)===null&&k===n(c)&&(g?(C(M),M=-1):g=!0,te(S,W-$))):(k.sortIndex=H,e(l,k),A||m||(A=!0,X(I))),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var J=p;return function(){var W=p;p=J;try{return k.apply(this,arguments)}finally{p=W}}}})(uP);(function(t){t.exports=uP})(aK);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lK=function(e){var n={},i=z,r=Zp,s=Object.assign;function o(h){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+h,E=1;E<arguments.length;E++)f+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),A=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),I=Symbol.iterator;function T(h){return h===null||typeof h!="object"?null:(h=I&&h[I]||h["@@iterator"],typeof h=="function"?h:null)}function B(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case C:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case A:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case g:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case y:return f=h.displayName||null,f!==null?f:B(h.type)||"Memo";case x:f=h._payload,h=h._init;try{return B(h(f))}catch{}}return null}function M(h){var f=h.type;switch(h.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=f.render,h=h.displayName||h.name||"",f.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(h){var f=h,E=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,f.flags&4098&&(E=f.return),h=f.return;while(h)}return f.tag===3?E:null}function P(h){if(R(h)!==h)throw Error(o(188))}function L(h){var f=h.alternate;if(!f){if(f=R(h),f===null)throw Error(o(188));return f!==h?null:h}for(var E=h,w=f;;){var _=E.return;if(_===null)break;var b=_.alternate;if(b===null){if(w=_.return,w!==null){E=w;continue}break}if(_.child===b.child){for(b=_.child;b;){if(b===E)return P(_),h;if(b===w)return P(_),f;b=b.sibling}throw Error(o(188))}if(E.return!==w.return)E=_,w=b;else{for(var G=!1,Z=_.child;Z;){if(Z===E){G=!0,E=_,w=b;break}if(Z===w){G=!0,w=_,E=b;break}Z=Z.sibling}if(!G){for(Z=b.child;Z;){if(Z===E){G=!0,E=b,w=_;break}if(Z===w){G=!0,w=b,E=_;break}Z=Z.sibling}if(!G)throw Error(o(189))}}if(E.alternate!==w)throw Error(o(190))}if(E.tag!==3)throw Error(o(188));return E.stateNode.current===E?h:f}function V(h){return h=L(h),h!==null?N(h):null}function N(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var f=N(h);if(f!==null)return f;h=h.sibling}return null}function U(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var f=U(h);if(f!==null)return f}h=h.sibling}return null}var j=Array.isArray,X=e.getPublicInstance,te=e.getRootHostContext,k=e.getChildHostContext,J=e.prepareForCommit,W=e.resetAfterCommit,$=e.createInstance,H=e.appendInitialChild,ne=e.finalizeInitialChildren,de=e.prepareUpdate,Ae=e.shouldSetTextContent,q=e.createTextInstance,Te=e.scheduleTimeout,Pe=e.cancelTimeout,De=e.noTimeout,Ce=e.isPrimaryRenderer,Me=e.supportsMutation,ue=e.supportsPersistence,oe=e.supportsHydration,_e=e.getInstanceFromNode,He=e.preparePortalMount,ke=e.getCurrentEventPriority,tt=e.detachDeletedInstance,et=e.supportsMicrotasks,Ye=e.scheduleMicrotask,_t=e.supportsTestSelectors,Mt=e.findFiberRoot,Q=e.getBoundingRect,F=e.getTextContent,ce=e.isHiddenSubtree,Ie=e.matchAccessibilityRole,Re=e.setFocusIfFocusable,Fe=e.setupIntersectionObserver,ct=e.appendChild,Oe=e.appendChildToContainer,ge=e.commitTextUpdate,Ze=e.commitMount,st=e.commitUpdate,Xe=e.insertBefore,lt=e.insertInContainerBefore,nt=e.removeChild,Y=e.removeChildFromContainer,Ee=e.resetTextContent,ze=e.hideInstance,K=e.hideTextInstance,ae=e.unhideInstance,Se=e.unhideTextInstance,Ne=e.clearContainer,it=e.cloneInstance,Ft=e.createContainerChildSet,$t=e.appendChildToContainerChildSet,rn=e.finalizeContainerChildren,Hi=e.replaceContainerChildren,Wt=e.cloneHiddenInstance,fi=e.cloneHiddenTextInstance,$n=e.canHydrateInstance,l3=e.canHydrateTextInstance,N1=e.canHydrateSuspenseInstance,c3=e.isSuspenseInstancePending,Rf=e.isSuspenseInstanceFallback,O=e.registerSuspenseInstanceRetry,re=e.getNextHydratableSibling,ve=e.getFirstHydratableChild,ie=e.getFirstHydratableChildWithinContainer,xe=e.getFirstHydratableChildWithinSuspenseInstance,ut=e.hydrateInstance,xt=e.hydrateTextInstance,Tt=e.hydrateSuspenseInstance,Pt=e.getNextHydratableInstanceAfterSuspenseInstance,Ut=e.commitHydratedContainer,kt=e.commitHydratedSuspenseInstance,Nt=e.clearSuspenseBoundary,Dn=e.clearSuspenseBoundaryFromContainer,zi=e.shouldDeleteUnhydratedTailInstances,_s=e.didNotMatchHydratedContainerTextInstance,Ho=e.didNotMatchHydratedTextInstance,xn;function Bt(h){if(xn===void 0)try{throw Error()}catch(E){var f=E.stack.trim().match(/\n( *(at )?)/);xn=f&&f[1]||""}return`
`+xn+h}var Zl=!1;function Ln(h,f){if(!h||Zl)return"";Zl=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Le){var w=Le}Reflect.construct(h,[],f)}else{try{f.call()}catch(Le){w=Le}h.call(f.prototype)}else{try{throw Error()}catch(Le){w=Le}h()}}catch(Le){if(Le&&w&&typeof Le.stack=="string"){for(var _=Le.stack.split(`
`),b=w.stack.split(`
`),G=_.length-1,Z=b.length-1;1<=G&&0<=Z&&_[G]!==b[Z];)Z--;for(;1<=G&&0<=Z;G--,Z--)if(_[G]!==b[Z]){if(G!==1||Z!==1)do if(G--,Z--,0>Z||_[G]!==b[Z]){var pe=`
`+_[G].replace(" at new "," at ");return h.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",h.displayName)),pe}while(1<=G&&0<=Z);break}}}finally{Zl=!1,Error.prepareStackTrace=E}return(h=h?h.displayName||h.name:"")?Bt(h):""}var zo=Object.prototype.hasOwnProperty,wu=[],jr=-1;function Kr(h){return{current:h}}function It(h){0>jr||(h.current=wu[jr],wu[jr]=null,jr--)}function zt(h,f){jr++,wu[jr]=h.current,h.current=f}var Yr={},en=Kr(Yr),di=Kr(!1),Vo=Yr;function Wo(h,f){var E=h.type.contextTypes;if(!E)return Yr;var w=h.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var _={},b;for(b in E)_[b]=f[b];return w&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=f,h.__reactInternalMemoizedMaskedChildContext=_),_}function or(h){return h=h.childContextTypes,h!=null}function u3(){It(di),It(en)}function y7(h,f,E){if(en.current!==Yr)throw Error(o(168));zt(en,f),zt(di,E)}function x7(h,f,E){var w=h.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return E;w=w.getChildContext();for(var _ in w)if(!(_ in f))throw Error(o(108,M(h)||"Unknown",_));return s({},E,w)}function h3(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Yr,Vo=en.current,zt(en,h),zt(di,di.current),!0}function C7(h,f,E){var w=h.stateNode;if(!w)throw Error(o(169));E?(h=x7(h,f,Vo),w.__reactInternalMemoizedMergedChildContext=h,It(di),It(en),zt(en,h)):It(di),zt(di,E)}var Ms=Math.clz32?Math.clz32:Ak,pk=Math.log,mk=Math.LN2;function Ak(h){return h>>>=0,h===0?32:31-(pk(h)/mk|0)|0}var f3=64,d3=4194304;function Pf(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function p3(h,f){var E=h.pendingLanes;if(E===0)return 0;var w=0,_=h.suspendedLanes,b=h.pingedLanes,G=E&268435455;if(G!==0){var Z=G&~_;Z!==0?w=Pf(Z):(b&=G,b!==0&&(w=Pf(b)))}else G=E&~_,G!==0?w=Pf(G):b!==0&&(w=Pf(b));if(w===0)return 0;if(f!==0&&f!==w&&!(f&_)&&(_=w&-w,b=f&-f,_>=b||_===16&&(b&4194240)!==0))return f;if(w&4&&(w|=E&16),f=h.entangledLanes,f!==0)for(h=h.entanglements,f&=w;0<f;)E=31-Ms(f),_=1<<E,w|=h[E],f&=~_;return w}function gk(h,f){switch(h){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vk(h,f){for(var E=h.suspendedLanes,w=h.pingedLanes,_=h.expirationTimes,b=h.pendingLanes;0<b;){var G=31-Ms(b),Z=1<<G,pe=_[G];pe===-1?(!(Z&E)||Z&w)&&(_[G]=gk(Z,f)):pe<=f&&(h.expiredLanes|=Z),b&=~Z}}function O1(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function U1(h){for(var f=[],E=0;31>E;E++)f.push(h);return f}function Df(h,f,E){h.pendingLanes|=f,f!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,f=31-Ms(f),h[f]=E}function yk(h,f){var E=h.pendingLanes&~f;h.pendingLanes=f,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=f,h.mutableReadLanes&=f,h.entangledLanes&=f,f=h.entanglements;var w=h.eventTimes;for(h=h.expirationTimes;0<E;){var _=31-Ms(E),b=1<<_;f[_]=0,w[_]=-1,h[_]=-1,E&=~b}}function G1(h,f){var E=h.entangledLanes|=f;for(h=h.entanglements;E;){var w=31-Ms(E),_=1<<w;_&f|h[w]&f&&(h[w]|=f),E&=~_}}var Yt=0;function E7(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Q1=r.unstable_scheduleCallback,S7=r.unstable_cancelCallback,xk=r.unstable_shouldYield,Ck=r.unstable_requestPaint,pi=r.unstable_now,H1=r.unstable_ImmediatePriority,Ek=r.unstable_UserBlockingPriority,z1=r.unstable_NormalPriority,Sk=r.unstable_IdlePriority,m3=null,so=null;function wk(h){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(m3,h,void 0,(h.current.flags&128)===128)}catch{}}function Ik(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var oo=typeof Object.is=="function"?Object.is:Ik,Jo=null,A3=!1,V1=!1;function w7(h){Jo===null?Jo=[h]:Jo.push(h)}function _k(h){A3=!0,w7(h)}function ao(){if(!V1&&Jo!==null){V1=!0;var h=0,f=Yt;try{var E=Jo;for(Yt=1;h<E.length;h++){var w=E[h];do w=w(!0);while(w!==null)}Jo=null,A3=!1}catch(_){throw Jo!==null&&(Jo=Jo.slice(h+1)),Q1(H1,ao),_}finally{Yt=f,V1=!1}}return null}var Mk=a.ReactCurrentBatchConfig;function g3(h,f){if(oo(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var E=Object.keys(h),w=Object.keys(f);if(E.length!==w.length)return!1;for(w=0;w<E.length;w++){var _=E[w];if(!zo.call(f,_)||!oo(h[_],f[_]))return!1}return!0}function Tk(h){switch(h.tag){case 5:return Bt(h.type);case 16:return Bt("Lazy");case 13:return Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 2:case 15:return h=Ln(h.type,!1),h;case 11:return h=Ln(h.type.render,!1),h;case 1:return h=Ln(h.type,!0),h;default:return""}}function Ts(h,f){if(h&&h.defaultProps){f=s({},f),h=h.defaultProps;for(var E in h)f[E]===void 0&&(f[E]=h[E]);return f}return f}var v3=Kr(null),y3=null,Iu=null,W1=null;function J1(){W1=Iu=y3=null}function I7(h,f,E){Ce?(zt(v3,f._currentValue),f._currentValue=E):(zt(v3,f._currentValue2),f._currentValue2=E)}function j1(h){var f=v3.current;It(v3),Ce?h._currentValue=f:h._currentValue2=f}function K1(h,f,E){for(;h!==null;){var w=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),h===E)break;h=h.return}}function _u(h,f){y3=h,W1=Iu=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&f&&(Er=!0),h.firstContext=null)}function Xr(h){var f=Ce?h._currentValue:h._currentValue2;if(W1!==h)if(h={context:h,memoizedValue:f,next:null},Iu===null){if(y3===null)throw Error(o(308));Iu=h,y3.dependencies={lanes:0,firstContext:h}}else Iu=Iu.next=h;return f}var lo=null,Pa=!1;function Y1(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _7(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function jo(h,f){return{eventTime:h,lane:f,tag:0,payload:null,callback:null,next:null}}function Da(h,f){var E=h.updateQueue;E!==null&&(E=E.shared,jn!==null&&h.mode&1&&!(Dt&2)?(h=E.interleaved,h===null?(f.next=f,lo===null?lo=[E]:lo.push(E)):(f.next=h.next,h.next=f),E.interleaved=f):(h=E.pending,h===null?f.next=f:(f.next=h.next,h.next=f),E.pending=f))}function x3(h,f,E){if(f=f.updateQueue,f!==null&&(f=f.shared,(E&4194240)!==0)){var w=f.lanes;w&=h.pendingLanes,E|=w,f.lanes=E,G1(h,E)}}function M7(h,f){var E=h.updateQueue,w=h.alternate;if(w!==null&&(w=w.updateQueue,E===w)){var _=null,b=null;if(E=E.firstBaseUpdate,E!==null){do{var G={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};b===null?_=b=G:b=b.next=G,E=E.next}while(E!==null);b===null?_=b=f:b=b.next=f}else _=b=f;E={baseState:w.baseState,firstBaseUpdate:_,lastBaseUpdate:b,shared:w.shared,effects:w.effects},h.updateQueue=E;return}h=E.lastBaseUpdate,h===null?E.firstBaseUpdate=f:h.next=f,E.lastBaseUpdate=f}function C3(h,f,E,w){var _=h.updateQueue;Pa=!1;var b=_.firstBaseUpdate,G=_.lastBaseUpdate,Z=_.shared.pending;if(Z!==null){_.shared.pending=null;var pe=Z,Le=pe.next;pe.next=null,G===null?b=Le:G.next=Le,G=pe;var Ke=h.alternate;Ke!==null&&(Ke=Ke.updateQueue,Z=Ke.lastBaseUpdate,Z!==G&&(Z===null?Ke.firstBaseUpdate=Le:Z.next=Le,Ke.lastBaseUpdate=pe))}if(b!==null){var Et=_.baseState;G=0,Ke=Le=pe=null,Z=b;do{var ht=Z.lane,on=Z.eventTime;if((w&ht)===ht){Ke!==null&&(Ke=Ke.next={eventTime:on,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var ot=h,Di=Z;switch(ht=f,on=E,Di.tag){case 1:if(ot=Di.payload,typeof ot=="function"){Et=ot.call(on,Et,ht);break e}Et=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Di.payload,ht=typeof ot=="function"?ot.call(on,Et,ht):ot,ht==null)break e;Et=s({},Et,ht);break e;case 2:Pa=!0}}Z.callback!==null&&Z.lane!==0&&(h.flags|=64,ht=_.effects,ht===null?_.effects=[Z]:ht.push(Z))}else on={eventTime:on,lane:ht,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ke===null?(Le=Ke=on,pe=Et):Ke=Ke.next=on,G|=ht;if(Z=Z.next,Z===null){if(Z=_.shared.pending,Z===null)break;ht=Z,Z=ht.next,ht.next=null,_.lastBaseUpdate=ht,_.shared.pending=null}}while(1);if(Ke===null&&(pe=Et),_.baseState=pe,_.firstBaseUpdate=Le,_.lastBaseUpdate=Ke,f=_.shared.interleaved,f!==null){_=f;do G|=_.lane,_=_.next;while(_!==f)}else b===null&&(_.shared.lanes=0);Fu|=G,h.lanes=G,h.memoizedState=Et}}function T7(h,f,E){if(h=f.effects,f.effects=null,h!==null)for(f=0;f<h.length;f++){var w=h[f],_=w.callback;if(_!==null){if(w.callback=null,w=E,typeof _!="function")throw Error(o(191,_));_.call(w)}}}var B7=new i.Component().refs;function X1(h,f,E,w){f=h.memoizedState,E=E(w,f),E=E==null?f:s({},f,E),h.memoizedState=E,h.lanes===0&&(h.updateQueue.baseState=E)}var E3={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,f,E){h=h._reactInternals;var w=Wi(),_=ka(h),b=jo(w,_);b.payload=f,E!=null&&(b.callback=E),Da(h,b),f=ts(h,_,w),f!==null&&x3(f,h,_)},enqueueReplaceState:function(h,f,E){h=h._reactInternals;var w=Wi(),_=ka(h),b=jo(w,_);b.tag=1,b.payload=f,E!=null&&(b.callback=E),Da(h,b),f=ts(h,_,w),f!==null&&x3(f,h,_)},enqueueForceUpdate:function(h,f){h=h._reactInternals;var E=Wi(),w=ka(h),_=jo(E,w);_.tag=2,f!=null&&(_.callback=f),Da(h,_),f=ts(h,w,E),f!==null&&x3(f,h,w)}};function b7(h,f,E,w,_,b,G){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(w,b,G):f.prototype&&f.prototype.isPureReactComponent?!g3(E,w)||!g3(_,b):!0}function R7(h,f,E){var w=!1,_=Yr,b=f.contextType;return typeof b=="object"&&b!==null?b=Xr(b):(_=or(f)?Vo:en.current,w=f.contextTypes,b=(w=w!=null)?Wo(h,_):Yr),f=new f(E,b),h.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=E3,h.stateNode=f,f._reactInternals=h,w&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=_,h.__reactInternalMemoizedMaskedChildContext=b),f}function P7(h,f,E,w){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(E,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(E,w),f.state!==h&&E3.enqueueReplaceState(f,f.state,null)}function q1(h,f,E,w){var _=h.stateNode;_.props=E,_.state=h.memoizedState,_.refs=B7,Y1(h);var b=f.contextType;typeof b=="object"&&b!==null?_.context=Xr(b):(b=or(f)?Vo:en.current,_.context=Wo(h,b)),_.state=h.memoizedState,b=f.getDerivedStateFromProps,typeof b=="function"&&(X1(h,f,b,E),_.state=h.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(f=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),f!==_.state&&E3.enqueueReplaceState(_,_.state,null),C3(h,E,_,w),_.state=h.memoizedState),typeof _.componentDidMount=="function"&&(h.flags|=4194308)}var Mu=[],Tu=0,S3=null,w3=0,qr=[],Zr=0,$l=null,Ko=1,Yo="";function ec(h,f){Mu[Tu++]=w3,Mu[Tu++]=S3,S3=h,w3=f}function D7(h,f,E){qr[Zr++]=Ko,qr[Zr++]=Yo,qr[Zr++]=$l,$l=h;var w=Ko;h=Yo;var _=32-Ms(w)-1;w&=~(1<<_),E+=1;var b=32-Ms(f)+_;if(30<b){var G=_-_%5;b=(w&(1<<G)-1).toString(32),w>>=G,_-=G,Ko=1<<32-Ms(f)+_|E<<_|w,Yo=b+h}else Ko=1<<b|E<<_|w,Yo=h}function Z1(h){h.return!==null&&(ec(h,1),D7(h,1,0))}function $1(h){for(;h===S3;)S3=Mu[--Tu],Mu[Tu]=null,w3=Mu[--Tu],Mu[Tu]=null;for(;h===$l;)$l=qr[--Zr],qr[Zr]=null,Yo=qr[--Zr],qr[Zr]=null,Ko=qr[--Zr],qr[Zr]=null}var xr=null,Cr=null,Cn=!1,Lf=!1,Bs=null;function L7(h,f){var E=ns(5,null,null,0);E.elementType="DELETED",E.stateNode=f,E.return=h,f=h.deletions,f===null?(h.deletions=[E],h.flags|=16):f.push(E)}function F7(h,f){switch(h.tag){case 5:return f=$n(f,h.type,h.pendingProps),f!==null?(h.stateNode=f,xr=h,Cr=ve(f),!0):!1;case 6:return f=l3(f,h.pendingProps),f!==null?(h.stateNode=f,xr=h,Cr=null,!0):!1;case 13:if(f=N1(f),f!==null){var E=$l!==null?{id:Ko,overflow:Yo}:null;return h.memoizedState={dehydrated:f,treeContext:E,retryLane:1073741824},E=ns(18,null,null,0),E.stateNode=f,E.return=h,h.child=E,xr=h,Cr=null,!0}return!1;default:return!1}}function e5(h){return(h.mode&1)!==0&&(h.flags&128)===0}function t5(h){if(Cn){var f=Cr;if(f){var E=f;if(!F7(h,f)){if(e5(h))throw Error(o(418));f=re(E);var w=xr;f&&F7(h,f)?L7(w,E):(h.flags=h.flags&-4097|2,Cn=!1,xr=h)}}else{if(e5(h))throw Error(o(418));h.flags=h.flags&-4097|2,Cn=!1,xr=h}}}function k7(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;xr=h}function Ff(h){if(!oe||h!==xr)return!1;if(!Cn)return k7(h),Cn=!0,!1;if(h.tag!==3&&(h.tag!==5||zi(h.type)&&!Ae(h.type,h.memoizedProps))){var f=Cr;if(f){if(e5(h)){for(h=Cr;h;)h=re(h);throw Error(o(418))}for(;f;)L7(h,f),f=re(f)}}if(k7(h),h.tag===13){if(!oe)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Cr=Pt(h)}else Cr=xr?re(h.stateNode):null;return!0}function Bu(){oe&&(Cr=xr=null,Lf=Cn=!1)}function n5(h){Bs===null?Bs=[h]:Bs.push(h)}function kf(h,f,E){if(h=E.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(o(309));var w=E.stateNode}if(!w)throw Error(o(147,h));var _=w,b=""+h;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===b?f.ref:(f=function(G){var Z=_.refs;Z===B7&&(Z=_.refs={}),G===null?delete Z[b]:Z[b]=G},f._stringRef=b,f)}if(typeof h!="string")throw Error(o(284));if(!E._owner)throw Error(o(290,h))}return h}function I3(h,f){throw h=Object.prototype.toString.call(f),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h))}function N7(h){var f=h._init;return f(h._payload)}function O7(h){function f(se,ee){if(h){var he=se.deletions;he===null?(se.deletions=[ee],se.flags|=16):he.push(ee)}}function E(se,ee){if(!h)return null;for(;ee!==null;)f(se,ee),ee=ee.sibling;return null}function w(se,ee){for(se=new Map;ee!==null;)ee.key!==null?se.set(ee.key,ee):se.set(ee.index,ee),ee=ee.sibling;return se}function _(se,ee){return se=Oa(se,ee),se.index=0,se.sibling=null,se}function b(se,ee,he){return se.index=he,h?(he=se.alternate,he!==null?(he=he.index,he<ee?(se.flags|=2,ee):he):(se.flags|=2,ee)):(se.flags|=1048576,ee)}function G(se){return h&&se.alternate===null&&(se.flags|=2),se}function Z(se,ee,he,Ve){return ee===null||ee.tag!==6?(ee=U5(he,se.mode,Ve),ee.return=se,ee):(ee=_(ee,he),ee.return=se,ee)}function pe(se,ee,he,Ve){var rt=he.type;return rt===u?Ke(se,ee,he.props.children,Ve,he.key):ee!==null&&(ee.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===x&&N7(rt)===ee.type)?(Ve=_(ee,he.props),Ve.ref=kf(se,ee,he),Ve.return=se,Ve):(Ve=nm(he.type,he.key,he.props,null,se.mode,Ve),Ve.ref=kf(se,ee,he),Ve.return=se,Ve)}function Le(se,ee,he,Ve){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==he.containerInfo||ee.stateNode.implementation!==he.implementation?(ee=G5(he,se.mode,Ve),ee.return=se,ee):(ee=_(ee,he.children||[]),ee.return=se,ee)}function Ke(se,ee,he,Ve,rt){return ee===null||ee.tag!==7?(ee=ac(he,se.mode,Ve,rt),ee.return=se,ee):(ee=_(ee,he),ee.return=se,ee)}function Et(se,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=U5(""+ee,se.mode,he),ee.return=se,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case l:return he=nm(ee.type,ee.key,ee.props,null,se.mode,he),he.ref=kf(se,null,ee),he.return=se,he;case c:return ee=G5(ee,se.mode,he),ee.return=se,ee;case x:var Ve=ee._init;return Et(se,Ve(ee._payload),he)}if(j(ee)||T(ee))return ee=ac(ee,se.mode,he,null),ee.return=se,ee;I3(se,ee)}return null}function ht(se,ee,he,Ve){var rt=ee!==null?ee.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return rt!==null?null:Z(se,ee,""+he,Ve);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return he.key===rt?pe(se,ee,he,Ve):null;case c:return he.key===rt?Le(se,ee,he,Ve):null;case x:return rt=he._init,ht(se,ee,rt(he._payload),Ve)}if(j(he)||T(he))return rt!==null?null:Ke(se,ee,he,Ve,null);I3(se,he)}return null}function on(se,ee,he,Ve,rt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return se=se.get(he)||null,Z(ee,se,""+Ve,rt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case l:return se=se.get(Ve.key===null?he:Ve.key)||null,pe(ee,se,Ve,rt);case c:return se=se.get(Ve.key===null?he:Ve.key)||null,Le(ee,se,Ve,rt);case x:var bt=Ve._init;return on(se,ee,he,bt(Ve._payload),rt)}if(j(Ve)||T(Ve))return se=se.get(he)||null,Ke(ee,se,Ve,rt,null);I3(ee,Ve)}return null}function ot(se,ee,he,Ve){for(var rt=null,bt=null,St=ee,Xt=ee=0,Ai=null;St!==null&&Xt<he.length;Xt++){St.index>Xt?(Ai=St,St=null):Ai=St.sibling;var qt=ht(se,St,he[Xt],Ve);if(qt===null){St===null&&(St=Ai);break}h&&St&&qt.alternate===null&&f(se,St),ee=b(qt,ee,Xt),bt===null?rt=qt:bt.sibling=qt,bt=qt,St=Ai}if(Xt===he.length)return E(se,St),Cn&&ec(se,Xt),rt;if(St===null){for(;Xt<he.length;Xt++)St=Et(se,he[Xt],Ve),St!==null&&(ee=b(St,ee,Xt),bt===null?rt=St:bt.sibling=St,bt=St);return Cn&&ec(se,Xt),rt}for(St=w(se,St);Xt<he.length;Xt++)Ai=on(St,se,Xt,he[Xt],Ve),Ai!==null&&(h&&Ai.alternate!==null&&St.delete(Ai.key===null?Xt:Ai.key),ee=b(Ai,ee,Xt),bt===null?rt=Ai:bt.sibling=Ai,bt=Ai);return h&&St.forEach(function(Ua){return f(se,Ua)}),Cn&&ec(se,Xt),rt}function Di(se,ee,he,Ve){var rt=T(he);if(typeof rt!="function")throw Error(o(150));if(he=rt.call(he),he==null)throw Error(o(151));for(var bt=rt=null,St=ee,Xt=ee=0,Ai=null,qt=he.next();St!==null&&!qt.done;Xt++,qt=he.next()){St.index>Xt?(Ai=St,St=null):Ai=St.sibling;var Ua=ht(se,St,qt.value,Ve);if(Ua===null){St===null&&(St=Ai);break}h&&St&&Ua.alternate===null&&f(se,St),ee=b(Ua,ee,Xt),bt===null?rt=Ua:bt.sibling=Ua,bt=Ua,St=Ai}if(qt.done)return E(se,St),Cn&&ec(se,Xt),rt;if(St===null){for(;!qt.done;Xt++,qt=he.next())qt=Et(se,qt.value,Ve),qt!==null&&(ee=b(qt,ee,Xt),bt===null?rt=qt:bt.sibling=qt,bt=qt);return Cn&&ec(se,Xt),rt}for(St=w(se,St);!qt.done;Xt++,qt=he.next())qt=on(St,se,Xt,qt.value,Ve),qt!==null&&(h&&qt.alternate!==null&&St.delete(qt.key===null?Xt:qt.key),ee=b(qt,ee,Xt),bt===null?rt=qt:bt.sibling=qt,bt=qt);return h&&St.forEach(function(rN){return f(se,rN)}),Cn&&ec(se,Xt),rt}function is(se,ee,he,Ve){if(typeof he=="object"&&he!==null&&he.type===u&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case l:e:{for(var rt=he.key,bt=ee;bt!==null;){if(bt.key===rt){if(rt=he.type,rt===u){if(bt.tag===7){E(se,bt.sibling),ee=_(bt,he.props.children),ee.return=se,se=ee;break e}}else if(bt.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===x&&N7(rt)===bt.type){E(se,bt.sibling),ee=_(bt,he.props),ee.ref=kf(se,bt,he),ee.return=se,se=ee;break e}E(se,bt);break}else f(se,bt);bt=bt.sibling}he.type===u?(ee=ac(he.props.children,se.mode,Ve,he.key),ee.return=se,se=ee):(Ve=nm(he.type,he.key,he.props,null,se.mode,Ve),Ve.ref=kf(se,ee,he),Ve.return=se,se=Ve)}return G(se);case c:e:{for(bt=he.key;ee!==null;){if(ee.key===bt)if(ee.tag===4&&ee.stateNode.containerInfo===he.containerInfo&&ee.stateNode.implementation===he.implementation){E(se,ee.sibling),ee=_(ee,he.children||[]),ee.return=se,se=ee;break e}else{E(se,ee);break}else f(se,ee);ee=ee.sibling}ee=G5(he,se.mode,Ve),ee.return=se,se=ee}return G(se);case x:return bt=he._init,is(se,ee,bt(he._payload),Ve)}if(j(he))return ot(se,ee,he,Ve);if(T(he))return Di(se,ee,he,Ve);I3(se,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ee!==null&&ee.tag===6?(E(se,ee.sibling),ee=_(ee,he),ee.return=se,se=ee):(E(se,ee),ee=U5(he,se.mode,Ve),ee.return=se,se=ee),G(se)):E(se,ee)}return is}var bu=O7(!0),U7=O7(!1),Nf={},$r=Kr(Nf),Of=Kr(Nf),Ru=Kr(Nf);function co(h){if(h===Nf)throw Error(o(174));return h}function i5(h,f){zt(Ru,f),zt(Of,h),zt($r,Nf),h=te(f),It($r),zt($r,h)}function Pu(){It($r),It(Of),It(Ru)}function G7(h){var f=co(Ru.current),E=co($r.current);f=k(E,h.type,f),E!==f&&(zt(Of,h),zt($r,f))}function r5(h){Of.current===h&&(It($r),It(Of))}var wn=Kr(0);function _3(h){for(var f=h;f!==null;){if(f.tag===13){var E=f.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||c3(E)||Rf(E)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var s5=[];function o5(){for(var h=0;h<s5.length;h++){var f=s5[h];Ce?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}s5.length=0}var M3=a.ReactCurrentDispatcher,es=a.ReactCurrentBatchConfig,Du=0,Fn=null,bi=null,mi=null,T3=!1,Uf=!1,Gf=0,Bk=0;function Ri(){throw Error(o(321))}function a5(h,f){if(f===null)return!1;for(var E=0;E<f.length&&E<h.length;E++)if(!oo(h[E],f[E]))return!1;return!0}function l5(h,f,E,w,_,b){if(Du=b,Fn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,M3.current=h===null||h.memoizedState===null?Dk:Lk,h=E(w,_),Uf){b=0;do{if(Uf=!1,Gf=0,25<=b)throw Error(o(301));b+=1,mi=bi=null,f.updateQueue=null,M3.current=Fk,h=E(w,_)}while(Uf)}if(M3.current=D3,f=bi!==null&&bi.next!==null,Du=0,mi=bi=Fn=null,T3=!1,f)throw Error(o(300));return h}function c5(){var h=Gf!==0;return Gf=0,h}function Xo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Fn.memoizedState=mi=h:mi=mi.next=h,mi}function uo(){if(bi===null){var h=Fn.alternate;h=h!==null?h.memoizedState:null}else h=bi.next;var f=mi===null?Fn.memoizedState:mi.next;if(f!==null)mi=f,bi=h;else{if(h===null)throw Error(o(310));bi=h,h={memoizedState:bi.memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},mi===null?Fn.memoizedState=mi=h:mi=mi.next=h}return mi}function tc(h,f){return typeof f=="function"?f(h):f}function B3(h){var f=uo(),E=f.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=h;var w=bi,_=w.baseQueue,b=E.pending;if(b!==null){if(_!==null){var G=_.next;_.next=b.next,b.next=G}w.baseQueue=_=b,E.pending=null}if(_!==null){b=_.next,w=w.baseState;var Z=G=null,pe=null,Le=b;do{var Ke=Le.lane;if((Du&Ke)===Ke)pe!==null&&(pe=pe.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),w=Le.hasEagerState?Le.eagerState:h(w,Le.action);else{var Et={lane:Ke,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};pe===null?(Z=pe=Et,G=w):pe=pe.next=Et,Fn.lanes|=Ke,Fu|=Ke}Le=Le.next}while(Le!==null&&Le!==b);pe===null?G=w:pe.next=Z,oo(w,f.memoizedState)||(Er=!0),f.memoizedState=w,f.baseState=G,f.baseQueue=pe,E.lastRenderedState=w}if(h=E.interleaved,h!==null){_=h;do b=_.lane,Fn.lanes|=b,Fu|=b,_=_.next;while(_!==h)}else _===null&&(E.lanes=0);return[f.memoizedState,E.dispatch]}function b3(h){var f=uo(),E=f.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=h;var w=E.dispatch,_=E.pending,b=f.memoizedState;if(_!==null){E.pending=null;var G=_=_.next;do b=h(b,G.action),G=G.next;while(G!==_);oo(b,f.memoizedState)||(Er=!0),f.memoizedState=b,f.baseQueue===null&&(f.baseState=b),E.lastRenderedState=b}return[b,w]}function Q7(){}function H7(h,f){var E=Fn,w=uo(),_=f(),b=!oo(w.memoizedState,_);if(b&&(w.memoizedState=_,Er=!0),w=w.queue,Hf(W7.bind(null,E,w,h),[h]),w.getSnapshot!==f||b||mi!==null&&mi.memoizedState.tag&1){if(E.flags|=2048,Qf(9,V7.bind(null,E,w,_,f),void 0,null),jn===null)throw Error(o(349));Du&30||z7(E,f,_)}return _}function z7(h,f,E){h.flags|=16384,h={getSnapshot:f,value:E},f=Fn.updateQueue,f===null?(f={lastEffect:null,stores:null},Fn.updateQueue=f,f.stores=[h]):(E=f.stores,E===null?f.stores=[h]:E.push(h))}function V7(h,f,E,w){f.value=E,f.getSnapshot=w,J7(f)&&ts(h,1,-1)}function W7(h,f,E){return E(function(){J7(f)&&ts(h,1,-1)})}function J7(h){var f=h.getSnapshot;h=h.value;try{var E=f();return!oo(h,E)}catch{return!0}}function u5(h){var f=Xo();return typeof h=="function"&&(h=h()),f.memoizedState=f.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:h},f.queue=h,h=h.dispatch=Pk.bind(null,Fn,h),[f.memoizedState,h]}function Qf(h,f,E,w){return h={tag:h,create:f,destroy:E,deps:w,next:null},f=Fn.updateQueue,f===null?(f={lastEffect:null,stores:null},Fn.updateQueue=f,f.lastEffect=h.next=h):(E=f.lastEffect,E===null?f.lastEffect=h.next=h:(w=E.next,E.next=h,h.next=w,f.lastEffect=h)),h}function j7(){return uo().memoizedState}function R3(h,f,E,w){var _=Xo();Fn.flags|=h,_.memoizedState=Qf(1|f,E,void 0,w===void 0?null:w)}function P3(h,f,E,w){var _=uo();w=w===void 0?null:w;var b=void 0;if(bi!==null){var G=bi.memoizedState;if(b=G.destroy,w!==null&&a5(w,G.deps)){_.memoizedState=Qf(f,E,b,w);return}}Fn.flags|=h,_.memoizedState=Qf(1|f,E,b,w)}function h5(h,f){return R3(8390656,8,h,f)}function Hf(h,f){return P3(2048,8,h,f)}function K7(h,f){return P3(4,2,h,f)}function Y7(h,f){return P3(4,4,h,f)}function X7(h,f){if(typeof f=="function")return h=h(),f(h),function(){f(null)};if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function q7(h,f,E){return E=E!=null?E.concat([h]):null,P3(4,4,X7.bind(null,f,h),E)}function f5(){}function Z7(h,f){var E=uo();f=f===void 0?null:f;var w=E.memoizedState;return w!==null&&f!==null&&a5(f,w[1])?w[0]:(E.memoizedState=[h,f],h)}function $7(h,f){var E=uo();f=f===void 0?null:f;var w=E.memoizedState;return w!==null&&f!==null&&a5(f,w[1])?w[0]:(h=h(),E.memoizedState=[h,f],h)}function bk(h,f){var E=Yt;Yt=E!==0&&4>E?E:4,h(!0);var w=es.transition;es.transition={};try{h(!1),f()}finally{Yt=E,es.transition=w}}function eC(){return uo().memoizedState}function Rk(h,f,E){var w=ka(h);E={lane:w,action:E,hasEagerState:!1,eagerState:null,next:null},tC(h)?nC(f,E):(iC(h,f,E),E=Wi(),h=ts(h,w,E),h!==null&&rC(h,f,w))}function Pk(h,f,E){var w=ka(h),_={lane:w,action:E,hasEagerState:!1,eagerState:null,next:null};if(tC(h))nC(f,_);else{iC(h,f,_);var b=h.alternate;if(h.lanes===0&&(b===null||b.lanes===0)&&(b=f.lastRenderedReducer,b!==null))try{var G=f.lastRenderedState,Z=b(G,E);if(_.hasEagerState=!0,_.eagerState=Z,oo(Z,G))return}catch{}finally{}E=Wi(),h=ts(h,w,E),h!==null&&rC(h,f,w)}}function tC(h){var f=h.alternate;return h===Fn||f!==null&&f===Fn}function nC(h,f){Uf=T3=!0;var E=h.pending;E===null?f.next=f:(f.next=E.next,E.next=f),h.pending=f}function iC(h,f,E){jn!==null&&h.mode&1&&!(Dt&2)?(h=f.interleaved,h===null?(E.next=E,lo===null?lo=[f]:lo.push(f)):(E.next=h.next,h.next=E),f.interleaved=E):(h=f.pending,h===null?E.next=E:(E.next=h.next,h.next=E),f.pending=E)}function rC(h,f,E){if(E&4194240){var w=f.lanes;w&=h.pendingLanes,E|=w,f.lanes=E,G1(h,E)}}var D3={readContext:Xr,useCallback:Ri,useContext:Ri,useEffect:Ri,useImperativeHandle:Ri,useInsertionEffect:Ri,useLayoutEffect:Ri,useMemo:Ri,useReducer:Ri,useRef:Ri,useState:Ri,useDebugValue:Ri,useDeferredValue:Ri,useTransition:Ri,useMutableSource:Ri,useSyncExternalStore:Ri,useId:Ri,unstable_isNewReconciler:!1},Dk={readContext:Xr,useCallback:function(h,f){return Xo().memoizedState=[h,f===void 0?null:f],h},useContext:Xr,useEffect:h5,useImperativeHandle:function(h,f,E){return E=E!=null?E.concat([h]):null,R3(4194308,4,X7.bind(null,f,h),E)},useLayoutEffect:function(h,f){return R3(4194308,4,h,f)},useInsertionEffect:function(h,f){return R3(4,2,h,f)},useMemo:function(h,f){var E=Xo();return f=f===void 0?null:f,h=h(),E.memoizedState=[h,f],h},useReducer:function(h,f,E){var w=Xo();return f=E!==void 0?E(f):f,w.memoizedState=w.baseState=f,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:f},w.queue=h,h=h.dispatch=Rk.bind(null,Fn,h),[w.memoizedState,h]},useRef:function(h){var f=Xo();return h={current:h},f.memoizedState=h},useState:u5,useDebugValue:f5,useDeferredValue:function(h){var f=u5(h),E=f[0],w=f[1];return h5(function(){var _=es.transition;es.transition={};try{w(h)}finally{es.transition=_}},[h]),E},useTransition:function(){var h=u5(!1),f=h[0];return h=bk.bind(null,h[1]),Xo().memoizedState=h,[f,h]},useMutableSource:function(){},useSyncExternalStore:function(h,f,E){var w=Fn,_=Xo();if(Cn){if(E===void 0)throw Error(o(407));E=E()}else{if(E=f(),jn===null)throw Error(o(349));Du&30||z7(w,f,E)}_.memoizedState=E;var b={value:E,getSnapshot:f};return _.queue=b,h5(W7.bind(null,w,b,h),[h]),w.flags|=2048,Qf(9,V7.bind(null,w,b,E,f),void 0,null),E},useId:function(){var h=Xo(),f=jn.identifierPrefix;if(Cn){var E=Yo,w=Ko;E=(w&~(1<<32-Ms(w)-1)).toString(32)+E,f=":"+f+"R"+E,E=Gf++,0<E&&(f+="H"+E.toString(32)),f+=":"}else E=Bk++,f=":"+f+"r"+E.toString(32)+":";return h.memoizedState=f},unstable_isNewReconciler:!1},Lk={readContext:Xr,useCallback:Z7,useContext:Xr,useEffect:Hf,useImperativeHandle:q7,useInsertionEffect:K7,useLayoutEffect:Y7,useMemo:$7,useReducer:B3,useRef:j7,useState:function(){return B3(tc)},useDebugValue:f5,useDeferredValue:function(h){var f=B3(tc),E=f[0],w=f[1];return Hf(function(){var _=es.transition;es.transition={};try{w(h)}finally{es.transition=_}},[h]),E},useTransition:function(){var h=B3(tc)[0],f=uo().memoizedState;return[h,f]},useMutableSource:Q7,useSyncExternalStore:H7,useId:eC,unstable_isNewReconciler:!1},Fk={readContext:Xr,useCallback:Z7,useContext:Xr,useEffect:Hf,useImperativeHandle:q7,useInsertionEffect:K7,useLayoutEffect:Y7,useMemo:$7,useReducer:b3,useRef:j7,useState:function(){return b3(tc)},useDebugValue:f5,useDeferredValue:function(h){var f=b3(tc),E=f[0],w=f[1];return Hf(function(){var _=es.transition;es.transition={};try{w(h)}finally{es.transition=_}},[h]),E},useTransition:function(){var h=b3(tc)[0],f=uo().memoizedState;return[h,f]},useMutableSource:Q7,useSyncExternalStore:H7,useId:eC,unstable_isNewReconciler:!1};function d5(h,f){try{var E="",w=f;do E+=Tk(w),w=w.return;while(w);var _=E}catch(b){_=`
Error generating stack: `+b.message+`
`+b.stack}return{value:h,source:f,stack:_}}function p5(h,f){try{console.error(f.value)}catch(E){setTimeout(function(){throw E})}}var kk=typeof WeakMap=="function"?WeakMap:Map;function sC(h,f,E){E=jo(-1,E),E.tag=3,E.payload={element:null};var w=f.value;return E.callback=function(){Y3||(Y3=!0,P5=w),p5(h,f)},E}function oC(h,f,E){E=jo(-1,E),E.tag=3;var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var _=f.value;E.payload=function(){return w(_)},E.callback=function(){p5(h,f)}}var b=h.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(E.callback=function(){p5(h,f),typeof w!="function"&&(La===null?La=new Set([this]):La.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})}),E}function aC(h,f,E){var w=h.pingCache;if(w===null){w=h.pingCache=new kk;var _=new Set;w.set(f,_)}else _=w.get(f),_===void 0&&(_=new Set,w.set(f,_));_.has(E)||(_.add(E),h=Xk.bind(null,h,f,E),f.then(h,h))}function lC(h){do{var f;if((f=h.tag===13)&&(f=h.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return h;h=h.return}while(h!==null);return null}function cC(h,f,E,w,_){return h.mode&1?(h.flags|=65536,h.lanes=_,h):(h===f?h.flags|=65536:(h.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(f=jo(-1,1),f.tag=2,Da(E,f))),E.lanes|=1),h)}function ho(h){h.flags|=4}function uC(h,f){if(h!==null&&h.child===f.child)return!0;if(f.flags&16)return!1;for(h=f.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var zf,Vf,L3,F3;if(Me)zf=function(h,f){for(var E=f.child;E!==null;){if(E.tag===5||E.tag===6)H(h,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},Vf=function(){},L3=function(h,f,E,w,_){if(h=h.memoizedProps,h!==w){var b=f.stateNode,G=co($r.current);E=de(b,E,h,w,_,G),(f.updateQueue=E)&&ho(f)}},F3=function(h,f,E,w){E!==w&&ho(f)};else if(ue){zf=function(h,f,E,w){for(var _=f.child;_!==null;){if(_.tag===5){var b=_.stateNode;E&&w&&(b=Wt(b,_.type,_.memoizedProps,_)),H(h,b)}else if(_.tag===6)b=_.stateNode,E&&w&&(b=fi(b,_.memoizedProps,_)),H(h,b);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)b=_.child,b!==null&&(b.return=_),zf(h,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var hC=function(h,f,E,w){for(var _=f.child;_!==null;){if(_.tag===5){var b=_.stateNode;E&&w&&(b=Wt(b,_.type,_.memoizedProps,_)),$t(h,b)}else if(_.tag===6)b=_.stateNode,E&&w&&(b=fi(b,_.memoizedProps,_)),$t(h,b);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)b=_.child,b!==null&&(b.return=_),hC(h,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Vf=function(h,f){var E=f.stateNode;if(!uC(h,f)){h=E.containerInfo;var w=Ft(h);hC(w,f,!1,!1),E.pendingChildren=w,ho(f),rn(h,w)}},L3=function(h,f,E,w,_){var b=h.stateNode,G=h.memoizedProps;if((h=uC(h,f))&&G===w)f.stateNode=b;else{var Z=f.stateNode,pe=co($r.current),Le=null;G!==w&&(Le=de(Z,E,G,w,_,pe)),h&&Le===null?f.stateNode=b:(b=it(b,Le,E,G,w,f,h,Z),ne(b,E,w,_,pe)&&ho(f),f.stateNode=b,h?ho(f):zf(b,f,!1,!1))}},F3=function(h,f,E,w){E!==w?(h=co(Ru.current),E=co($r.current),f.stateNode=q(w,h,E,f),ho(f)):f.stateNode=h.stateNode}}else Vf=function(){},L3=function(){},F3=function(){};function Wf(h,f){if(!Cn)switch(h.tailMode){case"hidden":f=h.tail;for(var E=null;f!==null;)f.alternate!==null&&(E=f),f=f.sibling;E===null?h.tail=null:E.sibling=null;break;case"collapsed":E=h.tail;for(var w=null;E!==null;)E.alternate!==null&&(w=E),E=E.sibling;w===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:w.sibling=null}}function Pi(h){var f=h.alternate!==null&&h.alternate.child===h.child,E=0,w=0;if(f)for(var _=h.child;_!==null;)E|=_.lanes|_.childLanes,w|=_.subtreeFlags&14680064,w|=_.flags&14680064,_.return=h,_=_.sibling;else for(_=h.child;_!==null;)E|=_.lanes|_.childLanes,w|=_.subtreeFlags,w|=_.flags,_.return=h,_=_.sibling;return h.subtreeFlags|=w,h.childLanes=E,f}function Nk(h,f,E){var w=f.pendingProps;switch($1(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(f),null;case 1:return or(f.type)&&u3(),Pi(f),null;case 3:return w=f.stateNode,Pu(),It(di),It(en),o5(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(h===null||h.child===null)&&(Ff(f)?ho(f):h===null||h.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Bs!==null&&(F5(Bs),Bs=null))),Vf(h,f),Pi(f),null;case 5:r5(f),E=co(Ru.current);var _=f.type;if(h!==null&&f.stateNode!=null)L3(h,f,_,w,E),h.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(o(166));return Pi(f),null}if(h=co($r.current),Ff(f)){if(!oe)throw Error(o(175));h=ut(f.stateNode,f.type,f.memoizedProps,E,h,f,!Lf),f.updateQueue=h,h!==null&&ho(f)}else{var b=$(_,w,E,h,f);zf(b,f,!1,!1),f.stateNode=b,ne(b,_,w,E,h)&&ho(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Pi(f),null;case 6:if(h&&f.stateNode!=null)F3(h,f,h.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(o(166));if(h=co(Ru.current),E=co($r.current),Ff(f)){if(!oe)throw Error(o(176));if(h=f.stateNode,w=f.memoizedProps,(E=xt(h,w,f,!Lf))&&(_=xr,_!==null))switch(b=(_.mode&1)!==0,_.tag){case 3:_s(_.stateNode.containerInfo,h,w,b);break;case 5:Ho(_.type,_.memoizedProps,_.stateNode,h,w,b)}E&&ho(f)}else f.stateNode=q(w,h,E,f)}return Pi(f),null;case 13:if(It(wn),w=f.memoizedState,Cn&&Cr!==null&&f.mode&1&&!(f.flags&128)){for(h=Cr;h;)h=re(h);return Bu(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=Ff(f),h===null){if(!w)throw Error(o(318));if(!oe)throw Error(o(344));if(h=f.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Tt(h,f)}else Bu(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Pi(f),null}return Bs!==null&&(F5(Bs),Bs=null),f.flags&128?(f.lanes=E,f):(w=w!==null,E=!1,h===null?Ff(f):E=h.memoizedState!==null,w&&!E&&(f.child.flags|=8192,f.mode&1&&(h===null||wn.current&1?ei===0&&(ei=3):N5())),f.updateQueue!==null&&(f.flags|=4),Pi(f),null);case 4:return Pu(),Vf(h,f),h===null&&He(f.stateNode.containerInfo),Pi(f),null;case 10:return j1(f.type._context),Pi(f),null;case 17:return or(f.type)&&u3(),Pi(f),null;case 19:if(It(wn),_=f.memoizedState,_===null)return Pi(f),null;if(w=(f.flags&128)!==0,b=_.rendering,b===null)if(w)Wf(_,!1);else{if(ei!==0||h!==null&&h.flags&128)for(h=f.child;h!==null;){if(b=_3(h),b!==null){for(f.flags|=128,Wf(_,!1),h=b.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),f.subtreeFlags=0,h=E,w=f.child;w!==null;)E=w,_=h,E.flags&=14680066,b=E.alternate,b===null?(E.childLanes=0,E.lanes=_,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=b.childLanes,E.lanes=b.lanes,E.child=b.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=b.memoizedProps,E.memoizedState=b.memoizedState,E.updateQueue=b.updateQueue,E.type=b.type,_=b.dependencies,E.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),w=w.sibling;return zt(wn,wn.current&1|2),f.child}h=h.sibling}_.tail!==null&&pi()>R5&&(f.flags|=128,w=!0,Wf(_,!1),f.lanes=4194304)}else{if(!w)if(h=_3(b),h!==null){if(f.flags|=128,w=!0,h=h.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),Wf(_,!0),_.tail===null&&_.tailMode==="hidden"&&!b.alternate&&!Cn)return Pi(f),null}else 2*pi()-_.renderingStartTime>R5&&E!==1073741824&&(f.flags|=128,w=!0,Wf(_,!1),f.lanes=4194304);_.isBackwards?(b.sibling=f.child,f.child=b):(h=_.last,h!==null?h.sibling=b:f.child=b,_.last=b)}return _.tail!==null?(f=_.tail,_.rendering=f,_.tail=f.sibling,_.renderingStartTime=pi(),f.sibling=null,h=wn.current,zt(wn,w?h&1|2:h&1),f):(Pi(f),null);case 22:case 23:return k5(),w=f.memoizedState!==null,h!==null&&h.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?Sr&1073741824&&(Pi(f),Me&&f.subtreeFlags&6&&(f.flags|=8192)):Pi(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var Ok=a.ReactCurrentOwner,Er=!1;function Vi(h,f,E,w){f.child=h===null?U7(f,null,E,w):bu(f,h.child,E,w)}function fC(h,f,E,w,_){E=E.render;var b=f.ref;return _u(f,_),w=l5(h,f,E,w,b,_),E=c5(),h!==null&&!Er?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~_,qo(h,f,_)):(Cn&&E&&Z1(f),f.flags|=1,Vi(h,f,w,_),f.child)}function dC(h,f,E,w,_){if(h===null){var b=E.type;return typeof b=="function"&&!O5(b)&&b.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(f.tag=15,f.type=b,pC(h,f,b,w,_)):(h=nm(E.type,null,w,f,f.mode,_),h.ref=f.ref,h.return=f,f.child=h)}if(b=h.child,!(h.lanes&_)){var G=b.memoizedProps;if(E=E.compare,E=E!==null?E:g3,E(G,w)&&h.ref===f.ref)return qo(h,f,_)}return f.flags|=1,h=Oa(b,w),h.ref=f.ref,h.return=f,f.child=h}function pC(h,f,E,w,_){if(h!==null&&g3(h.memoizedProps,w)&&h.ref===f.ref)if(Er=!1,(h.lanes&_)!==0)h.flags&131072&&(Er=!0);else return f.lanes=h.lanes,qo(h,f,_);return m5(h,f,E,w,_)}function mC(h,f,E){var w=f.pendingProps,_=w.children,b=h!==null?h.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},zt(Lu,Sr),Sr|=E;else if(E&1073741824)f.memoizedState={baseLanes:0,cachePool:null},w=b!==null?b.baseLanes:E,zt(Lu,Sr),Sr|=w;else return h=b!==null?b.baseLanes|E:E,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:h,cachePool:null},f.updateQueue=null,zt(Lu,Sr),Sr|=h,null;else b!==null?(w=b.baseLanes|E,f.memoizedState=null):w=E,zt(Lu,Sr),Sr|=w;return Vi(h,f,_,E),f.child}function AC(h,f){var E=f.ref;(h===null&&E!==null||h!==null&&h.ref!==E)&&(f.flags|=512,f.flags|=2097152)}function m5(h,f,E,w,_){var b=or(E)?Vo:en.current;return b=Wo(f,b),_u(f,_),E=l5(h,f,E,w,b,_),w=c5(),h!==null&&!Er?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~_,qo(h,f,_)):(Cn&&w&&Z1(f),f.flags|=1,Vi(h,f,E,_),f.child)}function gC(h,f,E,w,_){if(or(E)){var b=!0;h3(f)}else b=!1;if(_u(f,_),f.stateNode===null)h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),R7(f,E,w),q1(f,E,w,_),w=!0;else if(h===null){var G=f.stateNode,Z=f.memoizedProps;G.props=Z;var pe=G.context,Le=E.contextType;typeof Le=="object"&&Le!==null?Le=Xr(Le):(Le=or(E)?Vo:en.current,Le=Wo(f,Le));var Ke=E.getDerivedStateFromProps,Et=typeof Ke=="function"||typeof G.getSnapshotBeforeUpdate=="function";Et||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Z!==w||pe!==Le)&&P7(f,G,w,Le),Pa=!1;var ht=f.memoizedState;G.state=ht,C3(f,w,G,_),pe=f.memoizedState,Z!==w||ht!==pe||di.current||Pa?(typeof Ke=="function"&&(X1(f,E,Ke,w),pe=f.memoizedState),(Z=Pa||b7(f,E,Z,w,ht,pe,Le))?(Et||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(f.flags|=4194308)):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=pe),G.props=w,G.state=pe,G.context=Le,w=Z):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{G=f.stateNode,_7(h,f),Z=f.memoizedProps,Le=f.type===f.elementType?Z:Ts(f.type,Z),G.props=Le,Et=f.pendingProps,ht=G.context,pe=E.contextType,typeof pe=="object"&&pe!==null?pe=Xr(pe):(pe=or(E)?Vo:en.current,pe=Wo(f,pe));var on=E.getDerivedStateFromProps;(Ke=typeof on=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Z!==Et||ht!==pe)&&P7(f,G,w,pe),Pa=!1,ht=f.memoizedState,G.state=ht,C3(f,w,G,_);var ot=f.memoizedState;Z!==Et||ht!==ot||di.current||Pa?(typeof on=="function"&&(X1(f,E,on,w),ot=f.memoizedState),(Le=Pa||b7(f,E,Le,w,ht,ot,pe)||!1)?(Ke||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(w,ot,pe),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(w,ot,pe)),typeof G.componentDidUpdate=="function"&&(f.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof G.componentDidUpdate!="function"||Z===h.memoizedProps&&ht===h.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&ht===h.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=ot),G.props=w,G.state=ot,G.context=pe,w=Le):(typeof G.componentDidUpdate!="function"||Z===h.memoizedProps&&ht===h.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&ht===h.memoizedState||(f.flags|=1024),w=!1)}return A5(h,f,E,w,b,_)}function A5(h,f,E,w,_,b){AC(h,f);var G=(f.flags&128)!==0;if(!w&&!G)return _&&C7(f,E,!1),qo(h,f,b);w=f.stateNode,Ok.current=f;var Z=G&&typeof E.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,h!==null&&G?(f.child=bu(f,h.child,null,b),f.child=bu(f,null,Z,b)):Vi(h,f,Z,b),f.memoizedState=w.state,_&&C7(f,E,!0),f.child}function vC(h){var f=h.stateNode;f.pendingContext?y7(h,f.pendingContext,f.pendingContext!==f.context):f.context&&y7(h,f.context,!1),i5(h,f.containerInfo)}function yC(h,f,E,w,_){return Bu(),n5(_),f.flags|=256,Vi(h,f,E,w),f.child}var k3={dehydrated:null,treeContext:null,retryLane:0};function N3(h){return{baseLanes:h,cachePool:null}}function xC(h,f,E){var w=f.pendingProps,_=wn.current,b=!1,G=(f.flags&128)!==0,Z;if((Z=G)||(Z=h!==null&&h.memoizedState===null?!1:(_&2)!==0),Z?(b=!0,f.flags&=-129):(h===null||h.memoizedState!==null)&&(_|=1),zt(wn,_&1),h===null)return t5(f),h=f.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(f.mode&1?Rf(h)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(_=w.children,h=w.fallback,b?(w=f.mode,b=f.child,_={mode:"hidden",children:_},!(w&1)&&b!==null?(b.childLanes=0,b.pendingProps=_):b=im(_,w,0,null),h=ac(h,w,E,null),b.return=f,h.return=f,b.sibling=h,f.child=b,f.child.memoizedState=N3(E),f.memoizedState=k3,h):g5(f,_));if(_=h.memoizedState,_!==null){if(Z=_.dehydrated,Z!==null){if(G)return f.flags&256?(f.flags&=-257,O3(h,f,E,Error(o(422)))):f.memoizedState!==null?(f.child=h.child,f.flags|=128,null):(b=w.fallback,_=f.mode,w=im({mode:"visible",children:w.children},_,0,null),b=ac(b,_,E,null),b.flags|=2,w.return=f,b.return=f,w.sibling=b,f.child=w,f.mode&1&&bu(f,h.child,null,E),f.child.memoizedState=N3(E),f.memoizedState=k3,b);if(!(f.mode&1))f=O3(h,f,E,null);else if(Rf(Z))f=O3(h,f,E,Error(o(419)));else if(w=(E&h.childLanes)!==0,Er||w){if(w=jn,w!==null){switch(E&-E){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}w=b&(w.suspendedLanes|E)?0:b,w!==0&&w!==_.retryLane&&(_.retryLane=w,ts(h,w,-1))}N5(),f=O3(h,f,E,Error(o(421)))}else c3(Z)?(f.flags|=128,f.child=h.child,f=qk.bind(null,h),O(Z,f),f=null):(E=_.treeContext,oe&&(Cr=xe(Z),xr=f,Cn=!0,Bs=null,Lf=!1,E!==null&&(qr[Zr++]=Ko,qr[Zr++]=Yo,qr[Zr++]=$l,Ko=E.id,Yo=E.overflow,$l=f)),f=g5(f,f.pendingProps.children),f.flags|=4096);return f}return b?(w=EC(h,f,w.children,w.fallback,E),b=f.child,_=h.child.memoizedState,b.memoizedState=_===null?N3(E):{baseLanes:_.baseLanes|E,cachePool:null},b.childLanes=h.childLanes&~E,f.memoizedState=k3,w):(E=CC(h,f,w.children,E),f.memoizedState=null,E)}return b?(w=EC(h,f,w.children,w.fallback,E),b=f.child,_=h.child.memoizedState,b.memoizedState=_===null?N3(E):{baseLanes:_.baseLanes|E,cachePool:null},b.childLanes=h.childLanes&~E,f.memoizedState=k3,w):(E=CC(h,f,w.children,E),f.memoizedState=null,E)}function g5(h,f){return f=im({mode:"visible",children:f},h.mode,0,null),f.return=h,h.child=f}function CC(h,f,E,w){var _=h.child;return h=_.sibling,E=Oa(_,{mode:"visible",children:E}),!(f.mode&1)&&(E.lanes=w),E.return=f,E.sibling=null,h!==null&&(w=f.deletions,w===null?(f.deletions=[h],f.flags|=16):w.push(h)),f.child=E}function EC(h,f,E,w,_){var b=f.mode;h=h.child;var G=h.sibling,Z={mode:"hidden",children:E};return!(b&1)&&f.child!==h?(E=f.child,E.childLanes=0,E.pendingProps=Z,f.deletions=null):(E=Oa(h,Z),E.subtreeFlags=h.subtreeFlags&14680064),G!==null?w=Oa(G,w):(w=ac(w,b,_,null),w.flags|=2),w.return=f,E.return=f,E.sibling=w,f.child=E,w}function O3(h,f,E,w){return w!==null&&n5(w),bu(f,h.child,null,E),h=g5(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function SC(h,f,E){h.lanes|=f;var w=h.alternate;w!==null&&(w.lanes|=f),K1(h.return,f,E)}function v5(h,f,E,w,_){var b=h.memoizedState;b===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:E,tailMode:_}:(b.isBackwards=f,b.rendering=null,b.renderingStartTime=0,b.last=w,b.tail=E,b.tailMode=_)}function wC(h,f,E){var w=f.pendingProps,_=w.revealOrder,b=w.tail;if(Vi(h,f,w.children,E),w=wn.current,w&2)w=w&1|2,f.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&SC(h,E,f);else if(h.tag===19)SC(h,E,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}w&=1}if(zt(wn,w),!(f.mode&1))f.memoizedState=null;else switch(_){case"forwards":for(E=f.child,_=null;E!==null;)h=E.alternate,h!==null&&_3(h)===null&&(_=E),E=E.sibling;E=_,E===null?(_=f.child,f.child=null):(_=E.sibling,E.sibling=null),v5(f,!1,_,E,b);break;case"backwards":for(E=null,_=f.child,f.child=null;_!==null;){if(h=_.alternate,h!==null&&_3(h)===null){f.child=_;break}h=_.sibling,_.sibling=E,E=_,_=h}v5(f,!0,E,null,b);break;case"together":v5(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function qo(h,f,E){if(h!==null&&(f.dependencies=h.dependencies),Fu|=f.lanes,!(E&f.childLanes))return null;if(h!==null&&f.child!==h.child)throw Error(o(153));if(f.child!==null){for(h=f.child,E=Oa(h,h.pendingProps),f.child=E,E.return=f;h.sibling!==null;)h=h.sibling,E=E.sibling=Oa(h,h.pendingProps),E.return=f;E.sibling=null}return f.child}function Uk(h,f,E){switch(f.tag){case 3:vC(f),Bu();break;case 5:G7(f);break;case 1:or(f.type)&&h3(f);break;case 4:i5(f,f.stateNode.containerInfo);break;case 10:I7(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(zt(wn,wn.current&1),f.flags|=128,null):E&f.child.childLanes?xC(h,f,E):(zt(wn,wn.current&1),h=qo(h,f,E),h!==null?h.sibling:null);zt(wn,wn.current&1);break;case 19:if(w=(E&f.childLanes)!==0,h.flags&128){if(w)return wC(h,f,E);f.flags|=128}var _=f.memoizedState;if(_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),zt(wn,wn.current),w)break;return null;case 22:case 23:return f.lanes=0,mC(h,f,E)}return qo(h,f,E)}function Gk(h,f){switch($1(f),f.tag){case 1:return or(f.type)&&u3(),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return Pu(),It(di),It(en),o5(),h=f.flags,h&65536&&!(h&128)?(f.flags=h&-65537|128,f):null;case 5:return r5(f),null;case 13:if(It(wn),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Bu()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return It(wn),null;case 4:return Pu(),null;case 10:return j1(f.type._context),null;case 22:case 23:return k5(),null;case 24:return null;default:return null}}var U3=!1,nc=!1,Qk=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function G3(h,f){var E=h.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(w){cr(h,f,w)}else E.current=null}function y5(h,f,E){try{E()}catch(w){cr(h,f,w)}}var IC=!1;function Hk(h,f){for(J(h.containerInfo),Qe=f;Qe!==null;)if(h=Qe,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,Qe=f;else for(;Qe!==null;){h=Qe;try{var E=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,_=E.memoizedState,b=h.stateNode,G=b.getSnapshotBeforeUpdate(h.elementType===h.type?w:Ts(h.type,w),_);b.__reactInternalSnapshotBeforeUpdate=G}break;case 3:Me&&Ne(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Z){cr(h,h.return,Z)}if(f=h.sibling,f!==null){f.return=h.return,Qe=f;break}Qe=h.return}return E=IC,IC=!1,E}function ic(h,f,E){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var _=w=w.next;do{if((_.tag&h)===h){var b=_.destroy;_.destroy=void 0,b!==void 0&&y5(f,E,b)}_=_.next}while(_!==w)}}function Jf(h,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var E=f=f.next;do{if((E.tag&h)===h){var w=E.create;E.destroy=w()}E=E.next}while(E!==f)}}function x5(h){var f=h.ref;if(f!==null){var E=h.stateNode;switch(h.tag){case 5:h=X(E);break;default:h=E}typeof f=="function"?f(h):f.current=h}}function _C(h,f,E){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(m3,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(h=f.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var w=h=h.next;do{var _=w,b=_.destroy;_=_.tag,b!==void 0&&(_&2||_&4)&&y5(f,E,b),w=w.next}while(w!==h)}break;case 1:if(G3(f,E),h=f.stateNode,typeof h.componentWillUnmount=="function")try{h.props=f.memoizedProps,h.state=f.memoizedState,h.componentWillUnmount()}catch(G){cr(f,E,G)}break;case 5:G3(f,E);break;case 4:Me?PC(h,f,E):ue&&ue&&(f=f.stateNode.containerInfo,E=Ft(f),Hi(f,E))}}function MC(h,f,E){for(var w=f;;)if(_C(h,w,E),w.child===null||Me&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function TC(h){var f=h.alternate;f!==null&&(h.alternate=null,TC(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&tt(f)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function BC(h){return h.tag===5||h.tag===3||h.tag===4}function bC(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||BC(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function RC(h){if(Me){e:{for(var f=h.return;f!==null;){if(BC(f))break e;f=f.return}throw Error(o(160))}var E=f;switch(E.tag){case 5:f=E.stateNode,E.flags&32&&(Ee(f),E.flags&=-33),E=bC(h),E5(h,E,f);break;case 3:case 4:f=E.stateNode.containerInfo,E=bC(h),C5(h,E,f);break;default:throw Error(o(161))}}}function C5(h,f,E){var w=h.tag;if(w===5||w===6)h=h.stateNode,f?lt(E,h,f):Oe(E,h);else if(w!==4&&(h=h.child,h!==null))for(C5(h,f,E),h=h.sibling;h!==null;)C5(h,f,E),h=h.sibling}function E5(h,f,E){var w=h.tag;if(w===5||w===6)h=h.stateNode,f?Xe(E,h,f):ct(E,h);else if(w!==4&&(h=h.child,h!==null))for(E5(h,f,E),h=h.sibling;h!==null;)E5(h,f,E),h=h.sibling}function PC(h,f,E){for(var w=f,_=!1,b,G;;){if(!_){_=w.return;e:for(;;){if(_===null)throw Error(o(160));switch(b=_.stateNode,_.tag){case 5:G=!1;break e;case 3:b=b.containerInfo,G=!0;break e;case 4:b=b.containerInfo,G=!0;break e}_=_.return}_=!0}if(w.tag===5||w.tag===6)MC(h,w,E),G?Y(b,w.stateNode):nt(b,w.stateNode);else if(w.tag===18)G?Dn(b,w.stateNode):Nt(b,w.stateNode);else if(w.tag===4){if(w.child!==null){b=w.stateNode.containerInfo,G=!0,w.child.return=w,w=w.child;continue}}else if(_C(h,w,E),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(_=!1)}w.sibling.return=w.return,w=w.sibling}}function S5(h,f){if(Me){switch(f.tag){case 0:case 11:case 14:case 15:ic(3,f,f.return),Jf(3,f),ic(5,f,f.return);return;case 1:return;case 5:var E=f.stateNode;if(E!=null){var w=f.memoizedProps;h=h!==null?h.memoizedProps:w;var _=f.type,b=f.updateQueue;f.updateQueue=null,b!==null&&st(E,b,_,h,w,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));E=f.memoizedProps,ge(f.stateNode,h!==null?h.memoizedProps:E,E);return;case 3:oe&&h!==null&&h.memoizedState.isDehydrated&&Ut(f.stateNode.containerInfo);return;case 12:return;case 13:Q3(f);return;case 19:Q3(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ic(3,f,f.return),Jf(3,f),ic(5,f,f.return);return;case 12:return;case 13:Q3(f);return;case 19:Q3(f);return;case 3:oe&&h!==null&&h.memoizedState.isDehydrated&&Ut(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(ue){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Hi(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Q3(h){var f=h.updateQueue;if(f!==null){h.updateQueue=null;var E=h.stateNode;E===null&&(E=h.stateNode=new Qk),f.forEach(function(w){var _=Zk.bind(null,h,w);E.has(w)||(E.add(w),w.then(_,_))})}}function zk(h,f){for(Qe=f;Qe!==null;){f=Qe;var E=f.deletions;if(E!==null)for(var w=0;w<E.length;w++){var _=E[w];try{var b=h;Me?PC(b,_,f):MC(b,_,f);var G=_.alternate;G!==null&&(G.return=null),_.return=null}catch(rt){cr(_,f,rt)}}if(E=f.child,f.subtreeFlags&12854&&E!==null)E.return=f,Qe=E;else for(;Qe!==null;){f=Qe;try{var Z=f.flags;if(Z&32&&Me&&Ee(f.stateNode),Z&512){var pe=f.alternate;if(pe!==null){var Le=pe.ref;Le!==null&&(typeof Le=="function"?Le(null):Le.current=null)}}if(Z&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Ke=f.alternate;(Ke===null||Ke.memoizedState===null)&&(b5=pi())}break;case 22:var Et=f.memoizedState!==null,ht=f.alternate,on=ht!==null&&ht.memoizedState!==null;if(E=f,Me){e:if(w=E,_=Et,b=null,Me)for(var ot=w;;){if(ot.tag===5){if(b===null){b=ot;var Di=ot.stateNode;_?ze(Di):ae(ot.stateNode,ot.memoizedProps)}}else if(ot.tag===6){if(b===null){var is=ot.stateNode;_?K(is):Se(is,ot.memoizedProps)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===w)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===w)break;for(;ot.sibling===null;){if(ot.return===null||ot.return===w)break e;b===ot&&(b=null),ot=ot.return}b===ot&&(b=null),ot.sibling.return=ot.return,ot=ot.sibling}}if(Et&&!on&&E.mode&1){Qe=E;for(var se=E.child;se!==null;){for(E=Qe=se;Qe!==null;){w=Qe;var ee=w.child;switch(w.tag){case 0:case 11:case 14:case 15:ic(4,w,w.return);break;case 1:G3(w,w.return);var he=w.stateNode;if(typeof he.componentWillUnmount=="function"){var Ve=w.return;try{he.props=w.memoizedProps,he.state=w.memoizedState,he.componentWillUnmount()}catch(rt){cr(w,Ve,rt)}}break;case 5:G3(w,w.return);break;case 22:if(w.memoizedState!==null){FC(E);continue}}ee!==null?(ee.return=w,Qe=ee):FC(E)}se=se.sibling}}}switch(Z&4102){case 2:RC(f),f.flags&=-3;break;case 6:RC(f),f.flags&=-3,S5(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,S5(f.alternate,f);break;case 4:S5(f.alternate,f)}}catch(rt){cr(f,f.return,rt)}if(E=f.sibling,E!==null){E.return=f.return,Qe=E;break}Qe=f.return}}}function Vk(h,f,E){Qe=h,DC(h)}function DC(h,f,E){for(var w=(h.mode&1)!==0;Qe!==null;){var _=Qe,b=_.child;if(_.tag===22&&w){var G=_.memoizedState!==null||U3;if(!G){var Z=_.alternate,pe=Z!==null&&Z.memoizedState!==null||nc;Z=U3;var Le=nc;if(U3=G,(nc=pe)&&!Le)for(Qe=_;Qe!==null;)G=Qe,pe=G.child,G.tag===22&&G.memoizedState!==null?kC(_):pe!==null?(pe.return=G,Qe=pe):kC(_);for(;b!==null;)Qe=b,DC(b),b=b.sibling;Qe=_,U3=Z,nc=Le}LC(h)}else _.subtreeFlags&8772&&b!==null?(b.return=_,Qe=b):LC(h)}}function LC(h){for(;Qe!==null;){var f=Qe;if(f.flags&8772){var E=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:nc||Jf(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!nc)if(E===null)w.componentDidMount();else{var _=f.elementType===f.type?E.memoizedProps:Ts(f.type,E.memoizedProps);w.componentDidUpdate(_,E.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var b=f.updateQueue;b!==null&&T7(f,b,w);break;case 3:var G=f.updateQueue;if(G!==null){if(E=null,f.child!==null)switch(f.child.tag){case 5:E=X(f.child.stateNode);break;case 1:E=f.child.stateNode}T7(f,G,E)}break;case 5:var Z=f.stateNode;E===null&&f.flags&4&&Ze(Z,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(oe&&f.memoizedState===null){var pe=f.alternate;if(pe!==null){var Le=pe.memoizedState;if(Le!==null){var Ke=Le.dehydrated;Ke!==null&&kt(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}nc||f.flags&512&&x5(f)}catch(Et){cr(f,f.return,Et)}}if(f===h){Qe=null;break}if(E=f.sibling,E!==null){E.return=f.return,Qe=E;break}Qe=f.return}}function FC(h){for(;Qe!==null;){var f=Qe;if(f===h){Qe=null;break}var E=f.sibling;if(E!==null){E.return=f.return,Qe=E;break}Qe=f.return}}function kC(h){for(;Qe!==null;){var f=Qe;try{switch(f.tag){case 0:case 11:case 15:var E=f.return;try{Jf(4,f)}catch(pe){cr(f,E,pe)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var _=f.return;try{w.componentDidMount()}catch(pe){cr(f,_,pe)}}var b=f.return;try{x5(f)}catch(pe){cr(f,b,pe)}break;case 5:var G=f.return;try{x5(f)}catch(pe){cr(f,G,pe)}}}catch(pe){cr(f,f.return,pe)}if(f===h){Qe=null;break}var Z=f.sibling;if(Z!==null){Z.return=f.return,Qe=Z;break}Qe=f.return}}var H3=0,z3=1,V3=2,W3=3,J3=4;if(typeof Symbol=="function"&&Symbol.for){var jf=Symbol.for;H3=jf("selector.component"),z3=jf("selector.has_pseudo_class"),V3=jf("selector.role"),W3=jf("selector.test_id"),J3=jf("selector.text")}function w5(h){var f=_e(h);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(h=Mt(h),h===null)throw Error(o(362));return h.stateNode.current}function I5(h,f){switch(f.$$typeof){case H3:if(h.type===f.value)return!0;break;case z3:e:{f=f.value,h=[h,0];for(var E=0;E<h.length;){var w=h[E++],_=h[E++],b=f[_];if(w.tag!==5||!ce(w)){for(;b!=null&&I5(w,b);)_++,b=f[_];if(_===f.length){f=!0;break e}else for(w=w.child;w!==null;)h.push(w,_),w=w.sibling}}f=!1}return f;case V3:if(h.tag===5&&Ie(h.stateNode,f.value))return!0;break;case J3:if((h.tag===5||h.tag===6)&&(h=F(h),h!==null&&0<=h.indexOf(f.value)))return!0;break;case W3:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function _5(h){switch(h.$$typeof){case H3:return"<"+(B(h.value)||"Unknown")+">";case z3:return":has("+(_5(h)||"")+")";case V3:return'[role="'+h.value+'"]';case J3:return'"'+h.value+'"';case W3:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function NC(h,f){var E=[];h=[h,0];for(var w=0;w<h.length;){var _=h[w++],b=h[w++],G=f[b];if(_.tag!==5||!ce(_)){for(;G!=null&&I5(_,G);)b++,G=f[b];if(b===f.length)E.push(_);else for(_=_.child;_!==null;)h.push(_,b),_=_.sibling}}return E}function M5(h,f){if(!_t)throw Error(o(363));h=w5(h),h=NC(h,f),f=[],h=Array.from(h);for(var E=0;E<h.length;){var w=h[E++];if(w.tag===5)ce(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)h.push(w),w=w.sibling}return f}var Wk=Math.ceil,j3=a.ReactCurrentDispatcher,T5=a.ReactCurrentOwner,Hn=a.ReactCurrentBatchConfig,Dt=0,jn=null,Kn=null,Ei=0,Sr=0,Lu=Kr(0),ei=0,Kf=null,Fu=0,K3=0,B5=0,Yf=null,ar=null,b5=0,R5=1/0;function ku(){R5=pi()+500}var Y3=!1,P5=null,La=null,X3=!1,Fa=null,q3=0,Xf=0,D5=null,Z3=-1,$3=0;function Wi(){return Dt&6?pi():Z3!==-1?Z3:Z3=pi()}function ka(h){return h.mode&1?Dt&2&&Ei!==0?Ei&-Ei:Mk.transition!==null?($3===0&&(h=f3,f3<<=1,!(f3&4194240)&&(f3=64),$3=h),$3):(h=Yt,h!==0?h:ke()):1}function ts(h,f,E){if(50<Xf)throw Xf=0,D5=null,Error(o(185));var w=em(h,f);return w===null?null:(Df(w,f,E),(!(Dt&2)||w!==jn)&&(w===jn&&(!(Dt&2)&&(K3|=f),ei===4&&Na(w,Ei)),lr(w,E),f===1&&Dt===0&&!(h.mode&1)&&(ku(),A3&&ao())),w)}function em(h,f){h.lanes|=f;var E=h.alternate;for(E!==null&&(E.lanes|=f),E=h,h=h.return;h!==null;)h.childLanes|=f,E=h.alternate,E!==null&&(E.childLanes|=f),E=h,h=h.return;return E.tag===3?E.stateNode:null}function lr(h,f){var E=h.callbackNode;vk(h,f);var w=p3(h,h===jn?Ei:0);if(w===0)E!==null&&S7(E),h.callbackNode=null,h.callbackPriority=0;else if(f=w&-w,h.callbackPriority!==f){if(E!=null&&S7(E),f===1)h.tag===0?_k(UC.bind(null,h)):w7(UC.bind(null,h)),et?Ye(function(){Dt===0&&ao()}):Q1(H1,ao),E=null;else{switch(E7(w)){case 1:E=H1;break;case 4:E=Ek;break;case 16:E=z1;break;case 536870912:E=Sk;break;default:E=z1}E=KC(E,OC.bind(null,h))}h.callbackPriority=f,h.callbackNode=E}}function OC(h,f){if(Z3=-1,$3=0,Dt&6)throw Error(o(327));var E=h.callbackNode;if(oc()&&h.callbackNode!==E)return null;var w=p3(h,h===jn?Ei:0);if(w===0)return null;if(w&30||w&h.expiredLanes||f)f=tm(h,w);else{f=w;var _=Dt;Dt|=2;var b=HC();(jn!==h||Ei!==f)&&(ku(),rc(h,f));do try{Kk();break}catch(Z){QC(h,Z)}while(1);J1(),j3.current=b,Dt=_,Kn!==null?f=0:(jn=null,Ei=0,f=ei)}if(f!==0){if(f===2&&(_=O1(h),_!==0&&(w=_,f=L5(h,_))),f===1)throw E=Kf,rc(h,0),Na(h,w),lr(h,pi()),E;if(f===6)Na(h,w);else{if(_=h.current.alternate,!(w&30)&&!Jk(_)&&(f=tm(h,w),f===2&&(b=O1(h),b!==0&&(w=b,f=L5(h,b))),f===1))throw E=Kf,rc(h,0),Na(h,w),lr(h,pi()),E;switch(h.finishedWork=_,h.finishedLanes=w,f){case 0:case 1:throw Error(o(345));case 2:sc(h,ar);break;case 3:if(Na(h,w),(w&130023424)===w&&(f=b5+500-pi(),10<f)){if(p3(h,0)!==0)break;if(_=h.suspendedLanes,(_&w)!==w){Wi(),h.pingedLanes|=h.suspendedLanes&_;break}h.timeoutHandle=Te(sc.bind(null,h,ar),f);break}sc(h,ar);break;case 4:if(Na(h,w),(w&4194240)===w)break;for(f=h.eventTimes,_=-1;0<w;){var G=31-Ms(w);b=1<<G,G=f[G],G>_&&(_=G),w&=~b}if(w=_,w=pi()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Wk(w/1960))-w,10<w){h.timeoutHandle=Te(sc.bind(null,h,ar),w);break}sc(h,ar);break;case 5:sc(h,ar);break;default:throw Error(o(329))}}}return lr(h,pi()),h.callbackNode===E?OC.bind(null,h):null}function L5(h,f){var E=Yf;return h.current.memoizedState.isDehydrated&&(rc(h,f).flags|=256),h=tm(h,f),h!==2&&(f=ar,ar=E,f!==null&&F5(f)),h}function F5(h){ar===null?ar=h:ar.push.apply(ar,h)}function Jk(h){for(var f=h;;){if(f.flags&16384){var E=f.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var w=0;w<E.length;w++){var _=E[w],b=_.getSnapshot;_=_.value;try{if(!oo(b(),_))return!1}catch{return!1}}}if(E=f.child,f.subtreeFlags&16384&&E!==null)E.return=f,f=E;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Na(h,f){for(f&=~B5,f&=~K3,h.suspendedLanes|=f,h.pingedLanes&=~f,h=h.expirationTimes;0<f;){var E=31-Ms(f),w=1<<E;h[E]=-1,f&=~w}}function UC(h){if(Dt&6)throw Error(o(327));oc();var f=p3(h,0);if(!(f&1))return lr(h,pi()),null;var E=tm(h,f);if(h.tag!==0&&E===2){var w=O1(h);w!==0&&(f=w,E=L5(h,w))}if(E===1)throw E=Kf,rc(h,0),Na(h,f),lr(h,pi()),E;if(E===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=f,sc(h,ar),lr(h,pi()),null}function GC(h){Fa!==null&&Fa.tag===0&&!(Dt&6)&&oc();var f=Dt;Dt|=1;var E=Hn.transition,w=Yt;try{if(Hn.transition=null,Yt=1,h)return h()}finally{Yt=w,Hn.transition=E,Dt=f,!(Dt&6)&&ao()}}function k5(){Sr=Lu.current,It(Lu)}function rc(h,f){h.finishedWork=null,h.finishedLanes=0;var E=h.timeoutHandle;if(E!==De&&(h.timeoutHandle=De,Pe(E)),Kn!==null)for(E=Kn.return;E!==null;){var w=E;switch($1(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&u3();break;case 3:Pu(),It(di),It(en),o5();break;case 5:r5(w);break;case 4:Pu();break;case 13:It(wn);break;case 19:It(wn);break;case 10:j1(w.type._context);break;case 22:case 23:k5()}E=E.return}if(jn=h,Kn=h=Oa(h.current,null),Ei=Sr=f,ei=0,Kf=null,B5=K3=Fu=0,ar=Yf=null,lo!==null){for(f=0;f<lo.length;f++)if(E=lo[f],w=E.interleaved,w!==null){E.interleaved=null;var _=w.next,b=E.pending;if(b!==null){var G=b.next;b.next=_,w.next=G}E.pending=w}lo=null}return h}function QC(h,f){do{var E=Kn;try{if(J1(),M3.current=D3,T3){for(var w=Fn.memoizedState;w!==null;){var _=w.queue;_!==null&&(_.pending=null),w=w.next}T3=!1}if(Du=0,mi=bi=Fn=null,Uf=!1,Gf=0,T5.current=null,E===null||E.return===null){ei=1,Kf=f,Kn=null;break}e:{var b=h,G=E.return,Z=E,pe=f;if(f=Ei,Z.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Le=pe,Ke=Z,Et=Ke.tag;if(!(Ke.mode&1)&&(Et===0||Et===11||Et===15)){var ht=Ke.alternate;ht?(Ke.updateQueue=ht.updateQueue,Ke.memoizedState=ht.memoizedState,Ke.lanes=ht.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var on=lC(G);if(on!==null){on.flags&=-257,cC(on,G,Z,b,f),on.mode&1&&aC(b,Le,f),f=on,pe=Le;var ot=f.updateQueue;if(ot===null){var Di=new Set;Di.add(pe),f.updateQueue=Di}else ot.add(pe);break e}else{if(!(f&1)){aC(b,Le,f),N5();break e}pe=Error(o(426))}}else if(Cn&&Z.mode&1){var is=lC(G);if(is!==null){!(is.flags&65536)&&(is.flags|=256),cC(is,G,Z,b,f),n5(pe);break e}}b=pe,ei!==4&&(ei=2),Yf===null?Yf=[b]:Yf.push(b),pe=d5(pe,Z),Z=G;do{switch(Z.tag){case 3:Z.flags|=65536,f&=-f,Z.lanes|=f;var se=sC(Z,pe,f);M7(Z,se);break e;case 1:b=pe;var ee=Z.type,he=Z.stateNode;if(!(Z.flags&128)&&(typeof ee.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(La===null||!La.has(he)))){Z.flags|=65536,f&=-f,Z.lanes|=f;var Ve=oC(Z,b,f);M7(Z,Ve);break e}}Z=Z.return}while(Z!==null)}VC(E)}catch(rt){f=rt,Kn===E&&E!==null&&(Kn=E=E.return);continue}break}while(1)}function HC(){var h=j3.current;return j3.current=D3,h===null?D3:h}function N5(){(ei===0||ei===3||ei===2)&&(ei=4),jn===null||!(Fu&268435455)&&!(K3&268435455)||Na(jn,Ei)}function tm(h,f){var E=Dt;Dt|=2;var w=HC();jn===h&&Ei===f||rc(h,f);do try{jk();break}catch(_){QC(h,_)}while(1);if(J1(),Dt=E,j3.current=w,Kn!==null)throw Error(o(261));return jn=null,Ei=0,ei}function jk(){for(;Kn!==null;)zC(Kn)}function Kk(){for(;Kn!==null&&!xk();)zC(Kn)}function zC(h){var f=jC(h.alternate,h,Sr);h.memoizedProps=h.pendingProps,f===null?VC(h):Kn=f,T5.current=null}function VC(h){var f=h;do{var E=f.alternate;if(h=f.return,f.flags&32768){if(E=Gk(E,f),E!==null){E.flags&=32767,Kn=E;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{ei=6,Kn=null;return}}else if(E=Nk(E,f,Sr),E!==null){Kn=E;return}if(f=f.sibling,f!==null){Kn=f;return}Kn=f=h}while(f!==null);ei===0&&(ei=5)}function sc(h,f){var E=Yt,w=Hn.transition;try{Hn.transition=null,Yt=1,Yk(h,f,E)}finally{Hn.transition=w,Yt=E}return null}function Yk(h,f,E){do oc();while(Fa!==null);if(Dt&6)throw Error(o(327));var w=h.finishedWork,_=h.finishedLanes;if(w===null)return null;if(h.finishedWork=null,h.finishedLanes=0,w===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var b=w.lanes|w.childLanes;if(yk(h,b),h===jn&&(Kn=jn=null,Ei=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||X3||(X3=!0,KC(z1,function(){return oc(),null})),b=(w.flags&15990)!==0,w.subtreeFlags&15990||b){b=Hn.transition,Hn.transition=null;var G=Yt;Yt=1;var Z=Dt;Dt|=4,T5.current=null,Hk(h,w),zk(h,w),W(h.containerInfo),h.current=w,Vk(w),Ck(),Dt=Z,Yt=G,Hn.transition=b}else h.current=w;if(X3&&(X3=!1,Fa=h,q3=_),b=h.pendingLanes,b===0&&(La=null),wk(w.stateNode),lr(h,pi()),f!==null)for(E=h.onRecoverableError,w=0;w<f.length;w++)E(f[w]);if(Y3)throw Y3=!1,h=P5,P5=null,h;return q3&1&&h.tag!==0&&oc(),b=h.pendingLanes,b&1?h===D5?Xf++:(Xf=0,D5=h):Xf=0,ao(),null}function oc(){if(Fa!==null){var h=E7(q3),f=Hn.transition,E=Yt;try{if(Hn.transition=null,Yt=16>h?16:h,Fa===null)var w=!1;else{if(h=Fa,Fa=null,q3=0,Dt&6)throw Error(o(331));var _=Dt;for(Dt|=4,Qe=h.current;Qe!==null;){var b=Qe,G=b.child;if(Qe.flags&16){var Z=b.deletions;if(Z!==null){for(var pe=0;pe<Z.length;pe++){var Le=Z[pe];for(Qe=Le;Qe!==null;){var Ke=Qe;switch(Ke.tag){case 0:case 11:case 15:ic(8,Ke,b)}var Et=Ke.child;if(Et!==null)Et.return=Ke,Qe=Et;else for(;Qe!==null;){Ke=Qe;var ht=Ke.sibling,on=Ke.return;if(TC(Ke),Ke===Le){Qe=null;break}if(ht!==null){ht.return=on,Qe=ht;break}Qe=on}}}var ot=b.alternate;if(ot!==null){var Di=ot.child;if(Di!==null){ot.child=null;do{var is=Di.sibling;Di.sibling=null,Di=is}while(Di!==null)}}Qe=b}}if(b.subtreeFlags&2064&&G!==null)G.return=b,Qe=G;else e:for(;Qe!==null;){if(b=Qe,b.flags&2048)switch(b.tag){case 0:case 11:case 15:ic(9,b,b.return)}var se=b.sibling;if(se!==null){se.return=b.return,Qe=se;break e}Qe=b.return}}var ee=h.current;for(Qe=ee;Qe!==null;){G=Qe;var he=G.child;if(G.subtreeFlags&2064&&he!==null)he.return=G,Qe=he;else e:for(G=ee;Qe!==null;){if(Z=Qe,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:Jf(9,Z)}}catch(rt){cr(Z,Z.return,rt)}if(Z===G){Qe=null;break e}var Ve=Z.sibling;if(Ve!==null){Ve.return=Z.return,Qe=Ve;break e}Qe=Z.return}}if(Dt=_,ao(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(m3,h)}catch{}w=!0}return w}finally{Yt=E,Hn.transition=f}}return!1}function WC(h,f,E){f=d5(E,f),f=sC(h,f,1),Da(h,f),f=Wi(),h=em(h,1),h!==null&&(Df(h,1,f),lr(h,f))}function cr(h,f,E){if(h.tag===3)WC(h,h,E);else for(;f!==null;){if(f.tag===3){WC(f,h,E);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(La===null||!La.has(w))){h=d5(E,h),h=oC(f,h,1),Da(f,h),h=Wi(),f=em(f,1),f!==null&&(Df(f,1,h),lr(f,h));break}}f=f.return}}function Xk(h,f,E){var w=h.pingCache;w!==null&&w.delete(f),f=Wi(),h.pingedLanes|=h.suspendedLanes&E,jn===h&&(Ei&E)===E&&(ei===4||ei===3&&(Ei&130023424)===Ei&&500>pi()-b5?rc(h,0):B5|=E),lr(h,f)}function JC(h,f){f===0&&(h.mode&1?(f=d3,d3<<=1,!(d3&130023424)&&(d3=4194304)):f=1);var E=Wi();h=em(h,f),h!==null&&(Df(h,f,E),lr(h,E))}function qk(h){var f=h.memoizedState,E=0;f!==null&&(E=f.retryLane),JC(h,E)}function Zk(h,f){var E=0;switch(h.tag){case 13:var w=h.stateNode,_=h.memoizedState;_!==null&&(E=_.retryLane);break;case 19:w=h.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(f),JC(h,E)}var jC;jC=function(h,f,E){if(h!==null)if(h.memoizedProps!==f.pendingProps||di.current)Er=!0;else{if(!(h.lanes&E)&&!(f.flags&128))return Er=!1,Uk(h,f,E);Er=!!(h.flags&131072)}else Er=!1,Cn&&f.flags&1048576&&D7(f,w3,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps;var _=Wo(f,en.current);_u(f,E),_=l5(null,f,w,h,_,E);var b=c5();return f.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,or(w)?(b=!0,h3(f)):b=!1,f.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Y1(f),_.updater=E3,f.stateNode=_,_._reactInternals=f,q1(f,w,h,E),f=A5(null,f,w,!0,b,E)):(f.tag=0,Cn&&b&&Z1(f),Vi(null,f,_,E),f=f.child),f;case 16:w=f.elementType;e:{switch(h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps,_=w._init,w=_(w._payload),f.type=w,_=f.tag=eN(w),h=Ts(w,h),_){case 0:f=m5(null,f,w,h,E);break e;case 1:f=gC(null,f,w,h,E);break e;case 11:f=fC(null,f,w,h,E);break e;case 14:f=dC(null,f,w,Ts(w.type,h),E);break e}throw Error(o(306,w,""))}return f;case 0:return w=f.type,_=f.pendingProps,_=f.elementType===w?_:Ts(w,_),m5(h,f,w,_,E);case 1:return w=f.type,_=f.pendingProps,_=f.elementType===w?_:Ts(w,_),gC(h,f,w,_,E);case 3:e:{if(vC(f),h===null)throw Error(o(387));w=f.pendingProps,b=f.memoizedState,_=b.element,_7(h,f),C3(f,w,null,E);var G=f.memoizedState;if(w=G.element,oe&&b.isDehydrated)if(b={element:w,isDehydrated:!1,cache:G.cache,transitions:G.transitions},f.updateQueue.baseState=b,f.memoizedState=b,f.flags&256){_=Error(o(423)),f=yC(h,f,w,E,_);break e}else if(w!==_){_=Error(o(424)),f=yC(h,f,w,E,_);break e}else for(oe&&(Cr=ie(f.stateNode.containerInfo),xr=f,Cn=!0,Bs=null,Lf=!1),E=U7(f,null,w,E),f.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Bu(),w===_){f=qo(h,f,E);break e}Vi(h,f,w,E)}f=f.child}return f;case 5:return G7(f),h===null&&t5(f),w=f.type,_=f.pendingProps,b=h!==null?h.memoizedProps:null,G=_.children,Ae(w,_)?G=null:b!==null&&Ae(w,b)&&(f.flags|=32),AC(h,f),Vi(h,f,G,E),f.child;case 6:return h===null&&t5(f),null;case 13:return xC(h,f,E);case 4:return i5(f,f.stateNode.containerInfo),w=f.pendingProps,h===null?f.child=bu(f,null,w,E):Vi(h,f,w,E),f.child;case 11:return w=f.type,_=f.pendingProps,_=f.elementType===w?_:Ts(w,_),fC(h,f,w,_,E);case 7:return Vi(h,f,f.pendingProps,E),f.child;case 8:return Vi(h,f,f.pendingProps.children,E),f.child;case 12:return Vi(h,f,f.pendingProps.children,E),f.child;case 10:e:{if(w=f.type._context,_=f.pendingProps,b=f.memoizedProps,G=_.value,I7(f,w,G),b!==null)if(oo(b.value,G)){if(b.children===_.children&&!di.current){f=qo(h,f,E);break e}}else for(b=f.child,b!==null&&(b.return=f);b!==null;){var Z=b.dependencies;if(Z!==null){G=b.child;for(var pe=Z.firstContext;pe!==null;){if(pe.context===w){if(b.tag===1){pe=jo(-1,E&-E),pe.tag=2;var Le=b.updateQueue;if(Le!==null){Le=Le.shared;var Ke=Le.pending;Ke===null?pe.next=pe:(pe.next=Ke.next,Ke.next=pe),Le.pending=pe}}b.lanes|=E,pe=b.alternate,pe!==null&&(pe.lanes|=E),K1(b.return,E,f),Z.lanes|=E;break}pe=pe.next}}else if(b.tag===10)G=b.type===f.type?null:b.child;else if(b.tag===18){if(G=b.return,G===null)throw Error(o(341));G.lanes|=E,Z=G.alternate,Z!==null&&(Z.lanes|=E),K1(G,E,f),G=b.sibling}else G=b.child;if(G!==null)G.return=b;else for(G=b;G!==null;){if(G===f){G=null;break}if(b=G.sibling,b!==null){b.return=G.return,G=b;break}G=G.return}b=G}Vi(h,f,_.children,E),f=f.child}return f;case 9:return _=f.type,w=f.pendingProps.children,_u(f,E),_=Xr(_),w=w(_),f.flags|=1,Vi(h,f,w,E),f.child;case 14:return w=f.type,_=Ts(w,f.pendingProps),_=Ts(w.type,_),dC(h,f,w,_,E);case 15:return pC(h,f,f.type,f.pendingProps,E);case 17:return w=f.type,_=f.pendingProps,_=f.elementType===w?_:Ts(w,_),h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,or(w)?(h=!0,h3(f)):h=!1,_u(f,E),R7(f,w,_),q1(f,w,_,E),A5(null,f,w,!0,h,E);case 19:return wC(h,f,E);case 22:return mC(h,f,E)}throw Error(o(156,f.tag))};function KC(h,f){return Q1(h,f)}function $k(h,f,E,w){this.tag=h,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(h,f,E,w){return new $k(h,f,E,w)}function O5(h){return h=h.prototype,!(!h||!h.isReactComponent)}function eN(h){if(typeof h=="function")return O5(h)?1:0;if(h!=null){if(h=h.$$typeof,h===g)return 11;if(h===y)return 14}return 2}function Oa(h,f){var E=h.alternate;return E===null?(E=ns(h.tag,f,h.key,h.mode),E.elementType=h.elementType,E.type=h.type,E.stateNode=h.stateNode,E.alternate=h,h.alternate=E):(E.pendingProps=f,E.type=h.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=h.flags&14680064,E.childLanes=h.childLanes,E.lanes=h.lanes,E.child=h.child,E.memoizedProps=h.memoizedProps,E.memoizedState=h.memoizedState,E.updateQueue=h.updateQueue,f=h.dependencies,E.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},E.sibling=h.sibling,E.index=h.index,E.ref=h.ref,E}function nm(h,f,E,w,_,b){var G=2;if(w=h,typeof h=="function")O5(h)&&(G=1);else if(typeof h=="string")G=5;else e:switch(h){case u:return ac(E.children,_,b,f);case d:G=8,_|=8;break;case p:return h=ns(12,E,f,_|2),h.elementType=p,h.lanes=b,h;case v:return h=ns(13,E,f,_),h.elementType=v,h.lanes=b,h;case C:return h=ns(19,E,f,_),h.elementType=C,h.lanes=b,h;case S:return im(E,_,b,f);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:G=10;break e;case A:G=9;break e;case g:G=11;break e;case y:G=14;break e;case x:G=16,w=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return f=ns(G,E,f,_),f.elementType=h,f.type=w,f.lanes=b,f}function ac(h,f,E,w){return h=ns(7,h,w,f),h.lanes=E,h}function im(h,f,E,w){return h=ns(22,h,w,f),h.elementType=S,h.lanes=E,h.stateNode={},h}function U5(h,f,E){return h=ns(6,h,null,f),h.lanes=E,h}function G5(h,f,E){return f=ns(4,h.children!==null?h.children:[],h.key,f),f.lanes=E,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}function tN(h,f,E,w,_){this.tag=f,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=De,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U1(0),this.expirationTimes=U1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U1(0),this.identifierPrefix=w,this.onRecoverableError=_,oe&&(this.mutableSourceEagerHydrationData=null)}function YC(h,f,E,w,_,b,G,Z,pe){return h=new tN(h,f,E,Z,pe),f===1?(f=1,b===!0&&(f|=8)):f=0,b=ns(3,null,null,f),h.current=b,b.stateNode=h,b.memoizedState={element:w,isDehydrated:E,cache:null,transitions:null},Y1(b),h}function XC(h){if(!h)return Yr;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(o(170));var f=h;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(or(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(h.tag===1){var E=h.type;if(or(E))return x7(h,E,f)}return f}function qC(h){var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=V(f),h===null?null:h.stateNode}function ZC(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var E=h.retryLane;h.retryLane=E!==0&&E<f?E:f}}function Q5(h,f){ZC(h,f),(h=h.alternate)&&ZC(h,f)}function nN(h){return h=V(h),h===null?null:h.stateNode}function iN(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var f=Wi();ts(h,134217728,f),Q5(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var f=Wi(),E=ka(h);ts(h,E,f),Q5(h,E)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var f=h.stateNode;if(f.current.memoizedState.isDehydrated){var E=Pf(f.pendingLanes);E!==0&&(G1(f,E|1),lr(f,pi()),!(Dt&6)&&(ku(),ao()))}break;case 13:var w=Wi();GC(function(){return ts(h,1,w)}),Q5(h,1)}},n.batchedUpdates=function(h,f){var E=Dt;Dt|=1;try{return h(f)}finally{Dt=E,Dt===0&&(ku(),A3&&ao())}},n.createComponentSelector=function(h){return{$$typeof:H3,value:h}},n.createContainer=function(h,f,E,w,_,b,G){return YC(h,f,!1,null,E,w,_,b,G)},n.createHasPseudoClassSelector=function(h){return{$$typeof:z3,value:h}},n.createHydrationContainer=function(h,f,E,w,_,b,G,Z,pe){return h=YC(E,w,!0,h,_,b,G,Z,pe),h.context=XC(null),E=h.current,w=Wi(),_=ka(E),b=jo(w,_),b.callback=f??null,Da(E,b),h.current.lanes=_,Df(h,_,w),lr(h,w),h},n.createPortal=function(h,f,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:h,containerInfo:f,implementation:E}},n.createRoleSelector=function(h){return{$$typeof:V3,value:h}},n.createTestNameSelector=function(h){return{$$typeof:W3,value:h}},n.createTextSelector=function(h){return{$$typeof:J3,value:h}},n.deferredUpdates=function(h){var f=Yt,E=Hn.transition;try{return Hn.transition=null,Yt=16,h()}finally{Yt=f,Hn.transition=E}},n.discreteUpdates=function(h,f,E,w,_){var b=Yt,G=Hn.transition;try{return Hn.transition=null,Yt=1,h(f,E,w,_)}finally{Yt=b,Hn.transition=G,Dt===0&&ku()}},n.findAllNodes=M5,n.findBoundingRects=function(h,f){if(!_t)throw Error(o(363));f=M5(h,f),h=[];for(var E=0;E<f.length;E++)h.push(Q(f[E]));for(f=h.length-1;0<f;f--){E=h[f];for(var w=E.x,_=w+E.width,b=E.y,G=b+E.height,Z=f-1;0<=Z;Z--)if(f!==Z){var pe=h[Z],Le=pe.x,Ke=Le+pe.width,Et=pe.y,ht=Et+pe.height;if(w>=Le&&b>=Et&&_<=Ke&&G<=ht){h.splice(f,1);break}else if(w!==Le||E.width!==pe.width||ht<b||Et>G){if(!(b!==Et||E.height!==pe.height||Ke<w||Le>_)){Le>w&&(pe.width+=Le-w,pe.x=w),Ke<_&&(pe.width=_-Le),h.splice(f,1);break}}else{Et>b&&(pe.height+=Et-b,pe.y=b),ht<G&&(pe.height=G-Et),h.splice(f,1);break}}}return h},n.findHostInstance=qC,n.findHostInstanceWithNoPortals=function(h){return h=L(h),h=h!==null?U(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return qC(h)},n.flushControlled=function(h){var f=Dt;Dt|=1;var E=Hn.transition,w=Yt;try{Hn.transition=null,Yt=1,h()}finally{Yt=w,Hn.transition=E,Dt=f,Dt===0&&(ku(),ao())}},n.flushPassiveEffects=oc,n.flushSync=GC,n.focusWithin=function(h,f){if(!_t)throw Error(o(363));for(h=w5(h),f=NC(h,f),f=Array.from(f),h=0;h<f.length;){var E=f[h++];if(!ce(E)){if(E.tag===5&&Re(E.stateNode))return!0;for(E=E.child;E!==null;)f.push(E),E=E.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Yt},n.getFindAllNodesFailureDescription=function(h,f){if(!_t)throw Error(o(363));var E=0,w=[];h=[w5(h),0];for(var _=0;_<h.length;){var b=h[_++],G=h[_++],Z=f[G];if((b.tag!==5||!ce(b))&&(I5(b,Z)&&(w.push(_5(Z)),G++,G>E&&(E=G)),G<f.length))for(b=b.child;b!==null;)h.push(b,G),b=b.sibling}if(E<f.length){for(h=[];E<f.length;E++)h.push(_5(f[E]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return X(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:nN,findFiberByHostInstance:h.findFiberByHostInstance||iN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)h=!0;else{try{m3=f.inject(h),so=f}catch{}h=!!f.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,f,E,w){if(!_t)throw Error(o(363));h=M5(h,f);var _=Fe(h,E,w).disconnect;return{disconnect:function(){_()}}},n.registerMutableSourceForHydration=function(h,f){var E=f._getVersion;E=E(f._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[f,E]:h.mutableSourceEagerHydrationData.push(f,E)},n.runWithPriority=function(h,f){var E=Yt;try{return Yt=h,f()}finally{Yt=E}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,f,E,w){var _=f.current,b=Wi(),G=ka(_);return E=XC(E),f.context===null?f.context=E:f.pendingContext=E,f=jo(b,G),f.payload={element:h},w=w===void 0?null:w,w!==null&&(f.callback=w),Da(_,f),h=ts(_,G,b),h!==null&&x3(h,_,G),G},n};(function(t){t.exports=lK})(oK);const cK=lT(E8),uK=t=>typeof t=="object"&&typeof t.then=="function",zc=[];function hP(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function fP(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const s of zc)if(hP(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!n)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=zc.indexOf(r);s!==-1&&zc.splice(s,1)},promise:(uK(t)?t:t(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(zc.push(r),!n)throw r.promise}const hK=(t,e,n)=>fP(t,e,!1,n),fK=(t,e,n)=>void fP(t,e,!0,n),dK=t=>{if(t===void 0||t.length===0)zc.splice(0,zc.length);else{const e=zc.find(n=>hP(t,n.keys,n.equal));e&&e.remove()}},i9={},pK=t=>void Object.assign(i9,t);function mK(t,e){function n(u,{args:d=[],attach:p,...m},A){let g=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const C=m.object;v=sh(C,{type:u,root:A,attach:p,primitive:!0})}else{const C=i9[g];if(!C)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");v=sh(new C(...d),{type:u,root:A,attach:p,memoizedProps:{args:d}})}return v.__r3f.attach===void 0&&(v instanceof yt?v.__r3f.attach="geometry":v instanceof Zn&&(v.__r3f.attach="material")),g!=="inject"&&qv(v,m),v}function i(u,d){let p=!1;if(d){var m,A;(m=d.__r3f)!=null&&m.attach?Xv(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),p=!0),p||(A=u.__r3f)==null||A.objects.push(d),d.__r3f||sh(d,{}),d.__r3f.parent=u,w8(d),oh(d)}}function r(u,d,p){let m=!1;if(d){var A,g;if((A=d.__r3f)!=null&&A.attach)Xv(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const v=u.children.filter(y=>y!==d),C=v.indexOf(p);u.children=[...v.slice(0,C),d,...v.slice(C)],m=!0}m||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||sh(d,{}),d.__r3f.parent=u,w8(d),oh(d)}}function s(u,d,p=!1){u&&[...u].forEach(m=>o(d,m,p))}function o(u,d,p){if(d){var m,A,g;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==d)),(A=d.__r3f)!=null&&A.attach)Uw(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var v;u.remove(d),(v=d.__r3f)!=null&&v.root&&SK(d.__r3f.root,d)}const y=(g=d.__r3f)==null?void 0:g.primitive,x=p===void 0?d.dispose!==null&&!y:p;if(!y){var C;s((C=d.__r3f)==null?void 0:C.objects,d,x),s(d.children,d,x)}delete d.__r3f,x&&d.dispose&&d.type!=="Scene"&&Zp.unstable_scheduleCallback(Zp.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),oh(u)}}function a(u,d,p,m){var A;const g=(A=u.__r3f)==null?void 0:A.parent;if(!g)return;const v=n(d,p,u.__r3f.root);if(u.children){for(const C of u.children)C.__r3f&&i(v,C);u.children=u.children.filter(C=>!C.__r3f)}u.__r3f.objects.forEach(C=>i(v,C)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(g,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),i(g,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[m,m.alternate].forEach(C=>{C!==null&&(C.stateNode=v,C.ref&&(typeof C.ref=="function"?C.ref(v):C.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:cK({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,i(p,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,p)=>{if(!d||!p)return;const m=u.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;const p=(d=u==null?void 0:u.__r3f)!=null?d:{};return Boolean(p.handlers)},prepareUpdate(u,d,p,m){var A;if(((A=u==null?void 0:u.__r3f)!=null?A:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:v=[],children:C,...y}=m,{args:x=[],children:S,...I}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((B,M)=>B!==x[M]))return[!0];const T=yP(u,y,I,!0);return T.changes.length?[!1,T]:null}},commitUpdate(u,[d,p],m,A,g,v){d?a(u,m,g,v):qv(u,p)},commitMount(u,d,p,m){var A;const g=(A=u.__r3f)!=null?A:{};u.raycast&&g.handlers&&g.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>sh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:p,parent:m}=(d=u.__r3f)!=null?d:{};p&&m&&Uw(m,u,p),u.isObject3D&&(u.visible=!1),oh(u)},unhideInstance(u,d){var p;const{attach:m,parent:A}=(p=u.__r3f)!=null?p:{};m&&A&&Xv(A,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),oh(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ul.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&gn.fun(performance.now)?performance.now:gn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:gn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:gn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:qv}}var Fw,kw;const Yv=t=>"colorSpace"in t||"outputColorSpace"in t,dP=()=>{var t;return(t=i9.ColorManagement)!=null?t:null},pP=t=>t&&t.isOrthographicCamera,AK=t=>t&&t.hasOwnProperty("current"),U0=typeof window<"u"&&((Fw=window.document)!=null&&Fw.createElement||((kw=window.navigator)==null?void 0:kw.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function mP(t){const e=z.useRef(t);return U0(()=>void(e.current=t),[t]),e}function gK({set:t}){return U0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class AP extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}AP.getDerivedStateFromError=()=>({error:!0});const gP="__default",Nw=new Map,vK=t=>t&&!!t.memoized&&!!t.changes;function vP(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const gd=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},gn={obj:t=>t===Object(t)&&!gn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(gn.str(t)||gn.num(t))return t===e;const s=gn.obj(t);if(s&&i==="reference")return t===e;const o=gn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!gn.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if(gn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function yK(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function xK(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function sh(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function S8(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const Ow=/-\d+$/;function Xv(t,e,n){if(gn.str(n)){if(Ow.test(n)){const s=n.replace(Ow,""),{target:o,key:a}=S8(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=S8(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function Uw(t,e,n){var i,r;if(gn.str(n)){const{target:s,key:o}=S8(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function yP(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=t==null?void 0:t.__r3f)!=null?u:{},p=Object.entries(r),m=[];if(c){const g=Object.keys(l);for(let v=0;v<g.length;v++)r.hasOwnProperty(g[v])||p.unshift([g[v],gP+"remove"])}p.forEach(([g,v])=>{var C;if((C=t.__r3f)!=null&&C.primitive&&g==="object"||gn.equ(v,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return m.push([g,v,!0,[]]);let y=[];g.includes("-")&&(y=g.split("-")),m.push([g,v,!1,y]);for(const x in r){const S=r[x];x.startsWith(`${g}-`)&&m.push([x,S,!1,x.split("-")])}});const A={...r};return d.memoizedProps&&d.memoizedProps.args&&(A.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(A.attach=d.memoizedProps.attach),{memoized:A,changes:m}}function qv(t,e){var n,i,r;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=vK(e)?e:yP(t,e),u=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,A,g,v]=c[p];if(Yv(t)){const S="srgb",I="srgb-linear";m==="encoding"?(m="colorSpace",A=A===3001?S:I):m==="outputEncoding"&&(m="outputColorSpace",A=A===3001?S:I)}let C=t,y=C[m];if(v.length&&(y=v.reduce((x,S)=>x[S],t),!(y&&y.set))){const[x,...S]=v.reverse();C=S.reverse().reduce((I,T)=>I[T],t),m=x}if(A===gP+"remove")if(C.constructor){let x=Nw.get(C.constructor);x||(x=new C.constructor,Nw.set(C.constructor,x)),A=x[m]}else A=0;if(g)A?s.handlers[m]=A:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Xc)){if(Array.isArray(A))y.fromArray?y.fromArray(A):y.set(...A);else if(y.copy&&A&&A.constructor&&y.constructor===A.constructor)y.copy(A);else if(A!==void 0){const x=y instanceof be;!x&&y.setScalar?y.setScalar(A):y instanceof Xc&&A instanceof Xc?y.mask=A.mask:y.set(A),!dP()&&!a.linear&&x&&y.convertSRGBToLinear()}}else if(C[m]=A,C[m]instanceof yn&&C[m].format===Un&&C[m].type===yi){const x=C[m];Yv(x)&&Yv(a.gl)?x.colorSpace=a.gl.outputColorSpace:x.encoding=a.gl.outputEncoding}oh(t)}if(s.parent&&a.internal&&t.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(t);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=t.__r3f)!=null&&r.parent&&w8(t),t}function oh(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function w8(t){t.onUpdate==null||t.onUpdate(t)}function CK(t,e){t.manual||(pP(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function oA(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function EK(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ul.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ul.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ul.ContinuousEventPriority;default:return ul.DefaultEventPriority}}function xP(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function SK(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{xP(n.capturedMap,e,i,r)})}function wK(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function i(l,c){const u=t.getState(),d=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let C=0;C<m.length;C++){const y=gd(m[C]);y&&(y.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function A(C){const y=gd(C);if(!y||!y.events.enabled||y.raycaster.camera===null)return[];if(y.raycaster.camera===void 0){var x;y.events.compute==null||y.events.compute(l,y,(x=y.previousRoot)==null?void 0:x.getState()),y.raycaster.camera===void 0&&(y.raycaster.camera=null)}return y.raycaster.camera?y.raycaster.intersectObject(C,!0):[]}let g=m.flatMap(A).sort((C,y)=>{const x=gd(C.object),S=gd(y.object);return!x||!S?C.distance-y.distance:S.events.priority-x.events.priority||C.distance-y.distance}).filter(C=>{const y=oA(C);return d.has(y)?!1:(d.add(y),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const C of g){let y=C.object;for(;y;){var v;(v=y.__r3f)!=null&&v.eventCount&&p.push({...C,eventObject:y}),y=y.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let C of u.internal.capturedMap.get(l.pointerId).values())d.has(oA(C.intersection))||p.push(C.intersection);return p}function r(l,c,u,d){const p=t.getState();if(l.length){const m={stopped:!1};for(const A of l){const g=gd(A.object)||p,{raycaster:v,pointer:C,camera:y,internal:x}=g,S=new D(C.x,C.y,0).unproject(y),I=P=>{var L,V;return(L=(V=x.capturedMap.get(P))==null?void 0:V.has(A.eventObject))!=null?L:!1},T=P=>{const L={intersection:A,target:c.target};x.capturedMap.has(P)?x.capturedMap.get(P).set(A.eventObject,L):x.capturedMap.set(P,new Map([[A.eventObject,L]])),c.target.setPointerCapture(P)},B=P=>{const L=x.capturedMap.get(P);L&&xP(x.capturedMap,A.eventObject,L,P)};let M={};for(let P in c){let L=c[P];typeof L!="function"&&(M[P]=L)}let R={...A,...M,pointer:C,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:S,ray:v.ray,camera:y,stopPropagation(){const P="pointerId"in c&&x.capturedMap.get(c.pointerId);if((!P||P.has(A.eventObject))&&(R.stopped=m.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(L=>L.eventObject===A.eventObject))){const L=l.slice(0,l.indexOf(A));s([...L,A])}},target:{hasPointerCapture:I,setPointerCapture:T,releasePointerCapture:B},currentTarget:{hasPointerCapture:I,setPointerCapture:T,releasePointerCapture:B},nativeEvent:c};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(oA(u)),p!=null&&p.eventCount){const A={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(A),m.onPointerLeave==null||m.onPointerLeave(A)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=u;const m=l==="onPointerMove",A=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=i(u,m?n:void 0),C=A?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=v.map(x=>x.eventObject)),A&&!v.length&&C<=2&&(o(u,p.interaction),d&&d(u)),m&&s(v);function y(x){const S=x.eventObject,I=S.__r3f,T=I==null?void 0:I.handlers;if(I!=null&&I.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const B=oA(x),M=p.hovered.get(B);M?M.stopped&&x.stopPropagation():(p.hovered.set(B,x),T.onPointerOver==null||T.onPointerOver(x),T.onPointerEnter==null||T.onPointerEnter(x))}T.onPointerMove==null||T.onPointerMove(x)}else{const B=T[l];B?(!A||p.initialHits.includes(S))&&(o(u,p.interaction.filter(M=>!p.initialHits.includes(M))),B(x)):A&&p.initialHits.includes(S)&&o(u,p.interaction.filter(M=>!p.initialHits.includes(M)))}}r(v,u,C,y)}}return{handlePointer:a}}const CP=t=>!!(t!=null&&t.render),EP=z.createContext(null),IK=(t,e)=>{const n=cP((a,l)=>{const c=new D,u=new D,d=new D;function p(C=l().camera,y=u,x=l().size){const{width:S,height:I,top:T,left:B}=x,M=S/I;y instanceof D?d.copy(y):d.set(...y);const R=C.getWorldPosition(c).distanceTo(d);if(pP(C))return{width:S/C.zoom,height:I/C.zoom,top:T,left:B,factor:1,distance:R,aspect:M};{const P=C.fov*Math.PI/180,L=2*Math.tan(P/2)*R,V=L*(S/I);return{width:V,height:L,top:T,left:B,factor:S/V,distance:R,aspect:M}}}let m;const A=C=>a(y=>({performance:{...y.performance,current:C}})),g=new le;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(C=1)=>t(l(),C),advance:(C,y)=>e(C,y,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $2,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const C=l();m&&clearTimeout(m),C.performance.current!==C.performance.min&&A(C.performance.min),m=setTimeout(()=>A(l().performance.max),C.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:C=>a(y=>({...y,events:{...y.events,...C}})),setSize:(C,y,x,S,I)=>{const T=l().camera,B={width:C,height:y,top:S||0,left:I||0,updateStyle:x};a(M=>({size:B,viewport:{...M.viewport,...p(T,u,B)}}))},setDpr:C=>a(y=>{const x=vP(C);return{viewport:{...y.viewport,dpr:x,initialDpr:y.viewport.initialDpr||x}}}),setFrameloop:(C="always")=>{const y=l().clock;y.stop(),y.elapsedTime=0,C!=="never"&&(y.start(),y.elapsedTime=0),a(()=>({frameloop:C}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(C,y,x)=>{const S=l().internal;return S.priority=S.priority+(y>0?1:0),S.subscribers.push({ref:C,priority:y,store:x}),S.subscribers=S.subscribers.sort((I,T)=>I.priority-T.priority),()=>{const I=l().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(y>0?1:0),I.subscribers=I.subscribers.filter(T=>T.ref!==C))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l!==r||c.dpr!==s){var p;r=l,s=c.dpr,CK(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let aA,_K=new Set,MK=new Set,TK=new Set;function Zv(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function vd(t,e){switch(t){case"before":return Zv(_K,e);case"after":return Zv(MK,e);case"tail":return Zv(TK,e)}}let $v,e6;function t6(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),$v=e.internal.subscribers,aA=0;aA<$v.length;aA++)e6=$v[aA],e6.ref.current(e6.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function BK(t){let e=!1,n,i,r;function s(l){i=requestAnimationFrame(s),e=!0,n=0,vd("before",l);for(const u of t.values()){var c;r=u.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(n+=t6(l,r))}if(vd("after",l),n===0)return vd("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var u;if(!l)return t.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&vd("before",l),u)t6(l,u,d);else for(const p of t.values())t6(l,p.store.getState());c&&vd("after",l)}return{loop:s,invalidate:o,advance:a}}function SP(){const t=z.useContext(EP);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Mr(t=n=>n,e){return SP()(t,e)}function If(t,e=0){const n=SP(),i=n.getState().internal.subscribe,r=mP(t);return U0(()=>i(r,e,n),[e,i,n]),null}const Gw=new WeakMap;function wP(t,e){return function(n,...i){let r=Gw.get(n);return r||(r=new n,Gw.set(n,r)),t&&t(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,yK(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`)))))).finally(()=>r.dispose==null?void 0:r.dispose())}}function Jl(t,e,n,i){const r=Array.isArray(e)?e:[e],s=hK(wP(n,i),[t,...r],{equal:gn.equ});return Array.isArray(e)?s:s[0]}Jl.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return fK(wP(n),[t,...i])};Jl.clear=function(t,e){const n=Array.isArray(e)?e:[e];return dK([t,...n])};const rf=new Map,{invalidate:Qw,advance:Hw}=BK(rf),{reconciler:kg,applyProps:go}=mK(rf,EK),nh={objects:"shallow",strict:!1},bK=(t,e)=>{const n=typeof t=="function"?t(e):t;return CP(n)?n:new Dx({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function RK(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function PK(t){const e=rf.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||IK(Qw,Hw),o=n||kg.createContainer(s,ul.ConcurrentRoot,null,!1,null,"",r,null);e||rf.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:p,scene:m,events:A,onCreated:g,shadows:v=!1,linear:C=!1,flat:y=!1,legacy:x=!1,orthographic:S=!1,frameloop:I="always",dpr:T=[1,2],performance:B,raycaster:M,camera:R,onPointerMissed:P}=u,L=s.getState(),V=L.gl;L.gl||L.set({gl:V=bK(d,t)});let N=L.raycaster;N||L.set({raycaster:N=new sP});const{params:U,...j}=M||{};if(gn.equ(j,N,nh)||go(N,{...j}),gn.equ(U,N.params,nh)||go(N,{params:{...N.params,...U}}),!L.camera||L.camera===c&&!gn.equ(c,R,nh)){c=R;const H=R instanceof y0,ne=H?R:S?new Rr(0,0,0,0,.1,1e3):new sn(75,0,.1,1e3);H||(ne.position.z=5,R&&go(ne,R),!L.camera&&!(R!=null&&R.rotation)&&ne.lookAt(0,0,0)),L.set({camera:ne})}if(!L.scene){let H;m instanceof Fg?H=m:(H=new Fg,m&&go(H,m)),L.set({scene:sh(H)})}if(!L.xr){var X;const H=(Ae,q)=>{const Te=s.getState();Te.frameloop!=="never"&&Hw(Ae,!0,Te,q)},ne=()=>{const Ae=s.getState();Ae.gl.xr.enabled=Ae.gl.xr.isPresenting,Ae.gl.xr.setAnimationLoop(Ae.gl.xr.isPresenting?H:null),Ae.gl.xr.isPresenting||Qw(Ae)},de={connect(){const Ae=s.getState().gl;Ae.xr.addEventListener("sessionstart",ne),Ae.xr.addEventListener("sessionend",ne)},disconnect(){const Ae=s.getState().gl;Ae.xr.removeEventListener("sessionstart",ne),Ae.xr.removeEventListener("sessionend",ne)}};typeof((X=V.xr)==null?void 0:X.addEventListener)=="function"&&de.connect(),L.set({xr:de})}if(V.shadowMap){const H=V.shadowMap.enabled,ne=V.shadowMap.type;if(V.shadowMap.enabled=!!v,gn.boo(v))V.shadowMap.type=qd;else if(gn.str(v)){var te;const de={basic:Bb,percentage:P2,soft:qd,variance:Nc};V.shadowMap.type=(te=de[v])!=null?te:qd}else gn.obj(v)&&Object.assign(V.shadowMap,v);(H!==V.shadowMap.enabled||ne!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const k=dP();k&&("enabled"in k?k.enabled=!x:"legacyMode"in k&&(k.legacyMode=x)),go(V,{outputEncoding:C?3e3:3001,toneMapping:y?Lr:xx}),L.legacy!==x&&L.set(()=>({legacy:x})),L.linear!==C&&L.set(()=>({linear:C})),L.flat!==y&&L.set(()=>({flat:y})),d&&!gn.fun(d)&&!CP(d)&&!gn.equ(d,V,nh)&&go(V,d),A&&!L.events.handlers&&L.set({events:A(s)});const $=RK(t,p);return gn.equ($,L.size,nh)||L.setSize($.width,$.height,$.updateStyle,$.top,$.left),T&&L.viewport.dpr!==vP(T)&&L.setDpr(T),L.frameloop!==I&&L.setFrameloop(I),L.onPointerMissed||L.set({onPointerMissed:P}),B&&!gn.equ(B,L.performance,nh)&&L.set(H=>({performance:{...H.performance,...B}})),a=g,l=!0,this},render(u){return l||this.configure(),kg.updateContainer(z.createElement(DK,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){IP(t)}}}function DK({store:t,children:e,onCreated:n,rootElement:i}){return U0(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),z.createElement(EP.Provider,{value:t},e)}function IP(t,e){const n=rf.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),kg.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),xK(r),rf.delete(t),e&&e(t)}catch{}},500)})}}kg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cs.apply(this,arguments)}function I8(t,e,n){var i,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=t.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}I8.debounce=I8;var zw=I8;function LK(t){let{debounce:e,scroll:n,polyfill:i,offsetSize:r}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=z.useRef(!1);z.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,A]=z.useMemo(()=>{const y=()=>{if(!l.current.element)return;const{left:x,top:S,width:I,height:T,bottom:B,right:M,x:R,y:P}=l.current.element.getBoundingClientRect(),L={left:x,top:S,width:I,height:T,bottom:B,right:M,x:R,y:P};l.current.element instanceof HTMLElement&&r&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),d.current&&!OK(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[y,u?zw(y,u):y,c?zw(y,c):y]},[a,r,c,u]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",A,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(A),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(y=>y.addEventListener("scroll",A,{capture:!0,passive:!0})))}const C=y=>{!y||y===l.current.element||(g(),l.current.element=y,l.current.scrollContainers=_P(y),v())};return kK(A,Boolean(n)),FK(m),z.useEffect(()=>{g(),v()},[n,A,m]),z.useEffect(()=>g,[]),[C,o,p]}function FK(t){z.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function kK(t,e){z.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function _P(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,..._P(t.parentElement)]}const NK=["x","y","top","bottom","left","right","width","height"],OK=(t,e)=>NK.every(n=>t[n]===e[n]);var UK=Object.defineProperty,GK=Object.defineProperties,QK=Object.getOwnPropertyDescriptors,Vw=Object.getOwnPropertySymbols,HK=Object.prototype.hasOwnProperty,zK=Object.prototype.propertyIsEnumerable,Ww=(t,e,n)=>e in t?UK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jw=(t,e)=>{for(var n in e||(e={}))HK.call(e,n)&&Ww(t,n,e[n]);if(Vw)for(var n of Vw(e))zK.call(e,n)&&Ww(t,n,e[n]);return t},VK=(t,e)=>GK(t,QK(e));function MP(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=MP(i,e,n);if(r)return r;i=e?null:i.sibling}}function TP(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const r9=TP(z.createContext(null));class BP extends z.Component{render(){return z.createElement(r9.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:WK,ReactCurrentDispatcher:JK}=z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function jK(){const t=z.useContext(r9);if(!t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{var i;return(i=WK.current)!=null?i:MP(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[t,e])}function KK(){var t,e;const n=jK(),[i]=z.useState(()=>new Map);i.clear();let r=n;for(;r;){const s=(t=r.type)==null?void 0:t._context;s&&s!==r9&&!i.has(s)&&i.set(s,(e=JK.current)==null?void 0:e.readContext(TP(s))),r=r.return}return z.useMemo(()=>Array.from(i.keys()).reduce((s,o)=>a=>z.createElement(s,null,z.createElement(o.Provider,VK(Jw({},a),{value:i.get(o)}))),s=>z.createElement(BP,Jw({},s))),[i])}const n6={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function YK(t){const{handlePointer:e}=wK(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(n6).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=n6[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=n6[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const XK=z.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=YK,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:A,dpr:g,performance:v,raycaster:C,camera:y,scene:x,onPointerMissed:S,onCreated:I,...T},B){z.useMemo(()=>pK(nK),[]);const M=KK(),[R,P]=LK({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=z.useRef(null),V=z.useRef(null);z.useImperativeHandle(B,()=>L.current);const N=mP(S),[U,j]=z.useState(!1),[X,te]=z.useState(!1);if(U)throw U;if(X)throw X;const k=z.useRef(null);U0(()=>{const W=L.current;P.width>0&&P.height>0&&W&&(k.current||(k.current=PK(W)),k.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:A,dpr:g,performance:v,raycaster:C,camera:y,scene:x,size:P,onPointerMissed:(...$)=>N.current==null?void 0:N.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(a?AK(a)?a.current:a:V.current),l&&$.setEvents({compute:(H,ne)=>{const de=H[l+"X"],Ae=H[l+"Y"];ne.pointer.set(de/ne.size.width*2-1,-(Ae/ne.size.height)*2+1),ne.raycaster.setFromCamera(ne.pointer,ne.camera)}}),I==null||I($)}}),k.current.render(z.createElement(M,null,z.createElement(AP,{set:te},z.createElement(z.Suspense,{fallback:z.createElement(gK,{set:j})},e)))))}),z.useEffect(()=>{const W=L.current;if(W)return()=>IP(W)},[]);const J=a?"none":"auto";return z.createElement("div",Cs({ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J,...r}},T),z.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},z.createElement("canvas",{ref:L,style:{display:"block"}},n)))}),e1=z.forwardRef(function(e,n){return z.createElement(BP,null,z.createElement(XK,Cs({},e,{ref:n})))}),G0=new D,s9=new D,qK=new D;function ZK(t,e,n){const i=G0.setFromMatrixPosition(t.matrixWorld);i.project(e);const r=n.width/2,s=n.height/2;return[i.x*r+r,-(i.y*s)+s]}function $K(t,e){const n=G0.setFromMatrixPosition(t.matrixWorld),i=s9.setFromMatrixPosition(e.matrixWorld),r=n.sub(i),s=e.getWorldDirection(qK);return r.angleTo(s)>Math.PI/2}function eY(t,e,n,i){const r=G0.setFromMatrixPosition(t.matrixWorld),s=r.clone();s.project(e),n.setFromCamera(s,e);const o=n.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(n.ray.origin)<a}return!0}function tY(t,e){if(e instanceof Rr)return e.zoom;if(e instanceof sn){const n=G0.setFromMatrixPosition(t.matrixWorld),i=s9.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=n.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function nY(t,e,n){if(e instanceof sn||e instanceof Rr){const i=G0.setFromMatrixPosition(t.matrixWorld),r=s9.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const _8=t=>Math.abs(t)<1e-10?0:t;function bP(t,e,n=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=_8(e[r]*t.elements[r])+(r!==15?",":")");return n+i}const iY=(t=>e=>bP(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),rY=(t=>(e,n)=>bP(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function sY(t){return t&&typeof t=="object"&&"current"in t}const oY=z.forwardRef(({children:t,eps:e=.001,style:n,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:A,material:g,geometry:v,zIndexRange:C=[16777271,0],calculatePosition:y=ZK,as:x="div",wrapperClass:S,pointerEvents:I="auto",...T},B)=>{const{gl:M,camera:R,scene:P,size:L,raycaster:V,events:N,viewport:U}=Mr(),[j]=z.useState(()=>document.createElement(x)),X=z.useRef(),te=z.useRef(null),k=z.useRef(0),J=z.useRef([0,0]),W=z.useRef(null),$=z.useRef(null),H=(a==null?void 0:a.current)||N.connected||M.domElement.parentNode,ne=z.useRef(null),de=z.useRef(!1),Ae=z.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&sY(d[0]),[d]);z.useLayoutEffect(()=>{const Ce=M.domElement;d&&d==="blending"?(Ce.style.zIndex=`${Math.floor(C[0]/2)}`,Ce.style.position="absolute",Ce.style.pointerEvents="none"):(Ce.style.zIndex=null,Ce.style.position=null,Ce.style.pointerEvents=null)},[d]),z.useLayoutEffect(()=>{if(te.current){const Ce=X.current=gb(j);if(P.updateMatrixWorld(),u)j.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Me=y(te.current,R,L);j.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Me[0]}px,${Me[1]}px,0);transform-origin:0 0;`}return H&&(r?H.prepend(j):H.appendChild(j)),()=>{H&&H.removeChild(j),Ce.unmount()}}},[H,u]),z.useLayoutEffect(()=>{S&&(j.className=S)},[S]);const q=z.useMemo(()=>u?{position:"absolute",top:0,left:0,width:L.width,height:L.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-L.height/2,left:-L.width/2,width:L.width,height:L.height},...n},[n,s,o,L,u]),Te=z.useMemo(()=>({position:"absolute",pointerEvents:I}),[I]);z.useLayoutEffect(()=>{if(de.current=!1,u){var Ce;(Ce=X.current)==null||Ce.render(z.createElement("div",{ref:W,style:q},z.createElement("div",{ref:$,style:Te},z.createElement("div",{ref:B,className:i,style:n,children:t}))))}else{var Me;(Me=X.current)==null||Me.render(z.createElement("div",{ref:B,style:q,className:i,children:t}))}});const Pe=z.useRef(!0);If(Ce=>{if(te.current){R.updateMatrixWorld(),te.current.updateWorldMatrix(!0,!1);const Me=u?J.current:y(te.current,R,L);if(u||Math.abs(k.current-R.zoom)>e||Math.abs(J.current[0]-Me[0])>e||Math.abs(J.current[1]-Me[1])>e){const ue=$K(te.current,R);let oe=!1;Ae&&(Array.isArray(d)?oe=d.map(tt=>tt.current):d!=="blending"&&(oe=[P]));const _e=Pe.current;if(oe){const tt=eY(te.current,R,V,oe);Pe.current=tt&&!ue}else Pe.current=!ue;_e!==Pe.current&&(p?p(!Pe.current):j.style.display=Pe.current?"block":"none");const He=Math.floor(C[0]/2),ke=d?Ae?[C[0],He]:[He-1,0]:C;if(j.style.zIndex=`${nY(te.current,R,ke)}`,u){const[tt,et]=[L.width/2,L.height/2],Ye=R.projectionMatrix.elements[5]*et,{isOrthographicCamera:_t,top:Mt,left:Q,bottom:F,right:ce}=R,Ie=iY(R.matrixWorldInverse),Re=_t?`scale(${Ye})translate(${_8(-(ce+Q)/2)}px,${_8((Mt+F)/2)}px)`:`translateZ(${Ye}px)`;let Fe=te.current.matrixWorld;c&&(Fe=R.matrixWorldInverse.clone().transpose().copyPosition(Fe).scale(te.current.scale),Fe.elements[3]=Fe.elements[7]=Fe.elements[11]=0,Fe.elements[15]=1),j.style.width=L.width+"px",j.style.height=L.height+"px",j.style.perspective=_t?"":`${Ye}px`,W.current&&$.current&&(W.current.style.transform=`${Re}${Ie}translate(${tt}px,${et}px)`,$.current.style.transform=rY(Fe,1/((l||10)/400)))}else{const tt=l===void 0?1:tY(te.current,R)*l;j.style.transform=`translate3d(${Me[0]}px,${Me[1]}px,0) scale(${tt})`}J.current=Me,k.current=R.zoom}}if(!Ae&&ne.current&&!de.current)if(u){if(W.current){const Me=W.current.children[0];if(Me!=null&&Me.clientWidth&&Me!=null&&Me.clientHeight){const{isOrthographicCamera:ue}=R;if(ue||v)T.scale&&(Array.isArray(T.scale)?T.scale instanceof D?ne.current.scale.copy(T.scale.clone().divideScalar(1)):ne.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):ne.current.scale.setScalar(1/T.scale));else{const oe=(l||10)/400,_e=Me.clientWidth*oe,He=Me.clientHeight*oe;ne.current.scale.set(_e,He,1)}de.current=!0}}}else{const Me=j.children[0];if(Me!=null&&Me.clientWidth&&Me!=null&&Me.clientHeight){const ue=1/U.factor,oe=Me.clientWidth*ue,_e=Me.clientHeight*ue;ne.current.scale.set(oe,_e,1),de.current=!0}ne.current.lookAt(Ce.camera.position)}});const De=z.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return z.createElement("group",Cs({},T,{ref:te}),d&&!Ae&&z.createElement("mesh",{castShadow:m,receiveShadow:A,ref:ne},v||z.createElement("planeGeometry",null),g||z.createElement("shaderMaterial",{side:Us,vertexShader:De.vertexShader,fragmentShader:De.fragmentShader})))});let yd=0;const aY=cP(t=>(Sh.onStart=(e,n,i)=>{t({active:!0,item:e,loaded:n,total:i,progress:(n-yd)/(i-yd)*100})},Sh.onLoad=()=>{t({active:!1})},Sh.onError=e=>t(n=>({errors:[...n.errors,e]})),Sh.onProgress=(e,n,i)=>{n===i&&(yd=i),t({active:!0,item:e,loaded:n,total:i,progress:(n-yd)/(i-yd)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function o9(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function a9(){}a9.prototype.s2u=function(t){for(var e=this.s2uTable,n="",i=0;i<t.length;){var r=t[i++];if(!(r>=0&&r<=126||r>=161&&r<=223)&&i<t.length&&(r=r<<8|t[i++]),e[r]===void 0)return console.error("unknown char code "+r+"."),n;n+=String.fromCharCode(e[r])}return n};a9.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function jw(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new a9}jw.prototype={constructor:jw,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var i=[],r=0;r<e;r++)i.push(this.getIndex(t,n));return i},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function Kw(){}Kw.prototype={constructor:Kw,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],i=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=i}};const RP=0,lY=2,cY=0,uY=0,hY=2,fY=0,dY=0,pY=1,M8=2,mY=1,AY=64,PP=0,DP=9,l9=15,LP=16,c9=22,FP=37,u9=43,kP=76,NP=83,OP=97,UP=100,GP=103,QP=109;class gY{constructor(){this.vkFormat=PP,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=RP,this.levels=[],this.dataFormatDescriptor=[{vendorId:uY,descriptorType:cY,descriptorBlockSize:0,versionNumber:hY,colorModel:fY,colorPrimaries:mY,transferFunction:M8,flags:dY,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class xd{constructor(e,n,i,r){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+n,i),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),n=this._dataView.getUint32(this._offset+4,this._littleEndian),i=e+2**32*n;return this._offset+=8,i}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,n=0){const i=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==n&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+i,r)}}const ji=[171,75,84,88,32,50,48,187,13,10,26,10];function Yw(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Buffer.from(t).toString("utf8")}function vY(t){const e=new Uint8Array(t.buffer,t.byteOffset,ji.length);if(e[0]!==ji[0]||e[1]!==ji[1]||e[2]!==ji[2]||e[3]!==ji[3]||e[4]!==ji[4]||e[5]!==ji[5]||e[6]!==ji[6]||e[7]!==ji[7]||e[8]!==ji[8]||e[9]!==ji[9]||e[10]!==ji[10]||e[11]!==ji[11])throw new Error("Missing KTX 2.0 identifier.");const n=new gY,i=17*Uint32Array.BYTES_PER_ELEMENT,r=new xd(t,ji.length,i,!0);n.vkFormat=r._nextUint32(),n.typeSize=r._nextUint32(),n.pixelWidth=r._nextUint32(),n.pixelHeight=r._nextUint32(),n.pixelDepth=r._nextUint32(),n.layerCount=r._nextUint32(),n.faceCount=r._nextUint32();const s=r._nextUint32();n.supercompressionScheme=r._nextUint32();const o=r._nextUint32(),a=r._nextUint32(),l=r._nextUint32(),c=r._nextUint32(),u=r._nextUint64(),d=r._nextUint64(),p=s*3*8,m=new xd(t,ji.length+i,p,!0);for(let W=0;W<s;W++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+m._nextUint64(),m._nextUint64()),uncompressedByteLength:m._nextUint64()});const A=new xd(t,o,a,!0),g={vendorId:A._skip(4)._nextUint16(),descriptorType:A._nextUint16(),versionNumber:A._nextUint16(),descriptorBlockSize:A._nextUint16(),colorModel:A._nextUint8(),colorPrimaries:A._nextUint8(),transferFunction:A._nextUint8(),flags:A._nextUint8(),texelBlockDimension:[A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8()],bytesPlane:[A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8()],samples:[]},v=6,C=4,y=(g.descriptorBlockSize/4-v)/C;for(let W=0;W<y;W++){const $={bitOffset:A._nextUint16(),bitLength:A._nextUint8(),channelType:A._nextUint8(),samplePosition:[A._nextUint8(),A._nextUint8(),A._nextUint8(),A._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};$.channelType&AY?($.sampleLower=A._nextInt32(),$.sampleUpper=A._nextInt32()):($.sampleLower=A._nextUint32(),$.sampleUpper=A._nextUint32()),g.samples[W]=$}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(g);const x=new xd(t,l,c,!0);for(;x._offset<c;){const W=x._nextUint32(),$=x._scan(W),H=Yw($),ne=x._scan(W-$.byteLength);n.keyValue[H]=H.match(/^ktx/i)?Yw(ne):ne,x._offset%4&&x._skip(4-x._offset%4)}if(d<=0)return n;const S=new xd(t,u,d,!0),I=S._nextUint16(),T=S._nextUint16(),B=S._nextUint32(),M=S._nextUint32(),R=S._nextUint32(),P=S._nextUint32(),L=[];for(let W=0;W<s;W++)L.push({imageFlags:S._nextUint32(),rgbSliceByteOffset:S._nextUint32(),rgbSliceByteLength:S._nextUint32(),alphaSliceByteOffset:S._nextUint32(),alphaSliceByteLength:S._nextUint32()});const V=u+S._offset,N=V+B,U=N+M,j=U+R,X=new Uint8Array(t.buffer,t.byteOffset+V,B),te=new Uint8Array(t.buffer,t.byteOffset+N,M),k=new Uint8Array(t.buffer,t.byteOffset+U,R),J=new Uint8Array(t.buffer,t.byteOffset+j,P);return n.globalData={endpointCount:I,selectorCount:T,imageDescs:L,endpointsData:X,selectorsData:te,tablesData:k,extendedData:J},n}let i6,ra,T8;const r6={env:{emscripten_notify_memory_growth:function(t){T8=new Uint8Array(ra.exports.memory.buffer)}}};class yY{init(){return i6||(i6=typeof fetch<"u"?fetch("data:application/wasm;base64,"+Xw).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,r6)).then(this._init):WebAssembly.instantiate(Buffer.from(Xw,"base64"),r6).then(this._init),i6)}_init(e){ra=e.instance,r6.env.emscripten_notify_memory_growth(0)}decode(e,n=0){if(!ra)throw new Error("ZSTDDecoder: Await .init() before decoding.");const i=e.byteLength,r=ra.exports.malloc(i);T8.set(e,r),n=n||Number(ra.exports.ZSTD_findDecompressedSize(r,i));const s=ra.exports.malloc(n),o=ra.exports.ZSTD_decompress(s,n,r,i),a=T8.slice(s,s+o);return ra.exports.free(r),ra.exports.free(s),a}}const Xw="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},i=Object.defineProperty,r=i(n,n,n)&&i}catch{}return r}(),e=function(n){if(this==null)throw TypeError();var i=String(this),r=i.length,s=n?Number(n):0;if(s!=s&&(s=0),!(s<0||s>=r)){var o=i.charCodeAt(s),a;return o>=55296&&o<=56319&&r>s+1&&(a=i.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function HP(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var xY=new HP,CY=new HP,zP=new Uint8Array(30),VP=new Uint16Array(30),EY=new Uint8Array(30),SY=new Uint16Array(30);function WP(t,e,n,i){var r,s;for(r=0;r<n;++r)t[r]=0;for(r=0;r<30-n;++r)t[r+n]=r/n|0;for(s=i,r=0;r<30;++r)e[r]=s,s+=1<<t[r]}function wY(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}wY(xY,CY);WP(zP,VP,4,3);WP(EY,SY,2,1);zP[28]=0;VP[28]=258;function ih(t,e,n,i,r){return Math.pow(1-r,3)*t+3*Math.pow(1-r,2)*r*e+3*(1-r)*Math.pow(r,2)*n+Math.pow(r,3)*i}function jl(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}jl.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};jl.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};jl.prototype.addX=function(t){this.addPoint(t,null)};jl.prototype.addY=function(t){this.addPoint(null,t)};jl.prototype.addBezier=function(t,e,n,i,r,s,o,a){var l=[t,e],c=[n,i],u=[r,s],d=[o,a];this.addPoint(t,e),this.addPoint(o,a);for(var p=0;p<=1;p++){var m=6*l[p]-12*c[p]+6*u[p],A=-3*l[p]+9*c[p]-9*u[p]+3*d[p],g=3*c[p]-3*l[p];if(A===0){if(m===0)continue;var v=-g/m;0<v&&v<1&&(p===0&&this.addX(ih(l[p],c[p],u[p],d[p],v)),p===1&&this.addY(ih(l[p],c[p],u[p],d[p],v)));continue}var C=Math.pow(m,2)-4*g*A;if(!(C<0)){var y=(-m+Math.sqrt(C))/(2*A);0<y&&y<1&&(p===0&&this.addX(ih(l[p],c[p],u[p],d[p],y)),p===1&&this.addY(ih(l[p],c[p],u[p],d[p],y)));var x=(-m-Math.sqrt(C))/(2*A);0<x&&x<1&&(p===0&&this.addX(ih(l[p],c[p],u[p],d[p],x)),p===1&&this.addY(ih(l[p],c[p],u[p],d[p],x)))}}};jl.prototype.addQuad=function(t,e,n,i,r,s){var o=t+.6666666666666666*(n-t),a=e+2/3*(i-e),l=o+1/3*(r-t),c=a+1/3*(s-e);this.addBezier(t,e,o,a,l,c,r,s)};function hi(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}hi.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};hi.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};hi.prototype.curveTo=hi.prototype.bezierCurveTo=function(t,e,n,i,r,s){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:i,x:r,y:s})};hi.prototype.quadTo=hi.prototype.quadraticCurveTo=function(t,e,n,i){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:i})};hi.prototype.close=hi.prototype.closePath=function(){this.commands.push({type:"Z"})};hi.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof jl){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};hi.prototype.getBoundingBox=function(){for(var t=new jl,e=0,n=0,i=0,r=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":t.addPoint(o.x,o.y),e=i=o.x,n=r=o.y;break;case"L":t.addPoint(o.x,o.y),i=o.x,r=o.y;break;case"Q":t.addQuad(i,r,o.x1,o.y1,o.x,o.y),i=o.x,r=o.y;break;case"C":t.addBezier(i,r,o.x1,o.y1,o.x2,o.y2,o.x,o.y),i=o.x,r=o.y;break;case"Z":i=e,r=n;break;default:throw new Error("Unexpected path command "+o.type)}}return t.isEmpty()&&t.addPoint(0,0),t};hi.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};hi.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(t)}function n(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var c=o[l];c>=0&&l>0&&(a+=" "),a+=e(c)}return a}for(var i="",r=0;r<this.commands.length;r+=1){var s=this.commands[r];s.type==="M"?i+="M"+n(s.x,s.y):s.type==="L"?i+="L"+n(s.x,s.y):s.type==="C"?i+="C"+n(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?i+="Q"+n(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(i+="Z")}return i};hi.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};hi.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function JP(t){throw new Error(t)}function qw(t,e){t||JP(e)}var Ct={fail:JP,argument:qw,assert:qw},Zw=32768,$w=2147483648,sf={},Ge={},gt={};function eo(t){return function(){return t}}Ge.BYTE=function(t){return Ct.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};gt.BYTE=eo(1);Ge.CHAR=function(t){return[t.charCodeAt(0)]};gt.CHAR=eo(1);Ge.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};gt.CHARARRAY=function(t){return typeof t>"u"?0:t.length};Ge.USHORT=function(t){return[t>>8&255,t&255]};gt.USHORT=eo(2);Ge.SHORT=function(t){return t>=Zw&&(t=-(2*Zw-t)),[t>>8&255,t&255]};gt.SHORT=eo(2);Ge.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};gt.UINT24=eo(3);Ge.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};gt.ULONG=eo(4);Ge.LONG=function(t){return t>=$w&&(t=-(2*$w-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};gt.LONG=eo(4);Ge.FIXED=Ge.ULONG;gt.FIXED=gt.ULONG;Ge.FWORD=Ge.SHORT;gt.FWORD=gt.SHORT;Ge.UFWORD=Ge.USHORT;gt.UFWORD=gt.USHORT;Ge.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};gt.LONGDATETIME=eo(8);Ge.TAG=function(t){return Ct.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};gt.TAG=eo(4);Ge.Card8=Ge.BYTE;gt.Card8=gt.BYTE;Ge.Card16=Ge.USHORT;gt.Card16=gt.USHORT;Ge.OffSize=Ge.BYTE;gt.OffSize=gt.BYTE;Ge.SID=Ge.USHORT;gt.SID=gt.USHORT;Ge.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?Ge.NUMBER16(t):Ge.NUMBER32(t)};gt.NUMBER=function(t){return Ge.NUMBER(t).length};Ge.NUMBER16=function(t){return[28,t>>8&255,t&255]};gt.NUMBER16=eo(3);Ge.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};gt.NUMBER32=eo(5);Ge.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var i=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*i)/i).toString()}for(var r="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?r+=e[++s]==="-"?"c":"b":a==="."?r+="a":a==="-"?r+="e":r+=a}r+=r.length&1?"f":"ff";for(var l=[30],c=0,u=r.length;c<u;c+=2)l.push(parseInt(r.substr(c,2),16));return l};gt.REAL=function(t){return Ge.REAL(t).length};Ge.NAME=Ge.CHARARRAY;gt.NAME=gt.CHARARRAY;Ge.STRING=Ge.CHARARRAY;gt.STRING=gt.CHARARRAY;sf.UTF8=function(t,e,n){for(var i=[],r=n,s=0;s<r;s++,e+=1)i[s]=t.getUint8(e);return String.fromCharCode.apply(null,i)};sf.UTF16=function(t,e,n){for(var i=[],r=n/2,s=0;s<r;s++,e+=2)i[s]=t.getUint16(e);return String.fromCharCode.apply(null,i)};Ge.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var i=t.charCodeAt(n);e[e.length]=i>>8&255,e[e.length]=i&255}return e};gt.UTF16=function(t){return t.length*2};var B8={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};sf.MACSTRING=function(t,e,n,i){var r=B8[i];if(r!==void 0){for(var s="",o=0;o<n;o++){var a=t.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=r[a&127]}return s}};var lA=typeof WeakMap=="function"&&new WeakMap,cA,IY=function(t){if(!cA){cA={};for(var e in B8)cA[e]=new String(e)}var n=cA[t];if(n!==void 0){if(lA){var i=lA.get(n);if(i!==void 0)return i}var r=B8[t];if(r!==void 0){for(var s={},o=0;o<r.length;o++)s[r.charCodeAt(o)]=o+128;return lA&&lA.set(n,s),s}}};Ge.MACSTRING=function(t,e){var n=IY(e);if(n!==void 0){for(var i=[],r=0;r<t.length;r++){var s=t.charCodeAt(r);if(s>=128&&(s=n[s],s===void 0))return;i[r]=s}return i}};gt.MACSTRING=function(t,e){var n=Ge.MACSTRING(t,e);return n!==void 0?n.length:0};function b8(t){return t>=-128&&t<=127}function _Y(t,e,n){for(var i=0,r=t.length;e<r&&i<64&&t[e]===0;)++e,++i;return n.push(128|i-1),e}function MY(t,e,n){for(var i=0,r=t.length,s=e;s<r&&i<64;){var o=t[s];if(!b8(o)||o===0&&s+1<r&&t[s+1]===0)break;++s,++i}n.push(i-1);for(var a=e;a<s;++a)n.push(t[a]+256&255);return s}function TY(t,e,n){for(var i=0,r=t.length,s=e;s<r&&i<64;){var o=t[s];if(o===0||b8(o)&&s+1<r&&b8(t[s+1]))break;++s,++i}n.push(64|i-1);for(var a=e;a<s;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return s}Ge.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var i=t[e];i===0?e=_Y(t,e,n):i>=-128&&i<=127?e=MY(t,e,n):e=TY(t,e,n)}return n};Ge.INDEX=function(t){for(var e=1,n=[e],i=[],r=0;r<t.length;r+=1){var s=Ge.OBJECT(t[r]);Array.prototype.push.apply(i,s),e+=s.length,n.push(e)}if(i.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,Ge.BYTE,Ge.USHORT,Ge.UINT24,Ge.ULONG][a],c=0;c<n.length;c+=1){var u=l(n[c]);Array.prototype.push.apply(o,u)}return Array.prototype.concat(Ge.Card16(t.length),Ge.OffSize(a),o,i)};gt.INDEX=function(t){return Ge.INDEX(t).length};Ge.DICT=function(t){for(var e=[],n=Object.keys(t),i=n.length,r=0;r<i;r+=1){var s=parseInt(n[r],0),o=t[s];e=e.concat(Ge.OPERAND(o.value,o.type)),e=e.concat(Ge.OPERATOR(s))}return e};gt.DICT=function(t){return Ge.DICT(t).length};Ge.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};Ge.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var i=0;i<e.length;i+=1)Ct.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(Ge.OPERAND(t[i],e[i]));else if(e==="SID")n=n.concat(Ge.NUMBER(t));else if(e==="offset")n=n.concat(Ge.NUMBER32(t));else if(e==="number")n=n.concat(Ge.NUMBER(t));else if(e==="real")n=n.concat(Ge.REAL(t));else throw new Error("Unknown operand type "+e);return n};Ge.OP=Ge.BYTE;gt.OP=gt.BYTE;var uA=typeof WeakMap=="function"&&new WeakMap;Ge.CHARSTRING=function(t){if(uA){var e=uA.get(t);if(e!==void 0)return e}for(var n=[],i=t.length,r=0;r<i;r+=1){var s=t[r];n=n.concat(Ge[s.type](s.value))}return uA&&uA.set(t,n),n};gt.CHARSTRING=function(t){return Ge.CHARSTRING(t).length};Ge.OBJECT=function(t){var e=Ge[t.type];return Ct.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};gt.OBJECT=function(t){var e=gt[t.type];return Ct.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};Ge.TABLE=function(t){for(var e=[],n=t.fields.length,i=[],r=[],s=0;s<n;s+=1){var o=t.fields[s],a=Ge[o.type];Ct.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=t[o.name];l===void 0&&(l=o.value);var c=a(l);o.type==="TABLE"?(r.push(e.length),e=e.concat([0,0]),i.push(c)):e=e.concat(c)}for(var u=0;u<i.length;u+=1){var d=r[u],p=e.length;Ct.argument(p<65536,"Table "+t.tableName+" too big."),e[d]=p>>8,e[d+1]=p&255,e=e.concat(i[u])}return e};gt.TABLE=function(t){for(var e=0,n=t.fields.length,i=0;i<n;i+=1){var r=t.fields[i],s=gt[r.type];Ct.argument(s!==void 0,"No sizeOf function for field type "+r.type+" ("+r.name+")");var o=t[r.name];o===void 0&&(o=r.value),e+=s(o),r.type==="TABLE"&&(e+=2)}return e};Ge.RECORD=Ge.TABLE;gt.RECORD=gt.TABLE;Ge.LITERAL=function(t){return t};gt.LITERAL=function(t){return t.length};function xi(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var i=0;i<e.length;i+=1){var r=e[i];this[r.name]=r.value}if(this.tableName=t,this.fields=e,n)for(var s=Object.keys(n),o=0;o<s.length;o+=1){var a=s[o],l=n[a];this[a]!==void 0&&(this[a]=l)}}xi.prototype.encode=function(){return Ge.TABLE(this)};xi.prototype.sizeOf=function(){return gt.TABLE(this)};function $p(t,e,n){n===void 0&&(n=e.length);var i=new Array(e.length+1);i[0]={name:t+"Count",type:"USHORT",value:n};for(var r=0;r<e.length;r++)i[r+1]={name:t+r,type:"USHORT",value:e[r]};return i}function R8(t,e,n){var i=e.length,r=new Array(i+1);r[0]={name:t+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)r[s+1]={name:t+s,type:"TABLE",value:n(e[s],s)};return r}function e0(t,e,n){var i=e.length,r=[];r[0]={name:t+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)r=r.concat(n(e[s],s));return r}function Ng(t){t.format===1?xi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat($p("glyph",t.glyphs))):t.format===2?xi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(e0("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):Ct.assert(!1,"Coverage format must be 1 or 2.")}Ng.prototype=Object.create(xi.prototype);Ng.prototype.constructor=Ng;function Og(t){xi.call(this,"scriptListTable",e0("scriptRecord",t,function(e,n){var i=e.script,r=i.defaultLangSys;return Ct.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new xi("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new xi("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat($p("featureIndex",r.featureIndexes)))}].concat(e0("langSys",i.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new xi("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat($p("featureIndex",a.featureIndexes)))}]})))}]}))}Og.prototype=Object.create(xi.prototype);Og.prototype.constructor=Og;function Ug(t){xi.call(this,"featureListTable",e0("featureRecord",t,function(e,n){var i=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new xi("featureTable",[{name:"featureParams",type:"USHORT",value:i.featureParams}].concat($p("lookupListIndex",i.lookupListIndexes)))}]}))}Ug.prototype=Object.create(xi.prototype);Ug.prototype.constructor=Ug;function Gg(t,e){xi.call(this,"lookupListTable",R8("lookup",t,function(n){var i=e[n.lookupType];return Ct.assert(!!i,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new xi("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(R8("subtable",n.subtables,i)))}))}Gg.prototype=Object.create(xi.prototype);Gg.prototype.constructor=Gg;var $e={Table:xi,Record:xi,Coverage:Ng,ScriptList:Og,FeatureList:Ug,LookupList:Gg,ushortList:$p,tableList:R8,recordList:e0};function eI(t,e){return t.getUint8(e)}function Qg(t,e){return t.getUint16(e,!1)}function BY(t,e){return t.getInt16(e,!1)}function h9(t,e){return t.getUint32(e,!1)}function jP(t,e){var n=t.getInt16(e,!1),i=t.getUint16(e+2,!1);return n+i/65535}function bY(t,e){for(var n="",i=e;i<e+4;i+=1)n+=String.fromCharCode(t.getInt8(i));return n}function RY(t,e,n){for(var i=0,r=0;r<n;r+=1)i<<=8,i+=t.getUint8(e+r);return i}function PY(t,e,n){for(var i=[],r=e;r<n;r+=1)i.push(t.getUint8(r));return i}function DY(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var LY={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function fe(t,e){this.data=t,this.offset=e,this.relativeOffset=0}fe.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};fe.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};fe.prototype.parseCard8=fe.prototype.parseByte;fe.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};fe.prototype.parseCard16=fe.prototype.parseUShort;fe.prototype.parseSID=fe.prototype.parseUShort;fe.prototype.parseOffset16=fe.prototype.parseUShort;fe.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};fe.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};fe.prototype.parseULong=function(){var t=h9(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};fe.prototype.parseOffset32=fe.prototype.parseULong;fe.prototype.parseFixed=function(){var t=jP(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};fe.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,i="";this.relativeOffset+=t;for(var r=0;r<t;r++)i+=String.fromCharCode(e.getUint8(n+r));return i};fe.prototype.parseTag=function(){return this.parseString(4)};fe.prototype.parseLongDateTime=function(){var t=h9(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};fe.prototype.parseVersion=function(t){var e=Qg(this.data,this.offset+this.relativeOffset),n=Qg(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};fe.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=LY[t]*e};fe.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getUint32(i),i+=4;return this.relativeOffset+=t*4,e};fe.prototype.parseOffset16List=fe.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getUint16(i),i+=2;return this.relativeOffset+=t*2,e};fe.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getInt16(i),i+=2;return this.relativeOffset+=t*2,e};fe.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getUint8(i++);return this.relativeOffset+=t,e};fe.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),i=0;i<t;i++)n[i]=e.call(this);return n};fe.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),i=0;i<t;i++)n[i]=e.call(this);return n};fe.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),i=Object.keys(e),r=0;r<t;r++){for(var s={},o=0;o<i.length;o++){var a=i[o],l=e[a];s[a]=l.call(this)}n[r]=s}return n};fe.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),i=Object.keys(e),r=0;r<t;r++){for(var s={},o=0;o<i.length;o++){var a=i[o],l=e[a];s[a]=l.call(this)}n[r]=s}return n};fe.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i],s=t[r];n[r]=s.call(this)}return n};fe.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};fe.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),i=0;i<e;i++)n[i]=this.parseValueRecord(t);return n};fe.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new fe(this.data,this.offset+e).parseStruct(t)};fe.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new fe(this.data,this.offset+e).parseStruct(t)};fe.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,i=this.relativeOffset,r=new Array(n),s=0;s<n;s++){var o=e[s];if(o===0){r[s]=void 0;continue}if(this.relativeOffset=o,t){for(var a=this.parseOffset16List(),l=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=o+a[c],l[c]=t.call(this);r[s]=l}else r[s]=this.parseUShortList()}return this.relativeOffset=i,r};fe.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var i=new Array(n),r=0;r<n;r++)i[r]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};fe.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:fe.uShort,end:fe.uShort,classId:fe.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};fe.list=function(t,e){return function(){return this.parseList(t,e)}};fe.list32=function(t,e){return function(){return this.parseList32(t,e)}};fe.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};fe.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};fe.pointer=function(t){return function(){return this.parsePointer(t)}};fe.pointer32=function(t){return function(){return this.parsePointer32(t)}};fe.tag=fe.prototype.parseTag;fe.byte=fe.prototype.parseByte;fe.uShort=fe.offset16=fe.prototype.parseUShort;fe.uShortList=fe.prototype.parseUShortList;fe.uLong=fe.offset32=fe.prototype.parseULong;fe.uLongList=fe.prototype.parseULongList;fe.struct=fe.prototype.parseStruct;fe.coverage=fe.prototype.parseCoverage;fe.classDef=fe.prototype.parseClassDef;var tI={reserved:fe.uShort,reqFeatureIndex:fe.uShort,featureIndexes:fe.uShortList};fe.prototype.parseScriptList=function(){return this.parsePointer(fe.recordList({tag:fe.tag,script:fe.pointer({defaultLangSys:fe.pointer(tI),langSysRecords:fe.recordList({tag:fe.tag,langSys:fe.pointer(tI)})})}))||[]};fe.prototype.parseFeatureList=function(){return this.parsePointer(fe.recordList({tag:fe.tag,feature:fe.pointer({featureParams:fe.offset16,lookupListIndexes:fe.uShortList})}))||[]};fe.prototype.parseLookupList=function(t){return this.parsePointer(fe.list(fe.pointer(function(){var e=this.parseUShort();Ct.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),i=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(fe.pointer(t[e])),markFilteringSet:i?this.parseUShort():void 0}})))||[]};fe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();Ct.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:fe.offset32,featureTableSubstitutionOffset:fe.offset32});return n})||[]};var wt={getByte:eI,getCard8:eI,getUShort:Qg,getCard16:Qg,getShort:BY,getULong:h9,getFixed:jP,getTag:bY,getOffset:RY,getBytes:PY,bytesToString:DY,Parser:fe};function FY(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var i=0;i<n;i+=1)for(var r=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=r;a<=s;a+=1)t.glyphIndexMap[a]=o,o++}function kY(t,e,n,i,r){t.length=e.parseUShort(),t.language=e.parseUShort();var s;t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var o=new wt.Parser(n,i+r+14),a=new wt.Parser(n,i+r+16+s*2),l=new wt.Parser(n,i+r+16+s*4),c=new wt.Parser(n,i+r+16+s*6),u=i+r+16+s*8,d=0;d<s-1;d+=1)for(var p=void 0,m=o.parseUShort(),A=a.parseUShort(),g=l.parseShort(),v=c.parseUShort(),C=A;C<=m;C+=1)v!==0?(u=c.offset+c.relativeOffset-2,u+=v,u+=(C-A)*2,p=wt.getUShort(n,u),p!==0&&(p=p+g&65535)):p=C+g&65535,t.glyphIndexMap[C]=p}function NY(t,e){var n={};n.version=wt.getUShort(t,e),Ct.argument(n.version===0,"cmap table version should be 0."),n.numTables=wt.getUShort(t,e+2);for(var i=-1,r=n.numTables-1;r>=0;r-=1){var s=wt.getUShort(t,e+4+r*8),o=wt.getUShort(t,e+4+r*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){i=wt.getULong(t,e+4+r*8+4);break}}if(i===-1)throw new Error("No valid cmap sub-tables found.");var a=new wt.Parser(t,e+i);if(n.format=a.parseUShort(),n.format===12)FY(n,a);else if(n.format===4)kY(n,a,t,e,i);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function OY(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function UY(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function GY(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var i=t.get(n);if(i.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new $e.Table("cmap",r);for(s.segments=[],n=0;n<t.length;n+=1){for(var o=t.get(n),a=0;a<o.unicodes.length;a+=1)OY(s,o.unicodes[a],n);s.segments=s.segments.sort(function(y,x){return y.start-x.start})}UY(s);var l=s.segments.length,c=0,u=[],d=[],p=[],m=[],A=[],g=[];for(n=0;n<l;n+=1){var v=s.segments[n];v.end<=65535&&v.start<=65535?(u=u.concat({name:"end_"+n,type:"USHORT",value:v.end}),d=d.concat({name:"start_"+n,type:"USHORT",value:v.start}),p=p.concat({name:"idDelta_"+n,type:"SHORT",value:v.delta}),m=m.concat({name:"idRangeOffset_"+n,type:"USHORT",value:v.offset}),v.glyphId!==void 0&&(A=A.concat({name:"glyph_"+n,type:"USHORT",value:v.glyphId}))):c+=1,!e&&v.glyphIndex!==void 0&&(g=g.concat({name:"cmap12Start_"+n,type:"ULONG",value:v.start}),g=g.concat({name:"cmap12End_"+n,type:"ULONG",value:v.end}),g=g.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:v.glyphIndex}))}if(s.segCountX2=(l-c)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(u),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(d),s.fields=s.fields.concat(p),s.fields=s.fields.concat(m),s.fields=s.fields.concat(A),s.cmap4Length=14+u.length*2+2+d.length*2+p.length*2+m.length*2+A.length*2,!e){var C=16+g.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:C},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:g.length/3}]),s.fields=s.fields.concat(g)}return s}var QY={parse:NY,make:GY},KA=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],HY=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],zY=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],nI=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function KP(t){this.font=t}KP.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var i=0;i<n.length;i+=1)for(var r=n.get(i),s=0;s<r.unicodes.length;s+=1)if(r.unicodes[s]===e)return i}return null};function Hg(t,e){this.encoding=t,this.charset=e}Hg.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function VY(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke()}var Ac={line:VY};function WY(t,e){var n=e||new hi;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(i){n=i}}}function ws(t){this.bindConstructorValues(t)}ws.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",WY(this,t.path))};ws.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};ws.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};ws.prototype.getPath=function(t,e,n,i,r){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var s,o;i||(i={});var a=i.xScale,l=i.yScale;if(i.hinting&&r&&r.hinting&&(o=this.path&&r.hinting.exec(this,n)),o)s=r.hinting.getCommands(o),t=Math.round(t),e=Math.round(e),a=l=1;else{s=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=c),l===void 0&&(l=c)}for(var u=new hi,d=0;d<s.length;d+=1){var p=s[d];p.type==="M"?u.moveTo(t+p.x*a,e+-p.y*l):p.type==="L"?u.lineTo(t+p.x*a,e+-p.y*l):p.type==="Q"?u.quadraticCurveTo(t+p.x1*a,e+-p.y1*l,t+p.x*a,e+-p.y*l):p.type==="C"?u.curveTo(t+p.x1*a,e+-p.y1*l,t+p.x2*a,e+-p.y2*l,t+p.x*a,e+-p.y*l):p.type==="Z"&&u.closePath()}return u};ws.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var i=this.points[n];e.push(i),i.lastPointOfContour&&(t.push(e),e=[])}return Ct.argument(e.length===0,"There are still points left in the current contour."),t};ws.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],i=0;i<t.length;i+=1){var r=t[i];r.type!=="Z"&&(e.push(r.x),n.push(r.y)),(r.type==="Q"||r.type==="C")&&(e.push(r.x1),n.push(r.y1)),r.type==="C"&&(e.push(r.x2),n.push(r.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};ws.prototype.draw=function(t,e,n,i,r){this.getPath(e,n,i,r).draw(t)};ws.prototype.drawPoints=function(t,e,n,i){function r(d,p,m,A){t.beginPath();for(var g=0;g<d.length;g+=1)t.moveTo(p+d[g].x*A,m+d[g].y*A),t.arc(p+d[g].x*A,m+d[g].y*A,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,i=i!==void 0?i:24;for(var s=1/this.path.unitsPerEm*i,o=[],a=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];u.x!==void 0&&o.push({x:u.x,y:-u.y}),u.x1!==void 0&&a.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&a.push({x:u.x2,y:-u.y2})}t.fillStyle="blue",r(o,e,n,s),t.fillStyle="red",r(a,e,n,s)};ws.prototype.drawMetrics=function(t,e,n,i){var r;e=e!==void 0?e:0,n=n!==void 0?n:0,i=i!==void 0?i:24,r=1/this.path.unitsPerEm*i,t.lineWidth=1,t.strokeStyle="black",Ac.line(t,e,-1e4,e,1e4),Ac.line(t,-1e4,n,1e4,n);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;t.strokeStyle="blue",Ac.line(t,e+s*r,-1e4,e+s*r,1e4),Ac.line(t,e+a*r,-1e4,e+a*r,1e4),Ac.line(t,-1e4,n+-o*r,1e4,n+-o*r),Ac.line(t,-1e4,n+-l*r,1e4,n+-l*r),t.strokeStyle="green",Ac.line(t,e+c*r,-1e4,e+c*r,1e4)};function hA(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(i){t[n]=i},enumerable:!0,configurable:!0})}function f9(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];i.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=i}this.length=e&&e.length||0}f9.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var i=0;i<n.unicodes.length;i++)e.addUnicode(n.unicodes[i]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};f9.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function JY(t,e){return new ws({index:e,font:t})}function jY(t,e,n,i,r,s){return function(){var o=new ws({index:e,font:t});return o.path=function(){n(o,i,r);var a=s(t.glyphs,o);return a.unitsPerEm=t.unitsPerEm,a},hA(o,"xMin","_xMin"),hA(o,"xMax","_xMax"),hA(o,"yMin","_yMin"),hA(o,"yMax","_yMax"),o}}function KY(t,e,n,i){return function(){var r=new ws({index:e,font:t});return r.path=function(){var s=n(t,r,i);return s.unitsPerEm=t.unitsPerEm,s},r}}var To={GlyphSet:f9,glyphLoader:JY,ttfGlyphLoader:jY,cffGlyphLoader:KY};function YP(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!YP(t[n],e[n]))return!1;return!0}else return!1}function P8(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function $a(t,e,n){var i=[],r=[],s=wt.getCard16(t,e),o,a;if(s!==0){var l=wt.getByte(t,e+2);o=e+(s+1)*l+2;for(var c=e+3,u=0;u<s+1;u+=1)i.push(wt.getOffset(t,c,l)),c+=l;a=o+i[s]}else a=e+2;for(var d=0;d<i.length-1;d+=1){var p=wt.getBytes(t,o+i[d],o+i[d+1]);n&&(p=n(p)),r.push(p)}return{objects:r,startOffset:e,endOffset:a}}function YY(t,e){var n=[],i=wt.getCard16(t,e),r,s;if(i!==0){var o=wt.getByte(t,e+2);r=e+(i+1)*o+2;for(var a=e+3,l=0;l<i+1;l+=1)n.push(wt.getOffset(t,a,o)),a+=o;s=r+n[i]}else s=e+2;return{offsets:n,startOffset:e,endOffset:s}}function XY(t,e,n,i,r){var s=wt.getCard16(n,i),o=0;if(s!==0){var a=wt.getByte(n,i+2);o=i+(s+1)*a+2}var l=wt.getBytes(n,o+e[t],o+e[t+1]);return r&&(l=r(l)),l}function qY(t){for(var e="",n=15,i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=t.parseByte(),s=r>>4,o=r&15;if(s===n||(e+=i[s],o===n))break;e+=i[o]}return parseFloat(e)}function ZY(t,e){var n,i,r,s;if(e===28)return n=t.parseByte(),i=t.parseByte(),n<<8|i;if(e===29)return n=t.parseByte(),i=t.parseByte(),r=t.parseByte(),s=t.parseByte(),n<<24|i<<16|r<<8|s;if(e===30)return qY(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function $Y(t){for(var e={},n=0;n<t.length;n+=1){var i=t[n][0],r=t[n][1],s=void 0;if(r.length===1?s=r[0]:s=r,e.hasOwnProperty(i)&&!isNaN(e[i]))throw new Error("Object "+e+" already has key "+i);e[i]=s}return e}function XP(t,e,n){e=e!==void 0?e:0;var i=new wt.Parser(t,e),r=[],s=[];for(n=n!==void 0?n:t.length;i.relativeOffset<n;){var o=i.parseByte();o<=21?(o===12&&(o=1200+i.parseByte()),r.push([o,s]),s=[]):s.push(ZY(i,o))}return $Y(r)}function np(t,e){return e<=390?e=KA[e]:e=t[e-391],e}function qP(t,e,n){for(var i={},r,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)r=t[o.op]!==void 0?t[o.op][l]:void 0,r===void 0&&(r=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(r=np(n,r)),a[l]=r;i[o.name]=a}else r=t[o.op],r===void 0&&(r=o.value!==void 0?o.value:null),o.type==="SID"&&(r=np(n,r)),i[o.name]=r}return i}function eX(t,e){var n={};return n.formatMajor=wt.getCard8(t,e),n.formatMinor=wt.getCard8(t,e+1),n.size=wt.getCard8(t,e+2),n.offsetSize=wt.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var ZP=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],$P=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function tX(t,e){var n=XP(t,0,t.byteLength);return qP(n,ZP,e)}function eD(t,e,n,i){var r=XP(t,e,n);return qP(r,$P,i)}function iI(t,e,n,i){for(var r=[],s=0;s<n.length;s+=1){var o=new DataView(new Uint8Array(n[s]).buffer),a=tX(o,i);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],c=a.private[1];if(l!==0&&c!==0){var u=eD(t,c+e,l,i);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,u.subrs!==0){var d=c+u.subrs,p=$a(t,d+e);a._subrs=p.objects,a._subrsBias=P8(a._subrs)}a._privateDict=u}r.push(a)}return r}function nX(t,e,n,i){var r,s,o=new wt.Parser(t,e);n-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var c=0;c<n;c+=1)r=o.parseSID(),a.push(np(i,r));else if(l===1)for(;a.length<=n;){r=o.parseSID(),s=o.parseCard8();for(var u=0;u<=s;u+=1)a.push(np(i,r)),r+=1}else if(l===2)for(;a.length<=n;){r=o.parseSID(),s=o.parseCard16();for(var d=0;d<=s;d+=1)a.push(np(i,r)),r+=1}else throw new Error("Unknown charset format "+l);return a}function iX(t,e,n){var i,r={},s=new wt.Parser(t,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)i=s.parseCard8(),r[i]=l;else if(o===1){var c=s.parseCard8();i=1;for(var u=0;u<c;u+=1)for(var d=s.parseCard8(),p=s.parseCard8(),m=d;m<=d+p;m+=1)r[m]=i,i+=1}else throw new Error("Unknown encoding format "+o);return new Hg(r,n)}function rI(t,e,n){var i,r,s,o,a=new hi,l=[],c=0,u=!1,d=!1,p=0,m=0,A,g,v,C;if(t.isCIDFont){var y=t.tables.cff.topDict._fdSelect[e.index],x=t.tables.cff.topDict._fdArray[y];A=x._subrs,g=x._subrsBias,v=x._defaultWidthX,C=x._nominalWidthX}else A=t.tables.cff.topDict._subrs,g=t.tables.cff.topDict._subrsBias,v=t.tables.cff.topDict._defaultWidthX,C=t.tables.cff.topDict._nominalWidthX;var S=v;function I(M,R){d&&a.closePath(),a.moveTo(M,R),d=!0}function T(){var M;M=l.length%2!==0,M&&!u&&(S=l.shift()+C),c+=l.length>>1,l.length=0,u=!0}function B(M){for(var R,P,L,V,N,U,j,X,te,k,J,W,$=0;$<M.length;){var H=M[$];switch($+=1,H){case 1:T();break;case 3:T();break;case 4:l.length>1&&!u&&(S=l.shift()+C,u=!0),m+=l.pop(),I(p,m);break;case 5:for(;l.length>0;)p+=l.shift(),m+=l.shift(),a.lineTo(p,m);break;case 6:for(;l.length>0&&(p+=l.shift(),a.lineTo(p,m),l.length!==0);)m+=l.shift(),a.lineTo(p,m);break;case 7:for(;l.length>0&&(m+=l.shift(),a.lineTo(p,m),l.length!==0);)p+=l.shift(),a.lineTo(p,m);break;case 8:for(;l.length>0;)i=p+l.shift(),r=m+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),m=o+l.shift(),a.curveTo(i,r,s,o,p,m);break;case 10:N=l.pop()+g,U=A[N],U&&B(U);break;case 11:return;case 12:switch(H=M[$],$+=1,H){case 35:i=p+l.shift(),r=m+l.shift(),s=i+l.shift(),o=r+l.shift(),j=s+l.shift(),X=o+l.shift(),te=j+l.shift(),k=X+l.shift(),J=te+l.shift(),W=k+l.shift(),p=J+l.shift(),m=W+l.shift(),l.shift(),a.curveTo(i,r,s,o,j,X),a.curveTo(te,k,J,W,p,m);break;case 34:i=p+l.shift(),r=m,s=i+l.shift(),o=r+l.shift(),j=s+l.shift(),X=o,te=j+l.shift(),k=o,J=te+l.shift(),W=m,p=J+l.shift(),a.curveTo(i,r,s,o,j,X),a.curveTo(te,k,J,W,p,m);break;case 36:i=p+l.shift(),r=m+l.shift(),s=i+l.shift(),o=r+l.shift(),j=s+l.shift(),X=o,te=j+l.shift(),k=o,J=te+l.shift(),W=k+l.shift(),p=J+l.shift(),a.curveTo(i,r,s,o,j,X),a.curveTo(te,k,J,W,p,m);break;case 37:i=p+l.shift(),r=m+l.shift(),s=i+l.shift(),o=r+l.shift(),j=s+l.shift(),X=o+l.shift(),te=j+l.shift(),k=X+l.shift(),J=te+l.shift(),W=k+l.shift(),Math.abs(J-p)>Math.abs(W-m)?p=J+l.shift():m=W+l.shift(),a.curveTo(i,r,s,o,j,X),a.curveTo(te,k,J,W,p,m);break;default:console.log("Glyph "+e.index+": unknown operator "+1200+H),l.length=0}break;case 14:l.length>0&&!u&&(S=l.shift()+C,u=!0),d&&(a.closePath(),d=!1);break;case 18:T();break;case 19:case 20:T(),$+=c+7>>3;break;case 21:l.length>2&&!u&&(S=l.shift()+C,u=!0),m+=l.pop(),p+=l.pop(),I(p,m);break;case 22:l.length>1&&!u&&(S=l.shift()+C,u=!0),p+=l.pop(),I(p,m);break;case 23:T();break;case 24:for(;l.length>2;)i=p+l.shift(),r=m+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),m=o+l.shift(),a.curveTo(i,r,s,o,p,m);p+=l.shift(),m+=l.shift(),a.lineTo(p,m);break;case 25:for(;l.length>6;)p+=l.shift(),m+=l.shift(),a.lineTo(p,m);i=p+l.shift(),r=m+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),m=o+l.shift(),a.curveTo(i,r,s,o,p,m);break;case 26:for(l.length%2&&(p+=l.shift());l.length>0;)i=p,r=m+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s,m=o+l.shift(),a.curveTo(i,r,s,o,p,m);break;case 27:for(l.length%2&&(m+=l.shift());l.length>0;)i=p+l.shift(),r=m,s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),m=o,a.curveTo(i,r,s,o,p,m);break;case 28:R=M[$],P=M[$+1],l.push((R<<24|P<<16)>>16),$+=2;break;case 29:N=l.pop()+t.gsubrsBias,U=t.gsubrs[N],U&&B(U);break;case 30:for(;l.length>0&&(i=p,r=m+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,p,m),l.length!==0);)i=p+l.shift(),r=m,s=i+l.shift(),o=r+l.shift(),m=o+l.shift(),p=s+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,p,m);break;case 31:for(;l.length>0&&(i=p+l.shift(),r=m,s=i+l.shift(),o=r+l.shift(),m=o+l.shift(),p=s+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,p,m),l.length!==0);)i=p,r=m+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,p,m);break;default:H<32?console.log("Glyph "+e.index+": unknown operator "+H):H<247?l.push(H-139):H<251?(R=M[$],$+=1,l.push((H-247)*256+R+108)):H<255?(R=M[$],$+=1,l.push(-(H-251)*256-R-108)):(R=M[$],P=M[$+1],L=M[$+2],V=M[$+3],$+=4,l.push((R<<24|P<<16|L<<8|V)/65536))}}}return B(n),e.advanceWidth=S,a}function rX(t,e,n,i){var r=[],s,o=new wt.Parser(t,e),a=o.parseCard8();if(a===0)for(var l=0;l<n;l++){if(s=o.parseCard8(),s>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+i+")");r.push(s)}else if(a===3){var c=o.parseCard16(),u=o.parseCard16();if(u!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var d,p=0;p<c;p++){if(s=o.parseCard8(),d=o.parseCard16(),s>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+i+")");if(d>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+d);for(;u<d;u++)r.push(s);u=d}if(d!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+d)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return r}function sX(t,e,n,i){n.tables.cff={};var r=eX(t,e),s=$a(t,r.endOffset,wt.bytesToString),o=$a(t,s.endOffset),a=$a(t,o.endOffset,wt.bytesToString),l=$a(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=P8(n.gsubrs);var c=iI(t,e,o.objects,a.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(n.tables.cff.topDict=u,u._privateDict&&(n.defaultWidthX=u._privateDict.defaultWidthX,n.nominalWidthX=u._privateDict.nominalWidthX),u.ros[0]!==void 0&&u.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var d=u.fdArray,p=u.fdSelect;if(d===0||p===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");d+=e;var m=$a(t,d),A=iI(t,e,m.objects,a.objects);u._fdArray=A,p+=e,u._fdSelect=rX(t,p,n.numGlyphs,A.length)}var g=e+u.private[1],v=eD(t,g,u.private[0],a.objects);if(n.defaultWidthX=v.defaultWidthX,n.nominalWidthX=v.nominalWidthX,v.subrs!==0){var C=g+v.subrs,y=$a(t,C);n.subrs=y.objects,n.subrsBias=P8(n.subrs)}else n.subrs=[],n.subrsBias=0;var x;i.lowMemory?(x=YY(t,e+u.charStrings),n.nGlyphs=x.offsets.length):(x=$a(t,e+u.charStrings),n.nGlyphs=x.objects.length);var S=nX(t,e+u.charset,n.nGlyphs,a.objects);if(u.encoding===0?n.cffEncoding=new Hg(HY,S):u.encoding===1?n.cffEncoding=new Hg(zY,S):n.cffEncoding=iX(t,e+u.encoding,S),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new To.GlyphSet(n),i.lowMemory)n._push=function(B){var M=XY(B,x.offsets,t,e+u.charStrings);n.glyphs.push(B,To.cffGlyphLoader(n,B,rI,M))};else for(var I=0;I<n.nGlyphs;I+=1){var T=x.objects[I];n.glyphs.push(I,To.cffGlyphLoader(n,I,rI,T))}}function tD(t,e){var n,i=KA.indexOf(t);return i>=0&&(n=i),i=e.indexOf(t),i>=0?n=i+KA.length:(n=KA.length+e.length,e.push(t)),n}function oX(){return new $e.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function aX(t){var e=new $e.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function nD(t,e,n){for(var i={},r=0;r<t.length;r+=1){var s=t[r],o=e[s.name];o!==void 0&&!YP(o,s.value)&&(s.type==="SID"&&(o=tD(o,n)),i[s.op]={name:s.name,type:s.type,value:o})}return i}function sI(t,e){var n=new $e.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=nD(ZP,t,e),n}function oI(t){var e=new $e.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function lX(t){var e=new $e.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function cX(){return new $e.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function uX(t,e){for(var n=new $e.Record("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<t.length;i+=1){var r=t[i],s=tD(r,e);n.fields.push({name:"glyph_"+i,type:"SID",value:s})}return n}function hX(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var i=0,r=0,s=0;s<n.commands.length;s+=1){var o=void 0,a=void 0,l=n.commands[s];if(l.type==="Q"){var c=.3333333333333333,u=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(c*i+u*l.x1),y1:Math.round(c*r+u*l.y1),x2:Math.round(c*l.x+u*l.x1),y2:Math.round(c*l.y+u*l.y1)}}if(l.type==="M")o=Math.round(l.x-i),a=Math.round(l.y-r),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(l.x),r=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-i),a=Math.round(l.y-r),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),i=Math.round(l.x),r=Math.round(l.y);else if(l.type==="C"){var d=Math.round(l.x1-i),p=Math.round(l.y1-r),m=Math.round(l.x2-l.x1),A=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:d}),e.push({name:"dy1",type:"NUMBER",value:p}),e.push({name:"dx2",type:"NUMBER",value:m}),e.push({name:"dy2",type:"NUMBER",value:A}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(l.x),r=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function fX(t){for(var e=new $e.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var i=t.get(n),r=hX(i);e.charStrings.push({name:i.name,type:"CHARSTRING",value:r})}return e}function dX(t,e){var n=new $e.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=nD($P,t,e),n}function pX(t,e){for(var n=new $e.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/e.unitsPerEm,r={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<t.length;l+=1)a=t.get(l),o.push(a.name);var c=[];n.header=oX(),n.nameIndex=aX([e.postScriptName]);var u=sI(r,c);n.topDictIndex=oI(u),n.globalSubrIndex=cX(),n.charsets=uX(o,c),n.charStringsIndex=fX(t),n.privateDict=dX(s,c),n.stringIndex=lX(c);var d=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return r.charset=d,r.encoding=0,r.charStrings=r.charset+n.charsets.sizeOf(),r.private[1]=r.charStrings+n.charStringsIndex.sizeOf(),u=sI(r,c),n.topDictIndex=oI(u),n}var mX={parse:sX,make:pX};function AX(t,e){var n={},i=new wt.Parser(t,e);return n.version=i.parseVersion(),n.fontRevision=Math.round(i.parseFixed()*1e3)/1e3,n.checkSumAdjustment=i.parseULong(),n.magicNumber=i.parseULong(),Ct.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=i.parseUShort(),n.unitsPerEm=i.parseUShort(),n.created=i.parseLongDateTime(),n.modified=i.parseLongDateTime(),n.xMin=i.parseShort(),n.yMin=i.parseShort(),n.xMax=i.parseShort(),n.yMax=i.parseShort(),n.macStyle=i.parseUShort(),n.lowestRecPPEM=i.parseUShort(),n.fontDirectionHint=i.parseShort(),n.indexToLocFormat=i.parseShort(),n.glyphDataFormat=i.parseShort(),n}function gX(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new $e.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var vX={parse:AX,make:gX};function yX(t,e){var n={},i=new wt.Parser(t,e);return n.version=i.parseVersion(),n.ascender=i.parseShort(),n.descender=i.parseShort(),n.lineGap=i.parseShort(),n.advanceWidthMax=i.parseUShort(),n.minLeftSideBearing=i.parseShort(),n.minRightSideBearing=i.parseShort(),n.xMaxExtent=i.parseShort(),n.caretSlopeRise=i.parseShort(),n.caretSlopeRun=i.parseShort(),n.caretOffset=i.parseShort(),i.relativeOffset+=8,n.metricDataFormat=i.parseShort(),n.numberOfHMetrics=i.parseUShort(),n}function xX(t){return new $e.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var CX={parse:yX,make:xX};function EX(t,e,n,i,r){for(var s,o,a=new wt.Parser(t,e),l=0;l<i;l+=1){l<n&&(s=a.parseUShort(),o=a.parseShort());var c=r.get(l);c.advanceWidth=s,c.leftSideBearing=o}}function SX(t,e,n,i,r){t._hmtxTableData={};for(var s,o,a=new wt.Parser(e,n),l=0;l<r;l+=1)l<i&&(s=a.parseUShort(),o=a.parseShort()),t._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function wX(t,e,n,i,r,s,o){o.lowMemory?SX(t,e,n,i,r):EX(e,n,i,r,s)}function IX(t){for(var e=new $e.Table("hmtx",[]),n=0;n<t.length;n+=1){var i=t.get(n),r=i.advanceWidth||0,s=i.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:r}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:s})}return e}var _X={parse:wX,make:IX};function MX(t){for(var e=new $e.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",i=12+t.length*4,r=0;r<t.length;++r){var s=n.indexOf(t[r]);s<0&&(s=n.length,n+=t[r]),e.fields.push({name:"offset "+r,type:"USHORT",value:i+s}),e.fields.push({name:"length "+r,type:"USHORT",value:t[r].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function TX(t,e){var n=new wt.Parser(t,e),i=n.parseULong();Ct.argument(i===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var r=n.parseULong(),s=[],o=0;o<r;o++){for(var a="",l=e+n.parseUShort(),c=n.parseUShort(),u=l;u<l+c;++u)a+=String.fromCharCode(t.getInt8(u));s.push(a)}return s}var BX={make:MX,parse:TX};function bX(t,e){var n={},i=new wt.Parser(t,e);return n.version=i.parseVersion(),n.numGlyphs=i.parseUShort(),n.version===1&&(n.maxPoints=i.parseUShort(),n.maxContours=i.parseUShort(),n.maxCompositePoints=i.parseUShort(),n.maxCompositeContours=i.parseUShort(),n.maxZones=i.parseUShort(),n.maxTwilightPoints=i.parseUShort(),n.maxStorage=i.parseUShort(),n.maxFunctionDefs=i.parseUShort(),n.maxInstructionDefs=i.parseUShort(),n.maxStackElements=i.parseUShort(),n.maxSizeOfInstructions=i.parseUShort(),n.maxComponentElements=i.parseUShort(),n.maxComponentDepth=i.parseUShort()),n}function RX(t){return new $e.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var PX={parse:bX,make:RX},iD=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],rD={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},DX={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},sD={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function LX(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return rD[e];case 3:return sD[e]}}var D8="utf-16",FX={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},kX={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function oD(t,e,n){switch(t){case 0:return D8;case 1:return kX[n]||FX[e];case 3:if(e===1||e===10)return D8;break}}function NX(t,e,n){for(var i={},r=new wt.Parser(t,e),s=r.parseUShort(),o=r.parseUShort(),a=r.offset+r.parseUShort(),l=0;l<o;l++){var c=r.parseUShort(),u=r.parseUShort(),d=r.parseUShort(),p=r.parseUShort(),m=iD[p]||p,A=r.parseUShort(),g=r.parseUShort(),v=LX(c,d,n),C=oD(c,u,d);if(C!==void 0&&v!==void 0){var y=void 0;if(C===D8?y=sf.UTF16(t,a+g,A):y=sf.MACSTRING(t,a+g,A,C),y){var x=i[m];x===void 0&&(x=i[m]={}),x[v]=y}}}return s===1&&r.parseUShort(),i}function s6(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function aI(t,e,n,i,r,s){return new $e.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:r},{name:"offset",type:"USHORT",value:s}])}function OX(t,e){var n=t.length,i=e.length-n+1;e:for(var r=0;r<i;r++)for(;r<i;r++){for(var s=0;s<n;s++)if(e[r+s]!==t[s])continue e;return r}return-1}function lI(t,e){var n=OX(t,e);if(n<0){n=e.length;for(var i=0,r=t.length;i<r;++i)e.push(t[i])}return n}function UX(t,e){var n,i=[],r={},s=s6(iD);for(var o in t){var a=s[o];if(a===void 0&&(a=o),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');r[n]=t[o],i.push(n)}for(var l=s6(rD),c=s6(sD),u=[],d=[],p=0;p<i.length;p++){n=i[p];var m=r[n];for(var A in m){var g=m[A],v=1,C=l[A],y=DX[C],x=oD(v,y,C),S=Ge.MACSTRING(g,x);S===void 0&&(v=0,C=e.indexOf(A),C<0&&(C=e.length,e.push(A)),y=4,S=Ge.UTF16(g));var I=lI(S,d);u.push(aI(v,y,C,n,S.length,I));var T=c[A];if(T!==void 0){var B=Ge.UTF16(g),M=lI(B,d);u.push(aI(3,1,T,n,B.length,M))}}}u.sort(function(L,V){return L.platformID-V.platformID||L.encodingID-V.encodingID||L.languageID-V.languageID||L.nameID-V.nameID});for(var R=new $e.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),P=0;P<u.length;P++)R.fields.push({name:"record_"+P,type:"RECORD",value:u[P]});return R.fields.push({name:"strings",type:"LITERAL",value:d}),R}var GX={parse:NX,make:UX},L8=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function QX(t){for(var e=0;e<L8.length;e+=1){var n=L8[e];if(t>=n.begin&&t<n.end)return e}return-1}function HX(t,e){var n={},i=new wt.Parser(t,e);n.version=i.parseUShort(),n.xAvgCharWidth=i.parseShort(),n.usWeightClass=i.parseUShort(),n.usWidthClass=i.parseUShort(),n.fsType=i.parseUShort(),n.ySubscriptXSize=i.parseShort(),n.ySubscriptYSize=i.parseShort(),n.ySubscriptXOffset=i.parseShort(),n.ySubscriptYOffset=i.parseShort(),n.ySuperscriptXSize=i.parseShort(),n.ySuperscriptYSize=i.parseShort(),n.ySuperscriptXOffset=i.parseShort(),n.ySuperscriptYOffset=i.parseShort(),n.yStrikeoutSize=i.parseShort(),n.yStrikeoutPosition=i.parseShort(),n.sFamilyClass=i.parseShort(),n.panose=[];for(var r=0;r<10;r++)n.panose[r]=i.parseByte();return n.ulUnicodeRange1=i.parseULong(),n.ulUnicodeRange2=i.parseULong(),n.ulUnicodeRange3=i.parseULong(),n.ulUnicodeRange4=i.parseULong(),n.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),n.fsSelection=i.parseUShort(),n.usFirstCharIndex=i.parseUShort(),n.usLastCharIndex=i.parseUShort(),n.sTypoAscender=i.parseShort(),n.sTypoDescender=i.parseShort(),n.sTypoLineGap=i.parseShort(),n.usWinAscent=i.parseUShort(),n.usWinDescent=i.parseUShort(),n.version>=1&&(n.ulCodePageRange1=i.parseULong(),n.ulCodePageRange2=i.parseULong()),n.version>=2&&(n.sxHeight=i.parseShort(),n.sCapHeight=i.parseShort(),n.usDefaultChar=i.parseUShort(),n.usBreakChar=i.parseUShort(),n.usMaxContent=i.parseUShort()),n}function zX(t){return new $e.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var cI={parse:HX,make:zX,unicodeRanges:L8,getUnicodeRange:QX};function VX(t,e){var n={},i=new wt.Parser(t,e);switch(n.version=i.parseVersion(),n.italicAngle=i.parseFixed(),n.underlinePosition=i.parseShort(),n.underlineThickness=i.parseShort(),n.isFixedPitch=i.parseULong(),n.minMemType42=i.parseULong(),n.maxMemType42=i.parseULong(),n.minMemType1=i.parseULong(),n.maxMemType1=i.parseULong(),n.version){case 1:n.names=nI.slice();break;case 2:n.numberOfGlyphs=i.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var r=0;r<n.numberOfGlyphs;r++)n.glyphNameIndex[r]=i.parseUShort();n.names=[];for(var s=0;s<n.numberOfGlyphs;s++)if(n.glyphNameIndex[s]>=nI.length){var o=i.parseChar();n.names.push(i.parseString(o))}break;case 2.5:n.numberOfGlyphs=i.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=i.parseChar();break}return n}function WX(){return new $e.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var JX={parse:VX,make:WX},Js=new Array(9);Js[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(fe.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(fe.coverage),substitute:this.parseOffset16List()};Ct.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};Js[2]=function(){var e=this.parseUShort();return Ct.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(fe.coverage),sequences:this.parseListOfLists()}};Js[3]=function(){var e=this.parseUShort();return Ct.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(fe.coverage),alternateSets:this.parseListOfLists()}};Js[4]=function(){var e=this.parseUShort();return Ct.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(fe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Nh={sequenceIndex:fe.uShort,lookupListIndex:fe.uShort};Js[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(fe.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Nh)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(fe.coverage),classDef:this.parsePointer(fe.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Nh)}})};if(n===3){var i=this.parseUShort(),r=this.parseUShort();return{substFormat:n,coverages:this.parseList(i,fe.pointer(fe.coverage)),lookupRecords:this.parseRecordList(r,Nh)}}Ct.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Js[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(fe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nh)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(fe.coverage),backtrackClassDef:this.parsePointer(fe.classDef),inputClassDef:this.parsePointer(fe.classDef),lookaheadClassDef:this.parsePointer(fe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nh)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(fe.pointer(fe.coverage)),inputCoverage:this.parseList(fe.pointer(fe.coverage)),lookaheadCoverage:this.parseList(fe.pointer(fe.coverage)),lookupRecords:this.parseRecordList(Nh)};Ct.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Js[7]=function(){var e=this.parseUShort();Ct.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),i=new fe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:Js[n].call(i)}};Js[8]=function(){var e=this.parseUShort();return Ct.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(fe.coverage),backtrackCoverage:this.parseList(fe.pointer(fe.coverage)),lookaheadCoverage:this.parseList(fe.pointer(fe.coverage)),substitutes:this.parseUShortList()}};function jX(t,e){e=e||0;var n=new fe(t,e),i=n.parseVersion(1);return Ct.argument(i===1||i===1.1,"Unsupported GSUB table version."),i===1?{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Js)}:{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Js),variations:n.parseFeatureVariationsList()}}var _f=new Array(9);_f[1]=function(e){return e.substFormat===1?new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.ushortList("substitute",e.substitute)))};_f[2]=function(e){return Ct.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("seqSet",e.sequences,function(n){return new $e.Table("sequenceSetTable",$e.ushortList("sequence",n))})))};_f[3]=function(e){return Ct.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("altSet",e.alternateSets,function(n){return new $e.Table("alternateSetTable",$e.ushortList("alternate",n))})))};_f[4]=function(e){return Ct.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("ligSet",e.ligatureSets,function(n){return new $e.Table("ligatureSetTable",$e.tableList("ligature",n,function(i){return new $e.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:i.ligGlyph}].concat($e.ushortList("component",i.components,i.components.length+1)))}))})))};_f[6]=function(e){if(e.substFormat===1){var n=new $e.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("chainRuleSet",e.chainRuleSets,function(s){return new $e.Table("chainRuleSetTable",$e.tableList("chainRule",s,function(o){var a=$e.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat($e.ushortList("inputGlyph",o.input,o.input.length+1)).concat($e.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat($e.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,c){a=a.concat({name:"sequenceIndex"+c,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:l.lookupListIndex})}),new $e.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)Ct.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var i=[{name:"substFormat",type:"USHORT",value:e.substFormat}];i.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){i.push({name:"backtrackCoverage"+o,type:"TABLE",value:new $e.Coverage(s)})}),i.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){i.push({name:"inputCoverage"+o,type:"TABLE",value:new $e.Coverage(s)})}),i.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){i.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new $e.Coverage(s)})}),i.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){i=i.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var r=new $e.Table("chainContextTable",i);return r}Ct.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function KX(t){return new $e.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $e.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new $e.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new $e.LookupList(t.lookups,_f)}])}var YX={parse:jX,make:KX};function XX(t,e){var n=new wt.Parser(t,e),i=n.parseULong();Ct.argument(i===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var r=n.parseULong(),s={},o=0;o<r;o++){var a=n.parseTag(),l=n.parseULong(),c=n.parseULong(),u=sf.UTF8(t,e+l,c);s[a]=u}return s}function qX(t){var e=Object.keys(t).length,n="",i=16+e*12,r=new $e.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:e}]);for(var s in t){var o=n.length;n+=t[s],r.fields.push({name:"tag "+s,type:"TAG",value:s}),r.fields.push({name:"offset "+s,type:"ULONG",value:i+o}),r.fields.push({name:"length "+s,type:"ULONG",value:t[s].length})}return r.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),r}var ZX={parse:XX,make:qX};function uI(t){return Math.log(t)/Math.log(2)|0}function d9(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function hI(t,e,n,i){return new $e.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:i!==void 0?i:0}])}function aD(t){var e=new $e.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,uI(e.numTables));e.searchRange=16*n,e.entrySelector=uI(n),e.rangeShift=e.numTables*16-e.searchRange;for(var i=[],r=[],s=e.sizeOf()+hI().sizeOf()*e.numTables;s%4!==0;)s+=1,r.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<t.length;o+=1){var a=t[o];Ct.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),c=hI(a.tableName,d9(a.encode()),s,l);for(i.push({name:c.tag+" Table Record",type:"RECORD",value:c}),r.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,Ct.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,r.push({name:"padding",type:"BYTE",value:0})}return i.sort(function(u,d){return u.value.tag>d.value.tag?1:-1}),e.fields=e.fields.concat(i),e.fields=e.fields.concat(r),e}function fI(t,e,n){for(var i=0;i<e.length;i+=1){var r=t.charToGlyphIndex(e[i]);if(r>0){var s=t.glyphs.get(r);return s.getMetrics()}}return n}function $X(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function eq(t){for(var e=[],n=[],i=[],r=[],s=[],o=[],a=[],l,c=0,u=0,d=0,p=0,m=0,A=0;A<t.glyphs.length;A+=1){var g=t.glyphs.get(A),v=g.unicode|0;if(isNaN(g.advanceWidth))throw new Error("Glyph "+g.name+" ("+A+"): advanceWidth is not a number.");(l>v||l===void 0)&&v>0&&(l=v),c<v&&(c=v);var C=cI.getUnicodeRange(v);if(C<32)u|=1<<C;else if(C<64)d|=1<<C-32;else if(C<96)p|=1<<C-64;else if(C<123)m|=1<<C-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(g.name!==".notdef"){var y=g.getMetrics();e.push(y.xMin),n.push(y.yMin),i.push(y.xMax),r.push(y.yMax),o.push(y.leftSideBearing),a.push(y.rightSideBearing),s.push(g.advanceWidth)}}var x={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,r),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:$X(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};x.ascender=t.ascender,x.descender=t.descender;var S=vX.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:x.xMin,yMin:x.yMin,xMax:x.xMax,yMax:x.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),I=CX.make({ascender:x.ascender,descender:x.descender,advanceWidthMax:x.advanceWidthMax,minLeftSideBearing:x.minLeftSideBearing,minRightSideBearing:x.minRightSideBearing,xMaxExtent:x.maxLeftSideBearing+(x.xMax-x.xMin),numberOfHMetrics:t.glyphs.length}),T=PX.make(t.glyphs.length),B=cI.make(Object.assign({xAvgCharWidth:Math.round(x.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:d,ulUnicodeRange3:p,ulUnicodeRange4:m,sTypoAscender:x.ascender,sTypoDescender:x.descender,sTypoLineGap:0,usWinAscent:x.yMax,usWinDescent:Math.abs(x.yMin),ulCodePageRange1:1,sxHeight:fI(t,"xyvw",{yMax:Math.round(x.ascender/2)}).yMax,sCapHeight:fI(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",x).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),M=_X.make(t.glyphs),R=QY.make(t.glyphs),P=t.getEnglishName("fontFamily"),L=t.getEnglishName("fontSubfamily"),V=P+" "+L,N=t.getEnglishName("postScriptName");N||(N=P.replace(/\s/g,"")+"-"+L);var U={};for(var j in t.names)U[j]=t.names[j];U.uniqueID||(U.uniqueID={en:t.getEnglishName("manufacturer")+":"+V}),U.postScriptName||(U.postScriptName={en:N}),U.preferredFamily||(U.preferredFamily=t.names.fontFamily),U.preferredSubfamily||(U.preferredSubfamily=t.names.fontSubfamily);var X=[],te=GX.make(U,X),k=X.length>0?BX.make(X):void 0,J=JX.make(),W=mX.make(t.glyphs,{version:t.getEnglishName("version"),fullName:V,familyName:P,weightName:L,postScriptName:N,unitsPerEm:t.unitsPerEm,fontBBox:[0,x.yMin,x.ascender,x.advanceWidthMax]}),$=t.metas&&Object.keys(t.metas).length>0?ZX.make(t.metas):void 0,H=[S,I,T,B,te,R,J,W,M];k&&H.push(k),t.tables.gsub&&H.push(YX.make(t.tables.gsub)),$&&H.push($);for(var ne=aD(H),de=ne.encode(),Ae=d9(de),q=ne.fields,Te=!1,Pe=0;Pe<q.length;Pe+=1)if(q[Pe].name==="head table"){q[Pe].value.checkSumAdjustment=2981146554-Ae,Te=!0;break}if(!Te)throw new Error("Could not find head table with checkSum to adjust.");return ne}var tq={make:aD,fontToTable:eq,computeCheckSum:d9};function o6(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>>1,s=t[r].tag;if(s===e)return r;s<e?n=r+1:i=r-1}return-n-1}function dI(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>>1,s=t[r];if(s===e)return r;s<e?n=r+1:i=r-1}return-n-1}function pI(t,e){for(var n,i=0,r=t.length-1;i<=r;){var s=i+r>>>1;n=t[s];var o=n.start;if(o===e)return n;o<e?i=s+1:r=s-1}if(i>0)return n=t[i-1],e>n.end?0:n}function Q0(t,e){this.font=t,this.tableName=e}Q0.prototype={searchTag:o6,binSearch:dI,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var i=t.scripts[n].tag;if(i==="DFLT")return i;i==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var i=n.scripts,r=o6(n.scripts,t);if(r>=0)return i[r].script;if(e){var s={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return i.splice(-1-r,0,s),s.script}}},getLangSysTable:function(t,e,n){var i=this.getScriptTable(t,n);if(i){if(!e||e==="dflt"||e==="DFLT")return i.defaultLangSys;var r=o6(i.langSysRecords,e);if(r>=0)return i.langSysRecords[r].langSys;if(n){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return i.langSysRecords.splice(-1-r,0,s),s.langSys}}},getFeatureTable:function(t,e,n,i){var r=this.getLangSysTable(t,e,i);if(r){for(var s,o=r.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===n)return s.feature;if(i){var c=a.length;return Ct.assert(c===0||n>=a[c-1].tag,"Features must be added in alphabetical order."),s={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(c),s.feature}}},getLookupTables:function(t,e,n,i,r){var s=this.getFeatureTable(t,e,n,r),o=[];if(s){for(var a,l=s.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)a=c[l[u]],a.lookupType===i&&o.push(a);if(o.length===0&&r){a={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=c.length;return c.push(a),l.push(d),[a]}}return o},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=pI(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=dI(t.glyphs,e);return n>=0?n:-1;case 2:var i=pI(t.ranges,e);return i?i.index+e-i.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,i=0;i<n.length;i++)for(var r=n[i],s=r.start,o=r.end,a=s;a<=o;a++)e.push(a);return e}};function H0(t){Q0.call(this,t,"gpos")}H0.prototype=Q0.prototype;H0.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};H0.prototype.getKerningValue=function(t,e,n){for(var i=0;i<t.length;i++)for(var r=t[i].subtables,s=0;s<r.length;s++){var o=r[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===n)return u.value1&&u.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(o.classDef1,e),p=this.getGlyphClass(o.classDef2,n),m=o.classRecords[d][p];return m.value1&&m.value1.xAdvance||0}}return 0};H0.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function Wr(t){Q0.call(this,t,"gsub")}function nq(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function p9(t,e,n){for(var i=t.subtables,r=0;r<i.length;r++){var s=i[r];if(s.substFormat===e)return s}if(n)return i.push(n),n}Wr.prototype=Q0.prototype;Wr.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Wr.prototype.getSingle=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,1),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;if(l.substFormat===1){var d=l.deltaGlyphId;for(u=0;u<c.length;u++){var p=c[u];i.push({sub:p,by:p+d})}}else{var m=l.substitute;for(u=0;u<c.length;u++)i.push({sub:c[u],by:m[u]})}}return i};Wr.prototype.getMultiple=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,2),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;for(u=0;u<c.length;u++){var d=c[u],p=l.sequences[u];i.push({sub:d,by:p})}}return i};Wr.prototype.getAlternates=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,3),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.alternateSets,d=0;d<c.length;d++)i.push({sub:c[d],by:u[d]});return i};Wr.prototype.getLigatures=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,4),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.ligatureSets,d=0;d<c.length;d++)for(var p=c[d],m=u[d],A=0;A<m.length;A++){var g=m[A];i.push({sub:[p].concat(g.components),by:g.ligGlyph})}return i};Wr.prototype.addSingle=function(t,e,n,i){var r=this.getLookupTables(n,i,t,1,!0)[0],s=p9(r,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Ct.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};Wr.prototype.addMultiple=function(t,e,n,i){Ct.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var r=this.getLookupTables(n,i,t,2,!0)[0],s=p9(r,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Ct.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};Wr.prototype.addAlternate=function(t,e,n,i){var r=this.getLookupTables(n,i,t,3,!0)[0],s=p9(r,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Ct.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};Wr.prototype.addLigature=function(t,e,n,i){var r=this.getLookupTables(n,i,t,4,!0)[0],s=r.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},r.subtables[0]=s),Ct.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},c=this.binSearch(s.coverage.glyphs,o);if(c>=0){for(var u=s.ligatureSets[c],d=0;d<u.length;d++)if(nq(u[d].components,a))return;u.push(l)}else c=-1-c,s.coverage.glyphs.splice(c,0,o),s.ligatureSets.splice(c,0,[l])};Wr.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};Wr.prototype.add=function(t,e,n,i){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,i);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,i):this.addAlternate(t,e,n,i);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,i);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,i):this.addLigature(t,e,n,i)}};function iq(){return typeof window<"u"}function rq(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),i=0;i<e.length;++i)e[i]=n[i];return e}function Cd(t,e){if(!t)throw e}function mI(t,e,n,i,r){var s;return(e&i)>0?(s=t.parseByte(),e&r||(s=-s),s=n+s):(e&r)>0?s=n:s=n+t.parseShort(),s}function lD(t,e,n){var i=new wt.Parser(e,n);t.numberOfContours=i.parseShort(),t._xMin=i.parseShort(),t._yMin=i.parseShort(),t._xMax=i.parseShort(),t._yMax=i.parseShort();var r,s;if(t.numberOfContours>0){for(var o=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)o.push(i.parseUShort());t.instructionLength=i.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(i.parseByte());var c=o[o.length-1]+1;r=[];for(var u=0;u<c;u+=1)if(s=i.parseByte(),r.push(s),(s&8)>0)for(var d=i.parseByte(),p=0;p<d;p+=1)r.push(s),u+=1;if(Ct.argument(r.length===c,"Bad flags."),o.length>0){var m=[],A;if(c>0){for(var g=0;g<c;g+=1)s=r[g],A={},A.onCurve=!!(s&1),A.lastPointOfContour=o.indexOf(g)>=0,m.push(A);for(var v=0,C=0;C<c;C+=1)s=r[C],A=m[C],A.x=mI(i,s,v,2,16),v=A.x;for(var y=0,x=0;x<c;x+=1)s=r[x],A=m[x],A.y=mI(i,s,y,4,32),y=A.y}t.points=m}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var S=!0;S;){r=i.parseUShort();var I={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(r&1)>0?(r&2)>0?(I.dx=i.parseShort(),I.dy=i.parseShort()):I.matchedPoints=[i.parseUShort(),i.parseUShort()]:(r&2)>0?(I.dx=i.parseChar(),I.dy=i.parseChar()):I.matchedPoints=[i.parseByte(),i.parseByte()],(r&8)>0?I.xScale=I.yScale=i.parseF2Dot14():(r&64)>0?(I.xScale=i.parseF2Dot14(),I.yScale=i.parseF2Dot14()):(r&128)>0&&(I.xScale=i.parseF2Dot14(),I.scale01=i.parseF2Dot14(),I.scale10=i.parseF2Dot14(),I.yScale=i.parseF2Dot14()),t.components.push(I),S=!!(r&32)}if(r&256){t.instructionLength=i.parseUShort(),t.instructions=[];for(var T=0;T<t.instructionLength;T+=1)t.instructions.push(i.parseByte())}}}function a6(t,e){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],s={x:e.xScale*r.x+e.scale01*r.y+e.dx,y:e.scale10*r.x+e.yScale*r.y+e.dy,onCurve:r.onCurve,lastPointOfContour:r.lastPointOfContour};n.push(s)}return n}function sq(t){for(var e=[],n=[],i=0;i<t.length;i+=1){var r=t[i];n.push(r),r.lastPointOfContour&&(e.push(n),n=[])}return Ct.argument(n.length===0,"There are still points left in the current contour."),e}function cD(t){var e=new hi;if(!t)return e;for(var n=sq(t),i=0;i<n.length;++i){var r=n[i],s=null,o=r[r.length-1],a=r[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var c=0;c<r.length;++c)if(s=o,o=a,a=r[(c+1)%r.length],o.onCurve)e.lineTo(o.x,o.y);else{var u=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(u={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,u.x,u.y)}e.closePath()}return e}function uD(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var i=e.components[n],r=t.get(i.glyphIndex);if(r.getPath(),r.points){var s=void 0;if(i.matchedPoints===void 0)s=a6(r.points,i);else{if(i.matchedPoints[0]>e.points.length-1||i.matchedPoints[1]>r.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[i.matchedPoints[0]],a=r.points[i.matchedPoints[1]],l={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0};a=a6([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=a6(r.points,l)}e.points=e.points.concat(s)}}return cD(e.points)}function oq(t,e,n,i){for(var r=new To.GlyphSet(i),s=0;s<n.length-1;s+=1){var o=n[s],a=n[s+1];o!==a?r.push(s,To.ttfGlyphLoader(i,s,lD,t,e+o,uD)):r.push(s,To.glyphLoader(i,s))}return r}function aq(t,e,n,i){var r=new To.GlyphSet(i);return i._push=function(s){var o=n[s],a=n[s+1];o!==a?r.push(s,To.ttfGlyphLoader(i,s,lD,t,e+o,uD)):r.push(s,To.glyphLoader(i,s))},r}function lq(t,e,n,i,r){return r.lowMemory?aq(t,e,n,i):oq(t,e,n,i)}var cq={getPath:cD,parse:lq},hD,au,fD,F8;function dD(t){this.font=t,this.getCommands=function(e){return cq.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function uq(t){return t}function pD(t){return Math.sign(t)*Math.round(Math.abs(t))}function hq(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function fq(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function dq(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function pq(t){return Math.sign(t)*Math.floor(Math.abs(t))}var mD=function(t){var e=this.srPeriod,n=this.srPhase,i=this.srThreshold,r=1;return t<0&&(t=-t,r=-1),t+=i-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*r:t*r},xo={x:1,y:0,axis:"x",distance:function(t,e,n,i){return(n?t.xo:t.x)-(i?e.xo:e.x)},interpolate:function(t,e,n,i){var r,s,o,a,l,c,u;if(!i||i===this){if(r=t.xo-e.xo,s=t.xo-n.xo,l=e.x-e.xo,c=n.x-n.xo,o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){t.x=t.xo+(l+c)/2;return}t.x=t.xo+(l*a+c*o)/u;return}if(r=i.distance(t,e,!0,!0),s=i.distance(t,n,!0,!0),l=i.distance(e,e,!1,!0),c=i.distance(n,n,!1,!0),o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){xo.setRelative(t,t,(l+c)/2,i,!0);return}xo.setRelative(t,t,(l*a+c*o)/u,i,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,i,r){if(!i||i===this){t.x=(r?e.xo:e.x)+n;return}var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+n*i.x,l=o+n*i.y;t.x=a+(t.y-l)/i.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},fa={x:0,y:1,axis:"y",distance:function(t,e,n,i){return(n?t.yo:t.y)-(i?e.yo:e.y)},interpolate:function(t,e,n,i){var r,s,o,a,l,c,u;if(!i||i===this){if(r=t.yo-e.yo,s=t.yo-n.yo,l=e.y-e.yo,c=n.y-n.yo,o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){t.y=t.yo+(l+c)/2;return}t.y=t.yo+(l*a+c*o)/u;return}if(r=i.distance(t,e,!0,!0),s=i.distance(t,n,!0,!0),l=i.distance(e,e,!1,!0),c=i.distance(n,n,!1,!0),o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){fa.setRelative(t,t,(l+c)/2,i,!0);return}fa.setRelative(t,t,(l*a+c*o)/u,i,!0)},normalSlope:0,setRelative:function(t,e,n,i,r){if(!i||i===this){t.y=(r?e.yo:e.y)+n;return}var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+n*i.x,l=o+n*i.y;t.y=l+i.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(xo);Object.freeze(fa);function z0(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}z0.prototype.distance=function(t,e,n,i){return this.x*xo.distance(t,e,n,i)+this.y*fa.distance(t,e,n,i)};z0.prototype.interpolate=function(t,e,n,i){var r,s,o,a,l,c,u;if(o=i.distance(t,e,!0,!0),a=i.distance(t,n,!0,!0),r=i.distance(e,e,!1,!0),s=i.distance(n,n,!1,!0),l=Math.abs(o),c=Math.abs(a),u=l+c,u===0){this.setRelative(t,t,(r+s)/2,i,!0);return}this.setRelative(t,t,(r*c+s*l)/u,i,!0)};z0.prototype.setRelative=function(t,e,n,i,r){i=i||this;var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+n*i.x,l=o+n*i.y,c=i.normalSlope,u=this.slope,d=t.x,p=t.y;t.x=(u*d-c*a+l-p)/(u-c),t.y=u*(t.x-d)+p};z0.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function V0(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?xo:t===0&&e===1?fa:new z0(t,e)}function ma(t,e,n,i){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}ma.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};ma.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var t0=Object.freeze(new ma(0,0)),mq={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function hl(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xo,this.round=pD}}dD.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,i=this._prepState;if(!i||i.ppem!==e){var r=this._fpgmState;if(!r){hl.prototype=mq,r=this._fpgmState=new hl("fpgm",n.tables.fpgm),r.funcs=[],r.font=n,me.DEBUG&&(console.log("---EXEC FPGM---"),r.step=-1);try{au(r)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}hl.prototype=r,i=this._prepState=new hl("prep",n.tables.prep),i.ppem=e;var s=n.tables.cvt;if(s)for(var o=i.cvt=new Array(s.length),a=e/n.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else i.cvt=[];me.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{au(i)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return fD(t,i)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};fD=function(t,e){var n=e.ppem/e.font.unitsPerEm,i=n,r=t.components,s,o,a;if(hl.prototype=e,!r)a=new hl("glyf",t.instructions),me.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),F8(t,a,n,i),o=a.gZone;else{var l=e.font;o=[],s=[];for(var c=0;c<r.length;c++){var u=r[c],d=l.glyphs.get(u.glyphIndex);a=new hl("glyf",d.instructions),me.DEBUG&&(console.log("---EXEC COMP "+c+"---"),a.step=-1),F8(d,a,n,i);for(var p=Math.round(u.dx*n),m=Math.round(u.dy*i),A=a.gZone,g=a.contours,v=0;v<A.length;v++){var C=A[v];C.xTouched=C.yTouched=!1,C.xo=C.x=C.x+p,C.yo=C.y=C.y+m}var y=o.length;o.push.apply(o,A);for(var x=0;x<g.length;x++)s.push(g[x]+y)}t.instructions&&!a.inhibitGridFit&&(a=new hl("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new ma(0,0),new ma(Math.round(t.advanceWidth*n),0)),me.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),au(a),o.length-=2)}return o};F8=function(t,e,n,i){for(var r=t.points||[],s=r.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,c=0;c<s;c++)l=r[c],o[c]=new ma(l.x*n,l.y*i,l.lastPointOfContour,l.onCurve);for(var u,d,p=0;p<s;p++)l=o[p],u||(u=l,a.push(p)),l.lastPointOfContour?(l.nextPointOnContour=u,u.prevPointOnContour=l,u=void 0):(d=o[p+1],l.nextPointOnContour=d,d.prevPointOnContour=l);if(!e.inhibitGridFit){if(me.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var m=0;m<s;m++)console.log(m,o[m].x,o[m].y)}if(o.push(new ma(0,0),new ma(Math.round(t.advanceWidth*n),0)),au(e),o.length-=2,me.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var A=0;A<s;A++)console.log(A,o[A].x,o[A].y)}}};au=function(t){var e=t.prog;if(e){var n=e.length,i;for(t.ip=0;t.ip<n;t.ip++){if(me.DEBUG&&t.step++,i=hD[e[t.ip]],!i)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));i(t)}}};function t1(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new ma(0,0)}function AD(t,e){var n=t.prog,i=t.ip,r=1,s;do if(s=n[++i],s===88)r++;else if(s===89)r--;else if(s===64)i+=n[i+1]+1;else if(s===65)i+=2*n[i+1]+1;else if(s>=176&&s<=183)i+=s-176+1;else if(s>=184&&s<=191)i+=(s-184+1)*2;else if(e&&r===1&&s===27)break;while(r>0);t.ip=i}function AI(t,e){me.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function gI(t,e){me.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function vI(t,e){me.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function yI(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z2[i],o=e.z1[r];me.DEBUG&&console.log("SPVTL["+t+"]",i,r);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=V0(a,l)}function xI(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z2[i],o=e.z1[r];me.DEBUG&&console.log("SFVTL["+t+"]",i,r);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=V0(a,l)}function Aq(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"SPVFS[]",n,i),t.pv=t.dpv=V0(i,n)}function gq(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"SPVFS[]",n,i),t.fv=V0(i,n)}function vq(t){var e=t.stack,n=t.pv;me.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function yq(t){var e=t.stack,n=t.fv;me.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function xq(t){t.fv=t.pv,me.DEBUG&&console.log(t.step,"SFVTPV[]")}function Cq(t){var e=t.stack,n=e.pop(),i=e.pop(),r=e.pop(),s=e.pop(),o=e.pop(),a=t.z0,l=t.z1,c=a[n],u=a[i],d=l[r],p=l[s],m=t.z2[o];me.DEBUG&&console.log("ISECT[], ",n,i,r,s,o);var A=c.x,g=c.y,v=u.x,C=u.y,y=d.x,x=d.y,S=p.x,I=p.y,T=(A-v)*(x-I)-(g-C)*(y-S),B=A*C-g*v,M=y*I-x*S;m.x=(B*(y-S)-M*(A-v))/T,m.y=(B*(x-I)-M*(g-C))/T}function Eq(t){t.rp0=t.stack.pop(),me.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function Sq(t){t.rp1=t.stack.pop(),me.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function wq(t){t.rp2=t.stack.pop(),me.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function Iq(t){var e=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||t1(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function _q(t){var e=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||t1(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Mq(t){var e=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||t1(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Tq(t){var e=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||t1(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Bq(t){t.loop=t.stack.pop(),me.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function bq(t){me.DEBUG&&console.log(t.step,"RTG[]"),t.round=pD}function Rq(t){me.DEBUG&&console.log(t.step,"RTHG[]"),t.round=fq}function Pq(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function Dq(t){me.DEBUG&&console.log(t.step,"ELSE[]"),AD(t,!1)}function Lq(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function Fq(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function kq(t){var e=t.stack;me.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function l6(t){me.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function Nq(t){me.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function Oq(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(i)}function Uq(t){var e=t.stack;me.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function Gq(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"LOOPCALL[]",n,i);var r=t.ip,s=t.prog;t.prog=t.funcs[n];for(var o=0;o<i;o++)au(t),me.DEBUG&&console.log(++t.step,o+1<i?"next loopcall":"done loopcall",o);t.ip=r,t.prog=s}function Qq(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,i=t.prog;t.prog=t.funcs[e],au(t),t.ip=n,t.prog=i,me.DEBUG&&console.log(++t.step,"returning from",e)}function Hq(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function zq(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function Vq(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,i=t.ip,r=e.pop(),s=i;for(me.DEBUG&&console.log(t.step,"FDEF[]",r);n[++i]!==45;);t.ip=i,t.funcs[r]=n.slice(s+1,i)}function CI(t,e){var n=e.stack.pop(),i=e.z0[n],r=e.fv,s=e.pv;me.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var o=s.distance(i,t0);t&&(o=e.round(o)),r.setRelative(i,t0,o,s),r.touch(i),e.rp0=e.rp1=n}function EI(t,e){var n=e.z2,i=n.length-2,r,s,o;me.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<i;a++)r=n[a],!t.touched(r)&&(s=r.prevTouched(t),s!==r&&(o=r.nextTouched(t),s===o&&t.setRelative(r,r,t.distance(s,s,!1,!0),t,!0),t.interpolate(r,s,o,t)))}function SI(t,e){for(var n=e.stack,i=t?e.rp1:e.rp2,r=(t?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var c=n.pop(),u=l[c],d=o.distance(r,r,!1,!0);s.setRelative(u,u,d,o),s.touch(u),me.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",c)}e.loop=1}function wI(t,e){var n=e.stack,i=t?e.rp1:e.rp2,r=(t?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=n.pop(),l=e.z2[e.contours[a]],c=l;me.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var u=o.distance(r,r,!1,!0);do c!==r&&s.setRelative(c,c,u,o),c=c.nextPointOnContour;while(c!==l)}function II(t,e){var n=e.stack,i=t?e.rp1:e.rp2,r=(t?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=n.pop();me.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,u=o.distance(r,r,!1,!0),d=l.length-2,p=0;p<d;p++)c=l[p],s.setRelative(c,c,u,o)}function Wq(t){for(var e=t.stack,n=t.loop,i=t.fv,r=e.pop()/64,s=t.z2;n--;){var o=e.pop(),a=s[o];me.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",o,r),i.setRelative(a,a,r),i.touch(a)}t.loop=1}function Jq(t){for(var e=t.stack,n=t.rp1,i=t.rp2,r=t.loop,s=t.z0[n],o=t.z1[i],a=t.fv,l=t.dpv,c=t.z2;r--;){var u=e.pop(),d=c[u];me.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-r)+": ":"")+"IP[]",u,n,"<->",i),a.interpolate(d,s,o,l),a.touch(d)}t.loop=1}function _I(t,e){var n=e.stack,i=n.pop()/64,r=n.pop(),s=e.z1[r],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,i,l),a.touch(s),me.DEBUG&&console.log(e.step,"MSIRP["+t+"]",i,r),e.rp1=e.rp0,e.rp2=r,t&&(e.rp0=r)}function jq(t){for(var e=t.stack,n=t.rp0,i=t.z0[n],r=t.loop,s=t.fv,o=t.pv,a=t.z1;r--;){var l=e.pop(),c=a[l];me.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-r)+": ":"")+"ALIGNRP[]",l),s.setRelative(c,i,0,o),s.touch(c)}t.loop=1}function Kq(t){me.DEBUG&&console.log(t.step,"RTDG[]"),t.round=hq}function MI(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z0[r],o=e.fv,a=e.pv,l=e.cvt[i];me.DEBUG&&console.log(e.step,"MIAP["+t+"]",i,"(",l,")",r);var c=a.distance(s,t0);t&&(Math.abs(c-l)<e.cvCutIn&&(c=l),c=e.round(c)),o.setRelative(s,t0,c,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=r}function Yq(t){var e=t.prog,n=t.ip,i=t.stack,r=e[++n];me.DEBUG&&console.log(t.step,"NPUSHB[]",r);for(var s=0;s<r;s++)i.push(e[++n]);t.ip=n}function Xq(t){var e=t.ip,n=t.prog,i=t.stack,r=n[++e];me.DEBUG&&console.log(t.step,"NPUSHW[]",r);for(var s=0;s<r;s++){var o=n[++e]<<8|n[++e];o&32768&&(o=-((o^65535)+1)),i.push(o)}t.ip=e}function qq(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var i=e.pop(),r=e.pop();me.DEBUG&&console.log(t.step,"WS",i,r),n[r]=i}function Zq(t){var e=t.stack,n=t.store,i=e.pop();me.DEBUG&&console.log(t.step,"RS",i);var r=n&&n[i]||0;e.push(r)}function $q(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"WCVTP",n,i),t.cvt[i]=n/64}function eZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function TI(t,e){var n=e.stack,i=n.pop(),r=e.z2[i];me.DEBUG&&console.log(e.step,"GC["+t+"]",i),n.push(e.dpv.distance(r,t0,t,!1)*64)}function BI(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z1[i],o=e.z0[r],a=e.dpv.distance(o,s,t,t);me.DEBUG&&console.log(e.step,"MD["+t+"]",i,r,"->",a),e.stack.push(Math.round(a*64))}function tZ(t){me.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function nZ(t){me.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function iZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"LT[]",n,i),e.push(i<n?1:0)}function rZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"LTEQ[]",n,i),e.push(i<=n?1:0)}function sZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"GT[]",n,i),e.push(i>n?1:0)}function oZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"GTEQ[]",n,i),e.push(i>=n?1:0)}function aZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"EQ[]",n,i),e.push(n===i?1:0)}function lZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"NEQ[]",n,i),e.push(n!==i?1:0)}function cZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function uZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function hZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"IF[]",e),e||(AD(t,!0),me.DEBUG&&console.log(t.step,"EIF[]"))}function fZ(t){me.DEBUG&&console.log(t.step,"EIF[]")}function dZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"AND[]",n,i),e.push(n&&i?1:0)}function pZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"OR[]",n,i),e.push(n||i?1:0)}function mZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function c6(t,e){var n=e.stack,i=n.pop(),r=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,c=e.z0;me.DEBUG&&console.log(e.step,"DELTAP["+t+"]",i,n);for(var u=0;u<i;u++){var d=n.pop(),p=n.pop(),m=a+((p&240)>>4);if(m===o){var A=(p&15)-8;A>=0&&A++,me.DEBUG&&console.log(e.step,"DELTAPFIX",d,"by",A*l);var g=c[d];r.setRelative(g,g,A*l,s)}}}function AZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function gZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function vZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"ADD[]",n,i),e.push(i+n)}function yZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"SUB[]",n,i),e.push(i-n)}function xZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"DIV[]",n,i),e.push(i*64/n)}function CZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"MUL[]",n,i),e.push(i*n/64)}function EZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function SZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function wZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function IZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function fA(t,e){var n=e.stack,i=n.pop();me.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(i/64)*64)}function _Z(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"WCVTF[]",n,i),t.cvt[i]=n*t.ppem/t.font.unitsPerEm}function u6(t,e){var n=e.stack,i=n.pop(),r=e.ppem,s=e.deltaBase+(t-1)*16,o=e.deltaShift;me.DEBUG&&console.log(e.step,"DELTAC["+t+"]",i,n);for(var a=0;a<i;a++){var l=n.pop(),c=n.pop(),u=s+((c&240)>>4);if(u===r){var d=(c&15)-8;d>=0&&d++;var p=d*o;me.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",p),e.cvt[l]+=p}}}function MZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=mD;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function TZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=mD;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function BZ(t){me.DEBUG&&console.log(t.step,"ROFF[]"),t.round=uq}function bZ(t){me.DEBUG&&console.log(t.step,"RUTG[]"),t.round=dq}function RZ(t){me.DEBUG&&console.log(t.step,"RDTG[]"),t.round=pq}function PZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function bI(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z2[i],o=e.z1[r];me.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",i,r);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=V0(a,l)}function DZ(t){var e=t.stack,n=e.pop(),i=0;me.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(i=35),n&32&&(i|=4096),e.push(i)}function LZ(t){var e=t.stack,n=e.pop(),i=e.pop(),r=e.pop();me.DEBUG&&console.log(t.step,"ROLL[]"),e.push(i),e.push(n),e.push(r)}function FZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"MAX[]",n,i),e.push(Math.max(i,n))}function kZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"MIN[]",n,i),e.push(Math.min(i,n))}function NZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function OZ(t){var e=t.stack.pop(),n=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Ja(t,e){var n=e.stack,i=e.prog,r=e.ip;me.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var s=0;s<t;s++)n.push(i[++r]);e.ip=r}function ja(t,e){var n=e.ip,i=e.prog,r=e.stack;me.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var s=0;s<t;s++){var o=i[++n]<<8|i[++n];o&32768&&(o=-((o^65535)+1)),r.push(o)}e.ip=n}function qe(t,e,n,i,r,s){var o=s.stack,a=t&&o.pop(),l=o.pop(),c=s.rp0,u=s.z0[c],d=s.z1[l],p=s.minDis,m=s.fv,A=s.dpv,g,v,C,y;v=g=A.distance(d,u,!0,!0),C=v>=0?1:-1,v=Math.abs(v),t&&(y=s.cvt[a],i&&Math.abs(v-y)<s.cvCutIn&&(v=y)),n&&v<p&&(v=p),i&&(v=s.round(v)),m.setRelative(d,u,C*v,A),m.touch(d),me.DEBUG&&console.log(s.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(i?"R":"_")+(r===0?"Gr":r===1?"Bl":r===2?"Wh":"")+"]",t?a+"("+s.cvt[a]+","+y+")":"",l,"(d =",g,"->",C*v,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}hD=[AI.bind(void 0,fa),AI.bind(void 0,xo),gI.bind(void 0,fa),gI.bind(void 0,xo),vI.bind(void 0,fa),vI.bind(void 0,xo),yI.bind(void 0,0),yI.bind(void 0,1),xI.bind(void 0,0),xI.bind(void 0,1),Aq,gq,vq,yq,xq,Cq,Eq,Sq,wq,Iq,_q,Mq,Tq,Bq,bq,Rq,Pq,Dq,Lq,Fq,void 0,void 0,kq,l6,Nq,Oq,Uq,Hq,zq,void 0,void 0,void 0,Gq,Qq,Vq,void 0,CI.bind(void 0,0),CI.bind(void 0,1),EI.bind(void 0,fa),EI.bind(void 0,xo),SI.bind(void 0,0),SI.bind(void 0,1),wI.bind(void 0,0),wI.bind(void 0,1),II.bind(void 0,0),II.bind(void 0,1),Wq,Jq,_I.bind(void 0,0),_I.bind(void 0,1),jq,Kq,MI.bind(void 0,0),MI.bind(void 0,1),Yq,Xq,qq,Zq,$q,eZ,TI.bind(void 0,0),TI.bind(void 0,1),void 0,BI.bind(void 0,0),BI.bind(void 0,1),tZ,void 0,nZ,void 0,void 0,iZ,rZ,sZ,oZ,aZ,lZ,cZ,uZ,hZ,fZ,dZ,pZ,mZ,c6.bind(void 0,1),AZ,gZ,vZ,yZ,xZ,CZ,EZ,SZ,wZ,IZ,fA.bind(void 0,0),fA.bind(void 0,1),fA.bind(void 0,2),fA.bind(void 0,3),void 0,void 0,void 0,void 0,_Z,c6.bind(void 0,2),c6.bind(void 0,3),u6.bind(void 0,1),u6.bind(void 0,2),u6.bind(void 0,3),MZ,TZ,void 0,void 0,BZ,void 0,bZ,RZ,l6,l6,void 0,void 0,void 0,void 0,void 0,PZ,bI.bind(void 0,0),bI.bind(void 0,1),DZ,void 0,LZ,FZ,kZ,NZ,OZ,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Ja.bind(void 0,1),Ja.bind(void 0,2),Ja.bind(void 0,3),Ja.bind(void 0,4),Ja.bind(void 0,5),Ja.bind(void 0,6),Ja.bind(void 0,7),Ja.bind(void 0,8),ja.bind(void 0,1),ja.bind(void 0,2),ja.bind(void 0,3),ja.bind(void 0,4),ja.bind(void 0,5),ja.bind(void 0,6),ja.bind(void 0,7),ja.bind(void 0,8),qe.bind(void 0,0,0,0,0,0),qe.bind(void 0,0,0,0,0,1),qe.bind(void 0,0,0,0,0,2),qe.bind(void 0,0,0,0,0,3),qe.bind(void 0,0,0,0,1,0),qe.bind(void 0,0,0,0,1,1),qe.bind(void 0,0,0,0,1,2),qe.bind(void 0,0,0,0,1,3),qe.bind(void 0,0,0,1,0,0),qe.bind(void 0,0,0,1,0,1),qe.bind(void 0,0,0,1,0,2),qe.bind(void 0,0,0,1,0,3),qe.bind(void 0,0,0,1,1,0),qe.bind(void 0,0,0,1,1,1),qe.bind(void 0,0,0,1,1,2),qe.bind(void 0,0,0,1,1,3),qe.bind(void 0,0,1,0,0,0),qe.bind(void 0,0,1,0,0,1),qe.bind(void 0,0,1,0,0,2),qe.bind(void 0,0,1,0,0,3),qe.bind(void 0,0,1,0,1,0),qe.bind(void 0,0,1,0,1,1),qe.bind(void 0,0,1,0,1,2),qe.bind(void 0,0,1,0,1,3),qe.bind(void 0,0,1,1,0,0),qe.bind(void 0,0,1,1,0,1),qe.bind(void 0,0,1,1,0,2),qe.bind(void 0,0,1,1,0,3),qe.bind(void 0,0,1,1,1,0),qe.bind(void 0,0,1,1,1,1),qe.bind(void 0,0,1,1,1,2),qe.bind(void 0,0,1,1,1,3),qe.bind(void 0,1,0,0,0,0),qe.bind(void 0,1,0,0,0,1),qe.bind(void 0,1,0,0,0,2),qe.bind(void 0,1,0,0,0,3),qe.bind(void 0,1,0,0,1,0),qe.bind(void 0,1,0,0,1,1),qe.bind(void 0,1,0,0,1,2),qe.bind(void 0,1,0,0,1,3),qe.bind(void 0,1,0,1,0,0),qe.bind(void 0,1,0,1,0,1),qe.bind(void 0,1,0,1,0,2),qe.bind(void 0,1,0,1,0,3),qe.bind(void 0,1,0,1,1,0),qe.bind(void 0,1,0,1,1,1),qe.bind(void 0,1,0,1,1,2),qe.bind(void 0,1,0,1,1,3),qe.bind(void 0,1,1,0,0,0),qe.bind(void 0,1,1,0,0,1),qe.bind(void 0,1,1,0,0,2),qe.bind(void 0,1,1,0,0,3),qe.bind(void 0,1,1,0,1,0),qe.bind(void 0,1,1,0,1,1),qe.bind(void 0,1,1,0,1,2),qe.bind(void 0,1,1,0,1,3),qe.bind(void 0,1,1,1,0,0),qe.bind(void 0,1,1,1,0,1),qe.bind(void 0,1,1,1,0,2),qe.bind(void 0,1,1,1,0,3),qe.bind(void 0,1,1,1,1,0),qe.bind(void 0,1,1,1,1,1),qe.bind(void 0,1,1,1,1,2),qe.bind(void 0,1,1,1,1,3)];function Mf(t){this.char=t,this.state={},this.activeState=null}function m9(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function UZ(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function js(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function n1(t){this.eventId=t,this.subscribers=[]}function GZ(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(r){Object.defineProperty(e.events,r,{value:new n1(r)})}),t&&n.forEach(function(r){var s=t[r];typeof s=="function"&&e.events[r].subscribe(s)});var i=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];i.forEach(function(r){e.events[r].subscribe(e.updateContextsRanges)})}function Qn(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],GZ.call(this,t)}Mf.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};Mf.prototype.getState=function(t){return this.state[t]||null};Qn.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};Qn.prototype.composeRUD=function(t){var e=this,n=!0,i=t.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(n))}),r=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(i.every(r))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:i.filter(r)};this.dispatch("composeRUD",[i.filter(function(s){return!r(s)})])};Qn.prototype.replaceRange=function(t,e,n,i){e=e!==null?e:this.tokens.length;var r=n.every(function(o){return o instanceof Mf});if(!isNaN(t)&&this.inboundIndex(t)&&r){var s=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return i||this.dispatch("replaceToken",[t,e,n]),[s,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Qn.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof Mf){var i=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[i[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};Qn.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var i=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[i,t,e]),i};Qn.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};Qn.prototype.insertToken=function(t,e,n){var i=t.every(function(r){return r instanceof Mf});return i?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};Qn.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(i,r){var s=[i,r],o=e===null||e.apply(this,s)===!0,a=[i,r];if(o){var l=n.apply(this,a);i.setState(t,l)}}),this.registeredModifiers.push(t)};n1.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};n1.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};js.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};js.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};Qn.prototype.rangeToText=function(t){if(t instanceof m9)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};Qn.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};Qn.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};Qn.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};Qn.prototype.dispatch=function(t,e){var n=this,i=this.events[t];i instanceof n1&&i.subscribers.forEach(function(r){r.apply(n,e||[])})};Qn.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var i=new UZ(t,e,n);return this.registeredContexts[t]=i,this.contextCheckers.push(i),i};Qn.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};Qn.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};Qn.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};Qn.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(i){return i.char}),e=0;e<t.length;e++){var n=new js(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Qn.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,i=new m9(n,t,e),r=this.getContext(e).ranges;return i.rangeId=e+"."+r.length,r.push(i),this.getContext(e).openRange=null,i};Qn.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(i){var r=i.contextName,s=e.getContext(r).openRange;if(!s&&i.checkStart(t)&&(s=new m9(n,null,r),e.getContext(r).openRange=s,e.dispatch("contextStart",[r,n])),s&&i.checkEnd(t)){var o=n-s.startIndex+1,a=e.setEndOffset(o,r);e.dispatch("contextEnd",[r,a])}})};Qn.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var i=e[n],r=new js(e,n);this.dispatch("next",[r]),this.runContextCheck(r);var s=new Mf(i);this.tokens.push(s),this.dispatch("newToken",[s,r])}return this.dispatch("end",[this.tokens]),this.tokens};function Sl(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function gD(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Dl(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function YA(t){return/[A-z]/.test(t)}function QZ(t){return/\s/.test(t)}function Jr(t){this.font=t,this.features={}}function Pc(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function W0(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,i=0;i<n.length;i++){var r=n[i];if(t>=r.start&&t<=r.end){var s=t-r.start;return r.index+s}}break;default:return-1}return-1}function HZ(t,e){var n=W0(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function zZ(t,e){var n=W0(t,e.coverage);return n===-1?null:e.substitute[n]}function h6(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i],s=e.current;s=Array.isArray(s)?s[0]:s;var o=W0(s,r);o!==-1&&n.push(o)}return n.length!==t.length?-1:n}function VZ(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var i=h6(e.inputCoverage,t);if(i===-1)return[];var r=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=t.lookahead.slice(r);s.length&&Dl(s[0].char);)s.shift();var o=new js(s,0),a=h6(e.lookaheadCoverage,o),l=[].concat(t.backtrack);for(l.reverse();l.length&&Dl(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var c=new js(l,0),u=h6(e.backtrackCoverage,c),d=i.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&u.length===e.backtrackCoverage.length,p=[];if(d)for(var m=0;m<e.lookupRecords.length;m++)for(var A=e.lookupRecords[m],g=A.lookupListIndex,v=this.getLookupByIndex(g),C=0;C<v.subtables.length;C++){var y=v.subtables[C],x=this.getLookupMethod(v,y),S=this.getSubstitutionType(v,y);if(S==="12")for(var I=0;I<i.length;I++){var T=t.get(I),B=x(T);B&&p.push(B)}}return p}function WZ(t,e){var n=t.current,i=W0(n,e.coverage);if(i===-1)return null;for(var r,s=e.ligatureSets[i],o=0;o<s.length;o++){r=s[o];for(var a=0;a<r.components.length;a++){var l=t.lookahead[a],c=r.components[a];if(l!==c)break;if(a===r.components.length-1)return r}}return null}function JZ(t,e){var n=W0(t,e.coverage);return n===-1?null:e.sequences[n]}Jr.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};Jr.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,i=0;i<n.length;i++){var r=n[i];if(r.tag===t&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var s=r.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};Jr.prototype.mapTagsToFeatures=function(t,e){for(var n={},i=0;i<t.length;i++){var r=t[i].tag,s=t[i].feature;n[r]=s}this.features[e].tags=n};Jr.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var i=this.font.tables.gsub;return e=n.map(function(r){return i.features[r]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};Jr.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),i=e.substFormat.toString();return n+i};Jr.prototype.getLookupMethod=function(t,e){var n=this,i=this.getSubstitutionType(t,e);switch(i){case"11":return function(r){return HZ.apply(n,[r,e])};case"12":return function(r){return zZ.apply(n,[r,e])};case"63":return function(r){return VZ.apply(n,[r,e])};case"41":return function(r){return WZ.apply(n,[r,e])};case"21":return function(r){return JZ.apply(n,[r,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};Jr.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,i=this.getFeature({tag:t.tag,script:t.script});if(!i)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var r=this.getFeatureLookups(i),s=[].concat(e.context),o=0;o<r.length;o++)for(var a=r[o],l=this.getLookupSubtables(a),c=0;c<l.length;c++){var u=l[c],d=this.getSubstitutionType(a,u),p=this.getLookupMethod(a,u),m=void 0;switch(d){case"11":m=p(e.current),m&&s.splice(n,1,new Pc({id:11,tag:t.tag,substitution:m}));break;case"12":m=p(e.current),m&&s.splice(n,1,new Pc({id:12,tag:t.tag,substitution:m}));break;case"63":m=p(e),Array.isArray(m)&&m.length&&s.splice(n,1,new Pc({id:63,tag:t.tag,substitution:m}));break;case"41":m=p(e),m&&s.splice(n,1,new Pc({id:41,tag:t.tag,substitution:m}));break;case"21":m=p(e.current),m&&s.splice(n,1,new Pc({id:21,tag:t.tag,substitution:m}));break}e=new js(s,n),!(Array.isArray(m)&&!m.length)&&(m=null)}return s.length?s:null};Jr.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(i){return i.tag===t.tag});return e&&n};Jr.prototype.getLookupSubtables=function(t){return t.subtables||null};Jr.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};Jr.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};Jr.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function jZ(t){var e=t.current,n=t.get(-1);return n===null&&Sl(e)||!Sl(n)&&Sl(e)}function KZ(t){var e=t.get(1);return e===null||!Sl(e)}var YZ={startCheck:jZ,endCheck:KZ};function XZ(t){var e=t.current,n=t.get(-1);return(Sl(e)||Dl(e))&&!Sl(n)}function qZ(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!Sl(e)&&!Dl(e)):var n=QZ(e);if(!n)return!0;if(n){var i=!1;if(i=t.lookahead.some(function(r){return Sl(r)||Dl(r)}),!i)return!0}break;default:return!1}}var ZZ={startCheck:XZ,endCheck:qZ};function $Z(t,e,n){e[n].setState(t.tag,t.substitution)}function e$(t,e,n){e[n].setState(t.tag,t.substitution)}function t$(t,e,n){t.substitution.forEach(function(i,r){var s=e[n+r];s.setState(t.tag,i)})}function n$(t,e,n){var i=e[n];i.setState(t.tag,t.substitution.ligGlyph);for(var r=t.substitution.components.length,s=0;s<r;s++)i=e[n+s+1],i.setState("deleted",!0)}var RI={11:$Z,12:e$,63:t$,41:n$};function A9(t,e,n){t instanceof Pc&&RI[t.id]&&RI[t.id](t,e,n)}function i$(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var i=e[n],r=gD(i),s=Dl(i);if(!r&&!s)return!0;if(r)return!1}return!1}function r$(t){if(gD(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],i=Dl(n);if(!i)return!0}return!1}function s$(t){var e=this,n="arab",i=this.featuresTags[n],r=this.tokenizer.getRangeTokens(t);if(r.length!==1){var s=new js(r.map(function(a){return a.getState("glyphIndex")}),0),o=new js(r.map(function(a){return a.char}),0);r.forEach(function(a,l){if(!Dl(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var c=0;i$(o)&&(c|=1),r$(o)&&(c|=2);var u;switch(c){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi";break}if(i.indexOf(u)!==-1){var d=e.query.lookupFeature({tag:u,script:n,contextParams:s});if(d instanceof Error)return console.info(d.message);d.forEach(function(p,m){p instanceof Pc&&(A9(p,r,m),s.context[m]=p.substitution)})}}})}}function PI(t,e){var n=t.map(function(i){return i.activeState.value});return new js(n,e||0)}function o$(t){var e=this,n="arab",i=this.tokenizer.getRangeTokens(t),r=PI(i);r.context.forEach(function(s,o){r.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:r});a.length&&(a.forEach(function(l){return A9(l,i,o)}),r=PI(i))})}function a$(t){var e=t.current,n=t.get(-1);return n===null&&YA(e)||!YA(n)&&YA(e)}function l$(t){var e=t.get(1);return e===null||!YA(e)}var c$={startCheck:a$,endCheck:l$};function DI(t,e){var n=t.map(function(i){return i.activeState.value});return new js(n,e||0)}function u$(t){var e=this,n="latn",i=this.tokenizer.getRangeTokens(t),r=DI(i);r.context.forEach(function(s,o){r.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:r});a.length&&(a.forEach(function(l){return A9(l,i,o)}),r=DI(i))})}function to(t){this.baseDir=t||"ltr",this.tokenizer=new Qn,this.featuresTags={}}to.prototype.setText=function(t){this.text=t};to.prototype.contextChecks={latinWordCheck:c$,arabicWordCheck:YZ,arabicSentenceCheck:ZZ};function f6(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function h$(){return f6.call(this,"latinWord"),f6.call(this,"arabicWord"),f6.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function f$(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var i=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,i.reverse())})}to.prototype.registerFeatures=function(t,e){var n=this,i=e.filter(function(r){return n.query.supports({script:t,tag:r})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(i):this.featuresTags[t]=i};to.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Jr(t));for(var n=0;n<e.length;n++){var i=e[n];this.query.supports({script:i.script})&&this.registerFeatures(i.script,i.tags)}};to.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function g9(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function d$(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){g9.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(i){s$.call(t,i)})}}function p$(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){g9.call(this);var i=this.tokenizer.getContextRanges("arabicWord");i.forEach(function(r){o$.call(t,r)})}}}function m$(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){g9.call(this);var i=this.tokenizer.getContextRanges("latinWord");i.forEach(function(r){u$.call(t,r)})}}}to.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};to.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(d$.call(this),p$.call(this)),this.checkContextReady("latinWord")&&m$.call(this),this.checkContextReady("arabicSentence")&&f$.call(this)};to.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),h$.call(this),this.applyFeaturesToContexts())};to.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};to.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var i=this.tokenizer.tokens[n];if(!i.state.deleted){var r=i.activeState.value;e.push(Array.isArray(r)?r[0]:r)}}return e};function pn(t){t=t||{},t.tables=t.tables||{},t.empty||(Cd(t.familyName,"When creating a new Font object, familyName is required."),Cd(t.styleName,"When creating a new Font object, styleName is required."),Cd(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Cd(t.ascender,"When creating a new Font object, ascender is required."),Cd(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new To.GlyphSet(this,t.glyphs||[]),this.encoding=new KP(this),this.position=new H0(this),this.substitution=new Wr(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new dD(this)}})}pn.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};pn.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};pn.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};pn.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};pn.prototype.stringToGlyphs=function(t,e){var n=this,i=new to,r=function(d){return n.charToGlyphIndex(d.char)};i.registerModifier("glyphIndex",null,r);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;i.applyFeatures(this,s);for(var o=i.getTextGlyphs(t),a=o.length,l=new Array(a),c=this.glyphs.get(0),u=0;u<a;u+=1)l[u]=this.glyphs.get(o[u])||c;return l};pn.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};pn.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};pn.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};pn.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};pn.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};pn.prototype.forEachGlyph=function(t,e,n,i,r,s){e=e!==void 0?e:0,n=n!==void 0?n:0,i=i!==void 0?i:72,r=Object.assign({},this.defaultRenderOptions,r);var o=1/this.unitsPerEm*i,a=this.stringToGlyphs(t,r),l;if(r.kerning){var c=r.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(c,r.language)}for(var u=0;u<a.length;u+=1){var d=a[u];if(s.call(this,d,e,n,i,r),d.advanceWidth&&(e+=d.advanceWidth*o),r.kerning&&u<a.length-1){var p=l?this.position.getKerningValue(l,d.index,a[u+1].index):this.getKerningValue(d,a[u+1]);e+=p*o}r.letterSpacing?e+=r.letterSpacing*i:r.tracking&&(e+=r.tracking/1e3*i)}return e};pn.prototype.getPath=function(t,e,n,i,r){var s=new hi;return this.forEachGlyph(t,e,n,i,r,function(o,a,l,c){var u=o.getPath(a,l,c,r,this);s.extend(u)}),s};pn.prototype.getPaths=function(t,e,n,i,r){var s=[];return this.forEachGlyph(t,e,n,i,r,function(o,a,l,c){var u=o.getPath(a,l,c,r,this);s.push(u)}),s};pn.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};pn.prototype.draw=function(t,e,n,i,r,s){this.getPath(e,n,i,r,s).draw(t)};pn.prototype.drawPoints=function(t,e,n,i,r,s){this.forEachGlyph(e,n,i,r,s,function(o,a,l,c){o.drawPoints(t,a,l,c)})};pn.prototype.drawMetrics=function(t,e,n,i,r,s){this.forEachGlyph(e,n,i,r,s,function(o,a,l,c){o.drawMetrics(t,a,l,c)})};pn.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};pn.prototype.validate=function(){var t=this;function e(i,r){}function n(i){var r=t.getEnglishName(i);r&&r.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};pn.prototype.toTables=function(){return tq.fontToTable(this)};pn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};pn.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),i=new Uint8Array(n),r=0;r<e.length;r++)i[r]=e[r];return n};pn.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var i=this.toArrayBuffer();if(iq())if(window.URL=window.URL||window.webkitURL,window.URL){var r=new DataView(i),s=new Blob([r],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),c=rq(i);l.writeFileSync(t,c)}};pn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};pn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};pn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ta=new Array(10);Ta[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(fe.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(fe.coverage),values:this.parseValueRecordList()};Ct.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Ta[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();Ct.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var i=this.parsePointer(fe.coverage),r=this.parseUShort(),s=this.parseUShort();if(n===1)return{posFormat:n,coverage:i,valueFormat1:r,valueFormat2:s,pairSets:this.parseList(fe.pointer(fe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(s)}})))};if(n===2){var o=this.parsePointer(fe.classDef),a=this.parsePointer(fe.classDef),l=this.parseUShort(),c=this.parseUShort();return{posFormat:n,coverage:i,valueFormat1:r,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:c,classRecords:this.parseList(l,fe.list(c,function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(s)}}))}}};Ta[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Ta[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Ta[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Ta[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Ta[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Ta[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Ta[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var A$=Object.defineProperty,g$=(t,e,n)=>e in t?A$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,we=(t,e,n)=>(g$(t,typeof e!="symbol"?e+"":e,n),n);function LI(t,e){if(e===hR)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Pg||e===Sx){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(n)if(e===Pg)for(let o=1;o<=i;o++)r.push(n.getX(0)),r.push(n.getX(o)),r.push(n.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(n.getX(o)),r.push(n.getX(o+1)),r.push(n.getX(o+2))):(r.push(n.getX(o+2)),r.push(n.getX(o+1)),r.push(n.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}new be;const vD=class{parse(t,e={decodeSpeed:5,encodeSpeed:5,encoderMethod:vD.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1}){if(t instanceof yt&&t.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const n=t.geometry,i=DracoEncoderModule(),r=new i.Encoder;let s,o;if(!n.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(t instanceof tn&&t.isMesh){s=new i.MeshBuilder,o=new i.Mesh;const p=n.getAttribute("position");s.AddFloatAttributeToMesh(o,i.POSITION,p.count,p.itemSize,p.array);const m=n.getIndex();if(m!==null)s.AddFacesToMesh(o,m.count/3,m.array);else{const A=new(p.count>65535?Uint32Array:Uint16Array)(p.count);for(let g=0;g<A.length;g++)A[g]=g;s.AddFacesToMesh(o,p.count,A)}if(e.exportNormals){const A=n.getAttribute("normal");A!==void 0&&s.AddFloatAttributeToMesh(o,i.NORMAL,A.count,A.itemSize,A.array)}if(e.exportUvs){const A=n.getAttribute("uv");A!==void 0&&s.AddFloatAttributeToMesh(o,i.TEX_COORD,A.count,A.itemSize,A.array)}if(e.exportColor){const A=n.getAttribute("color");A!==void 0&&s.AddFloatAttributeToMesh(o,i.COLOR,A.count,A.itemSize,A.array)}}else if(t instanceof j2&&t.isPoints){s=new i.PointCloudBuilder,o=new i.PointCloud;const p=n.getAttribute("position");if(s.AddFloatAttribute(o,i.POSITION,p.count,p.itemSize,p.array),e.exportColor){const m=n.getAttribute("color");m!==void 0&&s.AddFloatAttribute(o,i.COLOR,m.count,m.itemSize,m.array)}}else throw new Error("DRACOExporter: Unsupported object type.");const a=new i.DracoInt8Array,l=e.encodeSpeed!==void 0?e.encodeSpeed:5,c=e.decodeSpeed!==void 0?e.decodeSpeed:5;if(r.SetSpeedOptions(l,c),e.encoderMethod!==void 0&&r.SetEncodingMethod(e.encoderMethod),e.quantization!==void 0)for(let p=0;p<5;p++)e.quantization[p]!==void 0&&r.SetAttributeQuantization(p,e.quantization[p]);let u;if(t instanceof tn&&t.isMesh?u=r.EncodeMeshToDracoBuffer(o,a):u=r.EncodePointCloudToDracoBuffer(o,!0,a),i.destroy(o),u===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const d=new Int8Array(new ArrayBuffer(u));for(let p=0;p<u;p++)d[p]=a.GetValue(p);return i.destroy(a),i.destroy(r),i.destroy(s),d}};let Fo=vD;we(Fo,"MESH_EDGEBREAKER_ENCODING",1);we(Fo,"MESH_SEQUENTIAL_ENCODING",0);we(Fo,"POINT_CLOUD",0);we(Fo,"TRIANGULAR_MESH",1);we(Fo,"INVALID",-1);we(Fo,"POSITION",0);we(Fo,"NORMAL",1);we(Fo,"COLOR",2);we(Fo,"TEX_COORD",3);we(Fo,"GENERIC",4);const yD=class extends tn{constructor(t,e={}){super(t),this.isReflector=!0,this.type="Reflector",this.camera=new sn;const n=this,i=e.color!==void 0?new be(e.color):new be(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||yD.ReflectorShader,l=e.multisample!==void 0?e.multisample:4,c=new Tr,u=new D,d=new D,p=new D,m=new Je,A=new D(0,0,-1),g=new Qt,v=new D,C=new D,y=new Qt,x=new Je,S=this.camera,I=new cn(r,s,{samples:l,type:Jn}),T=new jt({uniforms:Mn.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});T.uniforms.tDiffuse.value=I.texture,T.uniforms.color.value=i,T.uniforms.textureMatrix.value=x,this.material=T,this.onBeforeRender=function(B,M,R){if(d.setFromMatrixPosition(n.matrixWorld),p.setFromMatrixPosition(R.matrixWorld),m.extractRotation(n.matrixWorld),u.set(0,0,1),u.applyMatrix4(m),v.subVectors(d,p),v.dot(u)>0)return;v.reflect(u).negate(),v.add(d),m.extractRotation(R.matrixWorld),A.set(0,0,-1),A.applyMatrix4(m),A.add(p),C.subVectors(d,A),C.reflect(u).negate(),C.add(d),S.position.copy(v),S.up.set(0,1,0),S.up.applyMatrix4(m),S.up.reflect(u),S.lookAt(C),S.far=R.far,S.updateMatrixWorld(),S.projectionMatrix.copy(R.projectionMatrix),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(S.projectionMatrix),x.multiply(S.matrixWorldInverse),x.multiply(n.matrixWorld),c.setFromNormalAndCoplanarPoint(u,d),c.applyMatrix4(S.matrixWorldInverse),g.set(c.normal.x,c.normal.y,c.normal.z,c.constant);const P=S.projectionMatrix;y.x=(Math.sign(g.x)+P.elements[8])/P.elements[0],y.y=(Math.sign(g.y)+P.elements[9])/P.elements[5],y.z=-1,y.w=(1+P.elements[10])/P.elements[14],g.multiplyScalar(2/g.dot(y)),P.elements[2]=g.x,P.elements[6]=g.y,P.elements[10]=g.z+1-o,P.elements[14]=g.w,n.visible=!1;const L=B.getRenderTarget(),V=B.xr.enabled,N=B.shadowMap.autoUpdate,U=B.toneMapping;let j=!1;"outputColorSpace"in B?j=B.outputColorSpace==="srgb":j=B.outputEncoding===3001,B.xr.enabled=!1,B.shadowMap.autoUpdate=!1,"outputColorSpace"in B?B.outputColorSpace="linear-srgb":B.outputEncoding=3e3,B.toneMapping=Lr,B.setRenderTarget(I),B.state.buffers.depth.setMask(!0),B.autoClear===!1&&B.clear(),B.render(M,S),B.xr.enabled=V,B.shadowMap.autoUpdate=N,B.toneMapping=U,"outputColorSpace"in B?B.outputColorSpace=j?"srgb":"srgb-linear":B.outputEncoding=j?3001:3e3,B.setRenderTarget(L);const X=R.viewport;X!==void 0&&B.state.viewport(X),n.visible=!0},this.getRenderTarget=function(){return I},this.dispose=function(){I.dispose(),n.material.dispose()}}};let k8=yD;we(k8,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Xs.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const xD=class extends tn{constructor(t,e={}){super(t),this.isRefractor=!0,this.type="Refractor",this.camera=new sn;const n=this,i=e.color!==void 0?new be(e.color):new be(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||xD.RefractorShader,l=e.multisample!==void 0?e.multisample:4,c=this.camera;c.matrixAutoUpdate=!1,c.userData.refractor=!0;const u=new Tr,d=new Je,p=new cn(r,s,{samples:l,type:Jn});this.material=new jt({uniforms:Mn.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0}),this.material.uniforms.color.value=i,this.material.uniforms.tDiffuse.value=p.texture,this.material.uniforms.textureMatrix.value=d;const m=function(){const y=new D,x=new D,S=new Je,I=new D,T=new D;return function(M){return y.setFromMatrixPosition(n.matrixWorld),x.setFromMatrixPosition(M.matrixWorld),I.subVectors(y,x),S.extractRotation(n.matrixWorld),T.set(0,0,1),T.applyMatrix4(S),I.dot(T)<0}}(),A=function(){const y=new D,x=new D,S=new ai,I=new D;return function(){n.matrixWorld.decompose(x,S,I),y.set(0,0,1).applyQuaternion(S).normalize(),y.negate(),u.setFromNormalAndCoplanarPoint(y,x)}}(),g=function(){const y=new Tr,x=new Qt,S=new Qt;return function(T){c.matrixWorld.copy(T.matrixWorld),c.matrixWorldInverse.copy(c.matrixWorld).invert(),c.projectionMatrix.copy(T.projectionMatrix),c.far=T.far,y.copy(u),y.applyMatrix4(c.matrixWorldInverse),x.set(y.normal.x,y.normal.y,y.normal.z,y.constant);const B=c.projectionMatrix;S.x=(Math.sign(x.x)+B.elements[8])/B.elements[0],S.y=(Math.sign(x.y)+B.elements[9])/B.elements[5],S.z=-1,S.w=(1+B.elements[10])/B.elements[14],x.multiplyScalar(2/x.dot(S)),B.elements[2]=x.x,B.elements[6]=x.y,B.elements[10]=x.z+1-o,B.elements[14]=x.w}}();function v(y){d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(y.projectionMatrix),d.multiply(y.matrixWorldInverse),d.multiply(n.matrixWorld)}function C(y,x,S){n.visible=!1;const I=y.getRenderTarget(),T=y.xr.enabled,B=y.shadowMap.autoUpdate,M=y.toneMapping;let R=!1;"outputColorSpace"in y?R=y.outputColorSpace==="srgb":R=y.outputEncoding===3001,y.xr.enabled=!1,y.shadowMap.autoUpdate=!1,"outputColorSpace"in y?y.outputColorSpace="linear-srgb":y.outputEncoding=3e3,y.toneMapping=Lr,y.setRenderTarget(p),y.autoClear===!1&&y.clear(),y.render(x,c),y.xr.enabled=T,y.shadowMap.autoUpdate=B,y.toneMapping=M,y.setRenderTarget(I),"outputColorSpace"in y?y.outputColorSpace=R?"srgb":"srgb-linear":y.outputEncoding=R?3001:3e3;const P=S.viewport;P!==void 0&&y.state.viewport(P),n.visible=!0}this.onBeforeRender=function(y,x,S){S.userData.refractor!==!0&&m(S)&&(A(),v(S),g(S),C(y,x,S))},this.getRenderTarget=function(){return p},this.dispose=function(){p.dispose(),n.material.dispose()}}};let N8=xD;we(N8,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Xs.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const v$=new yt,O8=class extends tn{constructor(){super(O8.Geometry,new Ii({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const t=new D,e=new D,n=new Io(new Uint8Array(16*16*3),16,16,Un);n.minFilter=vt,n.magFilter=vt,n.wrapS=_n,n.wrapT=_n;const i=new Io(new Uint8Array(16*16*3),16,16,Un);i.minFilter=vt,i.magFilter=vt,i.wrapS=_n,i.wrapT=_n;const r=O8.Geometry,s=new tp({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new tp({uniforms:{map:{value:n},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),a=new tn(r,s),l=[],c=CD.Shader,u=new tp({uniforms:{map:{value:null},occlusionMap:{value:i},color:{value:new be(16777215)},scale:{value:new le},screenPosition:{value:new D}},vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:Rp,transparent:!0,depthWrite:!1}),d=new tn(r,u);this.addElement=function(v){l.push(v)};const p=new le,m=new le,A=new oP,g=new Qt;this.onBeforeRender=function(v,C,y){v.getCurrentViewport(g);const x=g.w/g.z,S=g.z/2,I=g.w/2;let T=16/g.w;if(p.set(T*x,T),A.min.set(g.x,g.y),A.max.set(g.x+(g.z-16),g.y+(g.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(y.matrixWorldInverse),!(e.z>0)&&(t.copy(e).applyMatrix4(y.projectionMatrix),m.x=g.x+t.x*S+S-8,m.y=g.y+t.y*I+I-8,A.containsPoint(m))){v.copyFramebufferToTexture(m,n);let B=s.uniforms;B.scale.value=p,B.screenPosition.value=t,v.renderBufferDirect(y,null,r,s,a,null),v.copyFramebufferToTexture(m,i),B=o.uniforms,B.scale.value=p,B.screenPosition.value=t,v.renderBufferDirect(y,null,r,o,a,null);const M=-t.x*2,R=-t.y*2;for(let P=0,L=l.length;P<L;P++){const V=l[P],N=u.uniforms;N.color.value.copy(V.color),N.map.value=V.texture,N.screenPosition.value.x=t.x+M*V.distance,N.screenPosition.value.y=t.y+R*V.distance,T=V.size/g.w;const U=g.w/g.z;N.scale.value.set(T*U,T),u.uniformsNeedUpdate=!0,v.renderBufferDirect(y,null,r,u,d,null)}}},this.dispose=function(){s.dispose(),o.dispose(),u.dispose(),n.dispose(),i.dispose();for(let v=0,C=l.length;v<C;v++)l[v].texture.dispose()}}};let y$=O8;we(y$,"Geometry",v$);class CD{constructor(e,n=1,i=0,r=new be(16777215)){this.texture=e,this.size=n,this.distance=i,this.color=r}}we(CD,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});class ip{constructor(e=Math){we(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),we(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),we(this,"p",[]),we(this,"perm",[]),we(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),we(this,"dot",(n,i,r)=>n[0]*i+n[1]*r),we(this,"dot3",(n,i,r,s)=>n[0]*i+n[1]*r+n[2]*s),we(this,"dot4",(n,i,r,s,o)=>n[0]*i+n[1]*r+n[2]*s+n[3]*o),we(this,"noise",(n,i)=>{let r,s,o;const a=.5*(Math.sqrt(3)-1),l=(n+i)*a,c=Math.floor(n+l),u=Math.floor(i+l),d=(3-Math.sqrt(3))/6,p=(c+u)*d,m=c-p,A=u-p,g=n-m,v=i-A;let C=0,y=1;g>v&&(C=1,y=0);const x=g-C+d,S=v-y+d,I=g-1+2*d,T=v-1+2*d,B=c&255,M=u&255,R=this.perm[B+this.perm[M]]%12,P=this.perm[B+C+this.perm[M+y]]%12,L=this.perm[B+1+this.perm[M+1]]%12;let V=.5-g*g-v*v;V<0?r=0:(V*=V,r=V*V*this.dot(this.grad3[R],g,v));let N=.5-x*x-S*S;N<0?s=0:(N*=N,s=N*N*this.dot(this.grad3[P],x,S));let U=.5-I*I-T*T;return U<0?o=0:(U*=U,o=U*U*this.dot(this.grad3[L],I,T)),70*(r+s+o)}),we(this,"noise3d",(n,i,r)=>{let s,o,a,l;const c=.3333333333333333,u=(n+i+r)*c,d=Math.floor(n+u),p=Math.floor(i+u),m=Math.floor(r+u),A=1/6,g=(d+p+m)*A,v=d-g,C=p-g,y=m-g,x=n-v,S=i-C,I=r-y;let T,B,M,R,P,L;x>=S?S>=I?(T=1,B=0,M=0,R=1,P=1,L=0):x>=I?(T=1,B=0,M=0,R=1,P=0,L=1):(T=0,B=0,M=1,R=1,P=0,L=1):S<I?(T=0,B=0,M=1,R=0,P=1,L=1):x<I?(T=0,B=1,M=0,R=0,P=1,L=1):(T=0,B=1,M=0,R=1,P=1,L=0);const V=x-T+A,N=S-B+A,U=I-M+A,j=x-R+2*A,X=S-P+2*A,te=I-L+2*A,k=x-1+3*A,J=S-1+3*A,W=I-1+3*A,$=d&255,H=p&255,ne=m&255,de=this.perm[$+this.perm[H+this.perm[ne]]]%12,Ae=this.perm[$+T+this.perm[H+B+this.perm[ne+M]]]%12,q=this.perm[$+R+this.perm[H+P+this.perm[ne+L]]]%12,Te=this.perm[$+1+this.perm[H+1+this.perm[ne+1]]]%12;let Pe=.6-x*x-S*S-I*I;Pe<0?s=0:(Pe*=Pe,s=Pe*Pe*this.dot3(this.grad3[de],x,S,I));let De=.6-V*V-N*N-U*U;De<0?o=0:(De*=De,o=De*De*this.dot3(this.grad3[Ae],V,N,U));let Ce=.6-j*j-X*X-te*te;Ce<0?a=0:(Ce*=Ce,a=Ce*Ce*this.dot3(this.grad3[q],j,X,te));let Me=.6-k*k-J*J-W*W;return Me<0?l=0:(Me*=Me,l=Me*Me*this.dot3(this.grad3[Te],k,J,W)),32*(s+o+a+l)}),we(this,"noise4d",(n,i,r,s)=>{const o=this.grad4,a=this.simplex,l=this.perm,c=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;let d,p,m,A,g;const v=(n+i+r+s)*c,C=Math.floor(n+v),y=Math.floor(i+v),x=Math.floor(r+v),S=Math.floor(s+v),I=(C+y+x+S)*u,T=C-I,B=y-I,M=x-I,R=S-I,P=n-T,L=i-B,V=r-M,N=s-R,U=P>L?32:0,j=P>V?16:0,X=L>V?8:0,te=P>N?4:0,k=L>N?2:0,J=V>N?1:0,W=U+j+X+te+k+J;let $,H,ne,de,Ae,q,Te,Pe,De,Ce,Me,ue;$=a[W][0]>=3?1:0,H=a[W][1]>=3?1:0,ne=a[W][2]>=3?1:0,de=a[W][3]>=3?1:0,Ae=a[W][0]>=2?1:0,q=a[W][1]>=2?1:0,Te=a[W][2]>=2?1:0,Pe=a[W][3]>=2?1:0,De=a[W][0]>=1?1:0,Ce=a[W][1]>=1?1:0,Me=a[W][2]>=1?1:0,ue=a[W][3]>=1?1:0;const oe=P-$+u,_e=L-H+u,He=V-ne+u,ke=N-de+u,tt=P-Ae+2*u,et=L-q+2*u,Ye=V-Te+2*u,_t=N-Pe+2*u,Mt=P-De+3*u,Q=L-Ce+3*u,F=V-Me+3*u,ce=N-ue+3*u,Ie=P-1+4*u,Re=L-1+4*u,Fe=V-1+4*u,ct=N-1+4*u,Oe=C&255,ge=y&255,Ze=x&255,st=S&255,Xe=l[Oe+l[ge+l[Ze+l[st]]]]%32,lt=l[Oe+$+l[ge+H+l[Ze+ne+l[st+de]]]]%32,nt=l[Oe+Ae+l[ge+q+l[Ze+Te+l[st+Pe]]]]%32,Y=l[Oe+De+l[ge+Ce+l[Ze+Me+l[st+ue]]]]%32,Ee=l[Oe+1+l[ge+1+l[Ze+1+l[st+1]]]]%32;let ze=.6-P*P-L*L-V*V-N*N;ze<0?d=0:(ze*=ze,d=ze*ze*this.dot4(o[Xe],P,L,V,N));let K=.6-oe*oe-_e*_e-He*He-ke*ke;K<0?p=0:(K*=K,p=K*K*this.dot4(o[lt],oe,_e,He,ke));let ae=.6-tt*tt-et*et-Ye*Ye-_t*_t;ae<0?m=0:(ae*=ae,m=ae*ae*this.dot4(o[nt],tt,et,Ye,_t));let Se=.6-Mt*Mt-Q*Q-F*F-ce*ce;Se<0?A=0:(Se*=Se,A=Se*Se*this.dot4(o[Y],Mt,Q,F,ce));let Ne=.6-Ie*Ie-Re*Re-Fe*Fe-ct*ct;return Ne<0?g=0:(Ne*=Ne,g=Ne*Ne*this.dot4(o[Ee],Ie,Re,Fe,ct)),27*(d+p+m+A+g)});for(let n=0;n<256;n++)this.p[n]=Math.floor(e.random()*256);for(let n=0;n<512;n++)this.perm[n]=this.p[n&255]}}const Ki=class extends yt{constructor(t={}){super(),this.isLightningStrike=!0,this.type="LightningStrike",this.init(Ki.copyParameters(t,t)),this.createMesh()}static createRandomGenerator(){const e=[];for(let i=0;i<2053;i++)e.push(Math.random());const n={currentSeed:0,random:function(){const i=e[n.currentSeed];return n.currentSeed=(n.currentSeed+1)%2053,i},getSeed:function(){return n.currentSeed/2053},setSeed:function(i){n.currentSeed=Math.floor(i*2053)%2053}};return n}static copyParameters(t={},e={}){const n=function(i){return e===t?i:i.clone()};return t.sourceOffset=e.sourceOffset!==void 0?n(e.sourceOffset):new D(0,100,0),t.destOffset=e.destOffset!==void 0?n(e.destOffset):new D(0,0,0),t.timeScale=e.timeScale!==void 0?e.timeScale:1,t.roughness=e.roughness!==void 0?e.roughness:.9,t.straightness=e.straightness!==void 0?e.straightness:.7,t.up0=e.up0!==void 0?n(e.up0):new D(0,0,1),t.up1=e.up1!==void 0?n(e.up1):new D(0,0,1),t.radius0=e.radius0!==void 0?e.radius0:1,t.radius1=e.radius1!==void 0?e.radius1:1,t.radius0Factor=e.radius0Factor!==void 0?e.radius0Factor:.5,t.radius1Factor=e.radius1Factor!==void 0?e.radius1Factor:.2,t.minRadius=e.minRadius!==void 0?e.minRadius:.2,t.isEternal=e.isEternal!==void 0?e.isEternal:e.birthTime===void 0||e.deathTime===void 0,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.propagationTimeFactor=e.propagationTimeFactor!==void 0?e.propagationTimeFactor:.1,t.vanishingTimeFactor=e.vanishingTimeFactor!==void 0?e.vanishingTimeFactor:.9,t.subrayPeriod=e.subrayPeriod!==void 0?e.subrayPeriod:4,t.subrayDutyCycle=e.subrayDutyCycle!==void 0?e.subrayDutyCycle:.6,t.maxIterations=e.maxIterations!==void 0?e.maxIterations:9,t.isStatic=e.isStatic!==void 0?e.isStatic:!1,t.ramification=e.ramification!==void 0?e.ramification:5,t.maxSubrayRecursion=e.maxSubrayRecursion!==void 0?e.maxSubrayRecursion:3,t.recursionProbability=e.recursionProbability!==void 0?e.recursionProbability:.6,t.generateUVs=e.generateUVs!==void 0?e.generateUVs:!1,t.randomGenerator=e.randomGenerator,t.noiseSeed=e.noiseSeed,t.onDecideSubrayCreation=e.onDecideSubrayCreation,t.onSubrayCreation=e.onSubrayCreation,t}update(t){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=t&&t<=this.rayParameters.deathTime?(this.updateMesh(t),t<this.subrays[0].endPropagationTime?this.state=Ki.RAY_PROPAGATING:t>this.subrays[0].beginVanishingTime?this.state=Ki.RAY_VANISHING:this.state=Ki.RAY_STEADY,this.visible=!0):(this.visible=!1,t<this.rayParameters.birthTime?this.state=Ki.RAY_UNBORN:this.state=Ki.RAY_EXTINGUISHED))}init(t){this.rayParameters=t,this.maxIterations=t.maxIterations!==void 0?Math.floor(t.maxIterations):9,t.maxIterations=this.maxIterations,this.isStatic=t.isStatic!==void 0?t.isStatic:!1,t.isStatic=this.isStatic,this.ramification=t.ramification!==void 0?Math.floor(t.ramification):5,t.ramification=this.ramification,this.maxSubrayRecursion=t.maxSubrayRecursion!==void 0?Math.floor(t.maxSubrayRecursion):3,t.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=t.recursionProbability!==void 0?t.recursionProbability:.6,t.recursionProbability=this.recursionProbability,this.generateUVs=t.generateUVs!==void 0?t.generateUVs:!1,t.generateUVs=this.generateUVs,t.randomGenerator!==void 0?(this.randomGenerator=t.randomGenerator,this.seedGenerator=t.randomGenerator,t.noiseSeed!==void 0&&this.seedGenerator.setSeed(t.noiseSeed)):(this.randomGenerator=Ki.createRandomGenerator(),this.seedGenerator=Math),t.onDecideSubrayCreation!==void 0?this.onDecideSubrayCreation=t.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),t.onSubrayCreation!==void 0&&(this.onSubrayCreation=t.onSubrayCreation)),this.state=Ki.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),t.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let e=0;e<this.maxSubrays;e++)this.subrays.push(this.createSubray());this.raySegments=[];for(let e=0;e<this.maxRaySegments;e++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new ip(this.seedGenerator),this.simplexY=new ip(this.seedGenerator),this.simplexZ=new ip(this.seedGenerator),this.forwards=new D,this.forwardsFill=new D,this.side=new D,this.down=new D,this.middlePos=new D,this.middleLinPos=new D,this.newPos=new D,this.vPos=new D,this.cross1=new D}createMesh(){const t=1<<this.maxIterations,e=3*(t+1)*this.maxSubrays,n=18*t*this.maxSubrays;this.vertices=new Float32Array(e*3),this.indices=new Uint32Array(n),this.generateUVs&&(this.uvs=new Float32Array(e*2)),this.fillMesh(0),this.setIndex(new G2(this.indices,1)),this.positionAttribute=new je(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new je(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=wo,this.positionAttribute.usage=wo,this.generateUVs&&(this.uvsAttribute.usage=wo)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}updateMesh(t){this.fillMesh(t),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}fillMesh(t){const e=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(t,function(i){const r=e.currentSubray;t<r.birthTime||(this.rayParameters.isEternal&&e.currentSubray.recursion==0?(e.createPrism(i),e.onDecideSubrayCreation(i,e)):t<r.endPropagationTime?e.timeFraction>=i.fraction0*r.propagationTimeFactor&&(e.createPrism(i),e.onDecideSubrayCreation(i,e)):t<r.beginVanishingTime?(e.createPrism(i),e.onDecideSubrayCreation(i,e)):(e.timeFraction<=r.vanishingTimeFactor+i.fraction1*(1-r.vanishingTimeFactor)&&e.createPrism(i),e.onDecideSubrayCreation(i,e)))})}addNewSubray(){return this.subrays[this.numSubrays++]}initSubray(t,e){t.pos0.copy(e.sourceOffset),t.pos1.copy(e.destOffset),t.up0.copy(e.up0),t.up1.copy(e.up1),t.radius0=e.radius0,t.radius1=e.radius1,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.timeScale=e.timeScale,t.roughness=e.roughness,t.straightness=e.straightness,t.propagationTimeFactor=e.propagationTimeFactor,t.vanishingTimeFactor=e.vanishingTimeFactor,t.maxIterations=this.maxIterations,t.seed=e.noiseSeed!==void 0?e.noiseSeed:0,t.recursion=0}fractalRay(t,e){this.time=t,this.currentSegmentCallback=e,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let n=0;n<this.numSubrays;n++){const i=this.subrays[n];this.currentSubray=i,this.randomGenerator.setSeed(i.seed),i.endPropagationTime=El.lerp(i.birthTime,i.deathTime,i.propagationTimeFactor),i.beginVanishingTime=El.lerp(i.deathTime,i.birthTime,1-i.vanishingTimeFactor);const r=this.randomGenerator.random;i.linPos0.set(r(),r(),r()).multiplyScalar(1e3),i.linPos1.set(r(),r(),r()).multiplyScalar(1e3),this.timeFraction=(t-i.birthTime)/(i.deathTime-i.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;const s=this.getNewSegment();s.iteration=0,s.pos0.copy(i.pos0),s.pos1.copy(i.pos1),s.linPos0.copy(i.linPos0),s.linPos1.copy(i.linPos1),s.up0.copy(i.up0),s.up1.copy(i.up1),s.radius0=i.radius0,s.radius1=i.radius1,s.fraction0=0,s.fraction1=1,s.positionVariationFactor=1-i.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,i.recursion)/(1<<i.maxIterations),this.fractalRayRecursive(s)}this.currentSegmentCallback=null,this.currentSubray=null}fractalRayRecursive(t){if(t.iteration>=this.currentSubray.maxIterations){this.currentSegmentCallback(t);return}this.forwards.subVectors(t.pos1,t.pos0);let e=this.forwards.length();e<1e-6&&(this.forwards.set(0,0,.01),e=this.forwards.length());const n=(t.radius0+t.radius1)*.5,i=(t.fraction0+t.fraction1)*.5,r=this.time*this.currentSubray.timeScale*Math.pow(2,t.iteration);this.middlePos.lerpVectors(t.pos0,t.pos1,.5),this.middleLinPos.lerpVectors(t.linPos0,t.linPos1,.5);const s=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(s.x,s.y,s.z,r),this.simplexY.noise4d(s.x,s.y,s.z,r),this.simplexZ.noise4d(s.x,s.y,s.z,r)),this.newPos.multiplyScalar(t.positionVariationFactor*e),this.newPos.add(this.middlePos);const o=this.getNewSegment();o.pos0.copy(t.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(t.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(t.up0),o.up1.copy(t.up1),o.radius0=t.radius0,o.radius1=n,o.fraction0=t.fraction0,o.fraction1=i,o.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,o.iteration=t.iteration+1;const a=this.getNewSegment();a.pos0.copy(this.newPos),a.pos1.copy(t.pos1),a.linPos0.copy(this.middleLinPos),a.linPos1.copy(t.linPos1),this.cross1.crossVectors(t.up0,this.forwards.normalize()),a.up0.crossVectors(this.forwards,this.cross1).normalize(),a.up1.copy(t.up1),a.radius0=n,a.radius1=t.radius1,a.fraction0=i,a.fraction1=t.fraction1,a.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,a.iteration=t.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(a)}createPrism(t){this.forwardsFill.subVectors(t.pos1,t.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(t.pos0,t.up0,this.forwardsFill,t.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(t.pos1,t.up0,this.forwardsFill,t.radius1,t.fraction1),this.createPrismFaces()}createTriangleVerticesWithoutUVs(t,e,n,i){this.side.crossVectors(e,n).multiplyScalar(i*Ki.COS30DEG),this.down.copy(e).multiplyScalar(-i*Ki.SIN30DEG);const r=this.vPos,s=this.vertices;r.copy(t).sub(this.side).add(this.down),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,r.copy(t).add(this.side).add(this.down),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,r.copy(e).multiplyScalar(i).add(t),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,this.currentVertex+=3}createTriangleVerticesWithUVs(t,e,n,i,r){this.side.crossVectors(e,n).multiplyScalar(i*Ki.COS30DEG),this.down.copy(e).multiplyScalar(-i*Ki.SIN30DEG);const s=this.vPos,o=this.vertices,a=this.uvs;s.copy(t).sub(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=0,s.copy(t).add(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=.5,s.copy(e).multiplyScalar(i).add(t),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=1,this.currentVertex+=3}createPrismFaces(t){const e=this.indices;t=this.currentVertex-6,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+5}createDefaultSubrayCreationCallbacks(){const t=this.randomGenerator.random;this.onDecideSubrayCreation=function(s,o){const a=o.currentSubray,l=o.rayParameters.subrayPeriod,c=o.rayParameters.subrayDutyCycle,u=o.rayParameters.isEternal&&a.recursion==0?-t()*l:El.lerp(a.birthTime,a.endPropagationTime,s.fraction0)-t()*l,d=o.time-u,p=Math.floor(d/l),m=t()*(p+1),A=d%l<=c*l;let g=0;if(A&&(g=o.subrayProbability),a.recursion<o.maxSubrayRecursion&&o.numSubrays<o.maxSubrays&&t()<g){const v=o.addNewSubray(),C=o.randomGenerator.getSeed();v.seed=m,o.randomGenerator.setSeed(m),v.recursion=a.recursion+1,v.maxIterations=Math.max(1,a.maxIterations-1),v.linPos0.set(t(),t(),t()).multiplyScalar(1e3),v.linPos1.set(t(),t(),t()).multiplyScalar(1e3),v.up0.copy(a.up0),v.up1.copy(a.up1),v.radius0=s.radius0*o.rayParameters.radius0Factor,v.radius1=Math.min(o.rayParameters.minRadius,s.radius1*o.rayParameters.radius1Factor),v.birthTime=u+p*l,v.deathTime=v.birthTime+l*c,!o.rayParameters.isEternal&&a.recursion==0&&(v.birthTime=Math.max(v.birthTime,a.birthTime),v.deathTime=Math.min(v.deathTime,a.deathTime)),v.timeScale=a.timeScale*2,v.roughness=a.roughness,v.straightness=a.straightness,v.propagationTimeFactor=a.propagationTimeFactor,v.vanishingTimeFactor=a.vanishingTimeFactor,o.onSubrayCreation(s,a,v,o),o.randomGenerator.setSeed(C)}};const e=new D,n=new D,i=new D,r=new D;this.onSubrayCreation=function(s,o,a,l){l.subrayCylinderPosition(s,o,a,.5,.6,.2)},this.subrayConePosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*(t()*l));const d=e.length();i.crossVectors(o.up0,n);const p=2*Math.PI*t();i.multiplyScalar(Math.cos(p)),r.copy(o.up0).multiplyScalar(Math.sin(p)),a.pos1.copy(i).add(r).multiplyScalar(d*c*(u+t()*(1-u))).add(e).add(o.pos0)},this.subrayCylinderPosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*((2*t()-1)*l));const d=e.length();i.crossVectors(o.up0,n);const p=2*Math.PI*t();i.multiplyScalar(Math.cos(p)),r.copy(o.up0).multiplyScalar(Math.sin(p)),a.pos1.copy(i).add(r).multiplyScalar(d*c*(u+t()*(1-u))).add(e).add(o.pos0)}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new D,pos1:new D,linPos0:new D,linPos1:new D,up0:new D,up1:new D,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new D,pos1:new D,linPos0:new D,linPos1:new D,up0:new D,up1:new D,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(t){return super.copy(t),this.init(Ki.copyParameters({},t.rayParameters)),this}clone(){return new this.constructor(Ki.copyParameters({},this.rayParameters))}};let Kl=Ki;we(Kl,"RAY_INITIALIZED",0);we(Kl,"RAY_UNBORN",1);we(Kl,"RAY_PROPAGATING",2);we(Kl,"RAY_STEADY",3);we(Kl,"RAY_VANISHING",4);we(Kl,"RAY_EXTINGUISHED",5);we(Kl,"COS30DEG",Math.cos(30*Math.PI/180));we(Kl,"SIN30DEG",Math.sin(30*Math.PI/180));const Ic=class extends tn{constructor(t,e={}){super(t),this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const n=this,i=e.color!==void 0?new be(e.color):new be(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||Ic.ReflectorShader,l=e.useDepthTexture===!0,c=new D(0,1,0),u=new D,d=new D;n.needsUpdate=!1,n.maxDistance=Ic.ReflectorShader.uniforms.maxDistance.value,n.opacity=Ic.ReflectorShader.uniforms.opacity.value,n.color=i,n.resolution=e.resolution||new le(window.innerWidth,window.innerHeight),n._distanceAttenuation=Ic.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(n,"distanceAttenuation",{get(){return n._distanceAttenuation},set(L){n._distanceAttenuation!==L&&(n._distanceAttenuation=L,n.material.defines.DISTANCE_ATTENUATION=L,n.material.needsUpdate=!0)}}),n._fresnel=Ic.ReflectorShader.defines.FRESNEL,Object.defineProperty(n,"fresnel",{get(){return n._fresnel},set(L){n._fresnel!==L&&(n._fresnel=L,n.material.defines.FRESNEL=L,n.material.needsUpdate=!0)}});const p=new D,m=new D,A=new D,g=new Je,v=new D(0,0,-1),C=new D,y=new D,x=new Je,S=new sn;let I;l&&(I=new xf,I.type=gf,I.minFilter=vt,I.magFilter=vt);const T={depthTexture:l?I:null,type:Jn},B=new cn(r,s,T),M=new jt({transparent:l,defines:Object.assign({},Ic.ReflectorShader.defines,{useDepthTexture:l}),uniforms:Mn.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});M.uniforms.tDiffuse.value=B.texture,M.uniforms.color.value=n.color,M.uniforms.textureMatrix.value=x,l&&(M.uniforms.tDepth.value=B.depthTexture),this.material=M;const P=[new Tr(new D(0,1,0),o)];this.doRender=function(L,V,N){if(M.uniforms.maxDistance.value=n.maxDistance,M.uniforms.color.value=n.color,M.uniforms.opacity.value=n.opacity,u.copy(N.position).normalize(),d.copy(u).reflect(c),M.uniforms.fresnelCoe.value=(u.dot(d)+1)/2,m.setFromMatrixPosition(n.matrixWorld),A.setFromMatrixPosition(N.matrixWorld),g.extractRotation(n.matrixWorld),p.set(0,0,1),p.applyMatrix4(g),C.subVectors(m,A),C.dot(p)>0)return;C.reflect(p).negate(),C.add(m),g.extractRotation(N.matrixWorld),v.set(0,0,-1),v.applyMatrix4(g),v.add(A),y.subVectors(m,v),y.reflect(p).negate(),y.add(m),S.position.copy(C),S.up.set(0,1,0),S.up.applyMatrix4(g),S.up.reflect(p),S.lookAt(y),S.far=N.far,S.updateMatrixWorld(),S.projectionMatrix.copy(N.projectionMatrix),M.uniforms.virtualCameraNear.value=N.near,M.uniforms.virtualCameraFar.value=N.far,M.uniforms.virtualCameraMatrixWorld.value=S.matrixWorld,M.uniforms.virtualCameraProjectionMatrix.value=N.projectionMatrix,M.uniforms.virtualCameraProjectionMatrixInverse.value=N.projectionMatrixInverse,M.uniforms.resolution.value=n.resolution,x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(S.projectionMatrix),x.multiply(S.matrixWorldInverse),x.multiply(n.matrixWorld);const U=L.getRenderTarget(),j=L.xr.enabled,X=L.shadowMap.autoUpdate,te=L.clippingPlanes;L.xr.enabled=!1,L.shadowMap.autoUpdate=!1,L.clippingPlanes=P,L.setRenderTarget(B),L.state.buffers.depth.setMask(!0),L.autoClear===!1&&L.clear(),L.render(V,S),L.xr.enabled=j,L.shadowMap.autoUpdate=X,L.clippingPlanes=te,L.setRenderTarget(U);const k=N.viewport;k!==void 0&&L.state.viewport(k)},this.getRenderTarget=function(){return B}}};let x$=Ic;we(x$,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new Je},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new Je},virtualCameraMatrixWorld:{value:new Je},virtualCameraProjectionMatrixInverse:{value:new Je},resolution:{value:new le}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`});const XA={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new D},up:{value:new D(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${parseInt(Xs.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},ED=new jt({name:"SkyShader",fragmentShader:XA.fragmentShader,vertexShader:XA.vertexShader,uniforms:Mn.clone(XA.uniforms),side:er,depthWrite:!1});class SD extends tn{constructor(){super(new _a(1,1,1),ED)}}we(SD,"SkyShader",XA);we(SD,"material",ED);const wD=class extends tn{constructor(t,e={}){super(t),this.isWater=!0,this.type="Water";const n=this,i=e.color!==void 0?new be(e.color):new be(16777215),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.flowDirection||new le(1,0),l=e.flowSpeed||.03,c=e.reflectivity||.02,u=e.scale||1,d=e.shader||wD.WaterShader,p=e.encoding!==void 0?e.encoding:3e3,m=e.flowMap||void 0,A=e.normalMap0,g=e.normalMap1,v=.15,C=v*.5,y=new Je,x=new $2;if(k8===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(N8===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const S=new k8(t,{textureWidth:r,textureHeight:s,clipBias:o,encoding:p}),I=new N8(t,{textureWidth:r,textureHeight:s,clipBias:o,encoding:p});S.matrixAutoUpdate=!1,I.matrixAutoUpdate=!1,this.material=new jt({uniforms:Mn.merge([Ue.fog,d.uniforms]),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,transparent:!0,fog:!0}),m!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:m}):this.material.uniforms.flowDirection={type:"v2",value:a},A.wrapS=A.wrapT=ys,g.wrapS=g.wrapT=ys,this.material.uniforms.tReflectionMap.value=S.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=I.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=A,this.material.uniforms.tNormalMap1.value=g,this.material.uniforms.color.value=i,this.material.uniforms.reflectivity.value=c,this.material.uniforms.textureMatrix.value=y,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=C,this.material.uniforms.config.value.z=C,this.material.uniforms.config.value.w=u;function T(M){y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(M.projectionMatrix),y.multiply(M.matrixWorldInverse),y.multiply(n.matrixWorld)}function B(){const M=x.getDelta(),R=n.material.uniforms.config;R.value.x+=l*M,R.value.y=R.value.x+C,R.value.x>=v?(R.value.x=0,R.value.y=C):R.value.y>=v&&(R.value.y=R.value.y-v)}this.onBeforeRender=function(M,R,P){T(P),B(),n.visible=!1,S.matrixWorld.copy(n.matrixWorld),I.matrixWorld.copy(n.matrixWorld),S.onBeforeRender(M,R,P),I.onBeforeRender(M,R,P),n.visible=!0}}};let C$=wD;we(C$,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new Qt}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <${parseInt(Xs.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
			#include <fog_fragment>

		}`});const d6={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","	float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","	gl_FragColor = vec4( vec3( depth ), opacity );","}"].join(`
`)},dA=new vf,FI=new Tr,E$=Math.cos(70*El.DEG2RAD),kI=(t,e)=>(t%e+e)%e;let S$=class extends Do{constructor(e,n){super(),we(this,"object"),we(this,"domElement"),we(this,"enabled",!0),we(this,"target",new D),we(this,"minDistance",0),we(this,"maxDistance",1/0),we(this,"minZoom",0),we(this,"maxZoom",1/0),we(this,"minPolarAngle",0),we(this,"maxPolarAngle",Math.PI),we(this,"minAzimuthAngle",-1/0),we(this,"maxAzimuthAngle",1/0),we(this,"enableDamping",!1),we(this,"dampingFactor",.05),we(this,"enableZoom",!0),we(this,"zoomSpeed",1),we(this,"enableRotate",!0),we(this,"rotateSpeed",1),we(this,"enablePan",!0),we(this,"panSpeed",1),we(this,"screenSpacePanning",!0),we(this,"keyPanSpeed",7),we(this,"zoomToCursor",!1),we(this,"autoRotate",!1),we(this,"autoRotateSpeed",2),we(this,"reverseOrbit",!1),we(this,"reverseHorizontalOrbit",!1),we(this,"reverseVerticalOrbit",!1),we(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),we(this,"mouseButtons",{LEFT:Ec.ROTATE,MIDDLE:Ec.DOLLY,RIGHT:Ec.PAN}),we(this,"touches",{ONE:Sc.ROTATE,TWO:Sc.DOLLY_PAN}),we(this,"target0"),we(this,"position0"),we(this,"zoom0"),we(this,"_domElementKeyEvents",null),we(this,"getPolarAngle"),we(this,"getAzimuthalAngle"),we(this,"setPolarAngle"),we(this,"setAzimuthalAngle"),we(this,"getDistance"),we(this,"listenToKeyEvents"),we(this,"stopListenToKeyEvents"),we(this,"saveState"),we(this,"reset"),we(this,"update"),we(this,"connect"),we(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Y=>{let Ee=kI(Y,2*Math.PI),ze=u.phi;ze<0&&(ze+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let K=Math.abs(Ee-ze);2*Math.PI-K<K&&(Ee<ze?Ee+=2*Math.PI:ze+=2*Math.PI),d.phi=Ee-ze,i.update()},this.setAzimuthalAngle=Y=>{let Ee=kI(Y,2*Math.PI),ze=u.theta;ze<0&&(ze+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let K=Math.abs(Ee-ze);2*Math.PI-K<K&&(Ee<ze?Ee+=2*Math.PI:ze+=2*Math.PI),d.theta=Ee-ze,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",ct),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ct),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Y=new D,Ee=new D(0,1,0),ze=new ai().setFromUnitVectors(e.up,Ee),K=ze.clone().invert(),ae=new D,Se=new ai,Ne=2*Math.PI;return function(){const Ft=i.object.position;ze.setFromUnitVectors(e.up,Ee),K.copy(ze).invert(),Y.copy(Ft).sub(i.target),Y.applyQuaternion(ze),u.setFromVector3(Y),i.autoRotate&&l===a.NONE&&U(V()),i.enableDamping?(u.theta+=d.theta*i.dampingFactor,u.phi+=d.phi*i.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let $t=i.minAzimuthAngle,rn=i.maxAzimuthAngle;isFinite($t)&&isFinite(rn)&&($t<-Math.PI?$t+=Ne:$t>Math.PI&&($t-=Ne),rn<-Math.PI?rn+=Ne:rn>Math.PI&&(rn-=Ne),$t<=rn?u.theta=Math.max($t,Math.min(rn,u.theta)):u.theta=u.theta>($t+rn)/2?Math.max($t,u.theta):Math.min(rn,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&R||i.object.isOrthographicCamera?u.radius=H(u.radius):u.radius=H(u.radius*p),Y.setFromSpherical(u),Y.applyQuaternion(K),Ft.copy(i.target).add(Y),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let Hi=!1;if(i.zoomToCursor&&R){let Wt=null;if(i.object instanceof sn&&i.object.isPerspectiveCamera){const fi=Y.length();Wt=H(fi*p);const $n=fi-Wt;i.object.position.addScaledVector(B,$n),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const fi=new D(M.x,M.y,0);fi.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Hi=!0;const $n=new D(M.x,M.y,0);$n.unproject(i.object),i.object.position.sub($n).add(fi),i.object.updateMatrixWorld(),Wt=Y.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Wt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Wt).add(i.object.position):(dA.origin.copy(i.object.position),dA.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(dA.direction))<E$?e.lookAt(i.target):(FI.setFromNormalAndCoplanarPoint(i.object.up,i.target),dA.intersectPlane(FI,i.target))))}else i.object instanceof Rr&&i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Hi=!0);return p=1,R=!1,Hi||ae.distanceToSquared(i.object.position)>c||8*(1-Se.dot(i.object.quaternion))>c?(i.dispatchEvent(r),ae.copy(i.object.position),Se.copy(i.object.quaternion),Hi=!1,!0):!1}})(),this.connect=Y=>{Y===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=Y,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ze),i.domElement.addEventListener("pointerdown",Mt),i.domElement.addEventListener("pointercancel",ce),i.domElement.addEventListener("wheel",Fe)},this.dispose=()=>{var Y,Ee,ze,K,ae,Se;(Y=i.domElement)==null||Y.removeEventListener("contextmenu",Ze),(Ee=i.domElement)==null||Ee.removeEventListener("pointerdown",Mt),(ze=i.domElement)==null||ze.removeEventListener("pointercancel",ce),(K=i.domElement)==null||K.removeEventListener("wheel",Fe),(ae=i.domElement)==null||ae.ownerDocument.removeEventListener("pointermove",Q),(Se=i.domElement)==null||Se.ownerDocument.removeEventListener("pointerup",F),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ct)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new C8,d=new C8;let p=1;const m=new D,A=new le,g=new le,v=new le,C=new le,y=new le,x=new le,S=new le,I=new le,T=new le,B=new D,M=new le;let R=!1;const P=[],L={};function V(){return 2*Math.PI/60/60*i.autoRotateSpeed}function N(){return Math.pow(.95,i.zoomSpeed)}function U(Y){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=Y:d.theta-=Y}function j(Y){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=Y:d.phi-=Y}const X=(()=>{const Y=new D;return function(ze,K){Y.setFromMatrixColumn(K,0),Y.multiplyScalar(-ze),m.add(Y)}})(),te=(()=>{const Y=new D;return function(ze,K){i.screenSpacePanning===!0?Y.setFromMatrixColumn(K,1):(Y.setFromMatrixColumn(K,0),Y.crossVectors(i.object.up,Y)),Y.multiplyScalar(ze),m.add(Y)}})(),k=(()=>{const Y=new D;return function(ze,K){const ae=i.domElement;if(ae&&i.object instanceof sn&&i.object.isPerspectiveCamera){const Se=i.object.position;Y.copy(Se).sub(i.target);let Ne=Y.length();Ne*=Math.tan(i.object.fov/2*Math.PI/180),X(2*ze*Ne/ae.clientHeight,i.object.matrix),te(2*K*Ne/ae.clientHeight,i.object.matrix)}else ae&&i.object instanceof Rr&&i.object.isOrthographicCamera?(X(ze*(i.object.right-i.object.left)/i.object.zoom/ae.clientWidth,i.object.matrix),te(K*(i.object.top-i.object.bottom)/i.object.zoom/ae.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function J(Y){i.object instanceof sn&&i.object.isPerspectiveCamera||i.object instanceof Rr&&i.object.isOrthographicCamera?p/=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function W(Y){i.object instanceof sn&&i.object.isPerspectiveCamera||i.object instanceof Rr&&i.object.isOrthographicCamera?p*=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function $(Y){if(!i.zoomToCursor||!i.domElement)return;R=!0;const Ee=i.domElement.getBoundingClientRect(),ze=Y.clientX-Ee.left,K=Y.clientY-Ee.top,ae=Ee.width,Se=Ee.height;M.x=ze/ae*2-1,M.y=-(K/Se)*2+1,B.set(M.x,M.y,1).unproject(i.object).sub(i.object.position).normalize()}function H(Y){return Math.max(i.minDistance,Math.min(i.maxDistance,Y))}function ne(Y){A.set(Y.clientX,Y.clientY)}function de(Y){$(Y),S.set(Y.clientX,Y.clientY)}function Ae(Y){C.set(Y.clientX,Y.clientY)}function q(Y){g.set(Y.clientX,Y.clientY),v.subVectors(g,A).multiplyScalar(i.rotateSpeed);const Ee=i.domElement;Ee&&(U(2*Math.PI*v.x/Ee.clientHeight),j(2*Math.PI*v.y/Ee.clientHeight)),A.copy(g),i.update()}function Te(Y){I.set(Y.clientX,Y.clientY),T.subVectors(I,S),T.y>0?J(N()):T.y<0&&W(N()),S.copy(I),i.update()}function Pe(Y){y.set(Y.clientX,Y.clientY),x.subVectors(y,C).multiplyScalar(i.panSpeed),k(x.x,x.y),C.copy(y),i.update()}function De(Y){$(Y),Y.deltaY<0?W(N()):Y.deltaY>0&&J(N()),i.update()}function Ce(Y){let Ee=!1;switch(Y.code){case i.keys.UP:k(0,i.keyPanSpeed),Ee=!0;break;case i.keys.BOTTOM:k(0,-i.keyPanSpeed),Ee=!0;break;case i.keys.LEFT:k(i.keyPanSpeed,0),Ee=!0;break;case i.keys.RIGHT:k(-i.keyPanSpeed,0),Ee=!0;break}Ee&&(Y.preventDefault(),i.update())}function Me(){if(P.length==1)A.set(P[0].pageX,P[0].pageY);else{const Y=.5*(P[0].pageX+P[1].pageX),Ee=.5*(P[0].pageY+P[1].pageY);A.set(Y,Ee)}}function ue(){if(P.length==1)C.set(P[0].pageX,P[0].pageY);else{const Y=.5*(P[0].pageX+P[1].pageX),Ee=.5*(P[0].pageY+P[1].pageY);C.set(Y,Ee)}}function oe(){const Y=P[0].pageX-P[1].pageX,Ee=P[0].pageY-P[1].pageY,ze=Math.sqrt(Y*Y+Ee*Ee);S.set(0,ze)}function _e(){i.enableZoom&&oe(),i.enablePan&&ue()}function He(){i.enableZoom&&oe(),i.enableRotate&&Me()}function ke(Y){if(P.length==1)g.set(Y.pageX,Y.pageY);else{const ze=nt(Y),K=.5*(Y.pageX+ze.x),ae=.5*(Y.pageY+ze.y);g.set(K,ae)}v.subVectors(g,A).multiplyScalar(i.rotateSpeed);const Ee=i.domElement;Ee&&(U(2*Math.PI*v.x/Ee.clientHeight),j(2*Math.PI*v.y/Ee.clientHeight)),A.copy(g)}function tt(Y){if(P.length==1)y.set(Y.pageX,Y.pageY);else{const Ee=nt(Y),ze=.5*(Y.pageX+Ee.x),K=.5*(Y.pageY+Ee.y);y.set(ze,K)}x.subVectors(y,C).multiplyScalar(i.panSpeed),k(x.x,x.y),C.copy(y)}function et(Y){const Ee=nt(Y),ze=Y.pageX-Ee.x,K=Y.pageY-Ee.y,ae=Math.sqrt(ze*ze+K*K);I.set(0,ae),T.set(0,Math.pow(I.y/S.y,i.zoomSpeed)),J(T.y),S.copy(I)}function Ye(Y){i.enableZoom&&et(Y),i.enablePan&&tt(Y)}function _t(Y){i.enableZoom&&et(Y),i.enableRotate&&ke(Y)}function Mt(Y){var Ee,ze;i.enabled!==!1&&(P.length===0&&((Ee=i.domElement)==null||Ee.ownerDocument.addEventListener("pointermove",Q),(ze=i.domElement)==null||ze.ownerDocument.addEventListener("pointerup",F)),st(Y),Y.pointerType==="touch"?Oe(Y):Ie(Y))}function Q(Y){i.enabled!==!1&&(Y.pointerType==="touch"?ge(Y):Re(Y))}function F(Y){var Ee,ze,K;Xe(Y),P.length===0&&((Ee=i.domElement)==null||Ee.releasePointerCapture(Y.pointerId),(ze=i.domElement)==null||ze.ownerDocument.removeEventListener("pointermove",Q),(K=i.domElement)==null||K.ownerDocument.removeEventListener("pointerup",F)),i.dispatchEvent(o),l=a.NONE}function ce(Y){Xe(Y)}function Ie(Y){let Ee;switch(Y.button){case 0:Ee=i.mouseButtons.LEFT;break;case 1:Ee=i.mouseButtons.MIDDLE;break;case 2:Ee=i.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case Ec.DOLLY:if(i.enableZoom===!1)return;de(Y),l=a.DOLLY;break;case Ec.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enablePan===!1)return;Ae(Y),l=a.PAN}else{if(i.enableRotate===!1)return;ne(Y),l=a.ROTATE}break;case Ec.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enableRotate===!1)return;ne(Y),l=a.ROTATE}else{if(i.enablePan===!1)return;Ae(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Re(Y){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;q(Y);break;case a.DOLLY:if(i.enableZoom===!1)return;Te(Y);break;case a.PAN:if(i.enablePan===!1)return;Pe(Y);break}}function Fe(Y){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),i.dispatchEvent(s),De(Y),i.dispatchEvent(o))}function ct(Y){i.enabled===!1||i.enablePan===!1||Ce(Y)}function Oe(Y){switch(lt(Y),P.length){case 1:switch(i.touches.ONE){case Sc.ROTATE:if(i.enableRotate===!1)return;Me(),l=a.TOUCH_ROTATE;break;case Sc.PAN:if(i.enablePan===!1)return;ue(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Sc.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;_e(),l=a.TOUCH_DOLLY_PAN;break;case Sc.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;He(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function ge(Y){switch(lt(Y),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;ke(Y),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;tt(Y),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ye(Y),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;_t(Y),i.update();break;default:l=a.NONE}}function Ze(Y){i.enabled!==!1&&Y.preventDefault()}function st(Y){P.push(Y)}function Xe(Y){delete L[Y.pointerId];for(let Ee=0;Ee<P.length;Ee++)if(P[Ee].pointerId==Y.pointerId){P.splice(Ee,1);return}}function lt(Y){let Ee=L[Y.pointerId];Ee===void 0&&(Ee=new le,L[Y.pointerId]=Ee),Ee.set(Y.pageX,Y.pageY)}function nt(Y){const Ee=Y.pointerId===P[0].pointerId?P[1]:P[0];return L[Ee.pointerId]}n!==void 0&&this.connect(n),this.update()}};class i1{constructor(){we(this,"enabled",!0),we(this,"needsSwap",!0),we(this,"clear",!1),we(this,"renderToScreen",!1)}setSize(e,n){}render(e,n,i,r,s){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class r1{constructor(e){we(this,"camera",new Rr(-1,1,1,-1,0,1)),we(this,"geometry",new pu(2,2)),we(this,"mesh"),this.mesh=new tn(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const Bo={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},Ed={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new le},cameraProjectionMatrix:{value:new Je},cameraInverseProjectionMatrix:{value:new Je},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","	return texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","		return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","		return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","	float depth = getDepth( vUv );","	float viewZ = getViewZ( depth );","	vec3 viewPosition = getViewPosition( vUv, depth, viewZ );","	vec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","	vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","	vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","	vec3 bitangent = cross( viewNormal, tangent );","	mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","		vec3 sampleVector = kernelMatrix * kernel[ i ];","		vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","		vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","		samplePointNDC /= samplePointNDC.w;","		vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","		float realDepth = getLinearDepth( samplePointUv );","		float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","		float delta = sampleDepth - realDepth;","		if ( delta > minDistance && delta < maxDistance ) {","			occlusion += 1.0;","		}","	}","	occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","	gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join(`
`)},pA={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","void main() {","	float depth = getLinearDepth( vUv );","	gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join(`
`)},mA={uniforms:{tDiffuse:{value:null},resolution:{value:new le}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","	vec2 texelSize = ( 1.0 / resolution );","	float result = 0.0;","	for ( int i = - 2; i <= 2; i ++ ) {","		for ( int j = - 2; j <= 2; j ++ ) {","			vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","			result += texture2D( tDiffuse, vUv + offset ).r;","		}","	}","	gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join(`
`)},_c=class extends i1{constructor(t,e,n,i){super(),this.width=n!==void 0?n:512,this.height=i!==void 0?i:512,this.clear=!0,this.camera=e,this.scene=t,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const r=new xf;r.format=Bl,r.type=xl,this.beautyRenderTarget=new cn(this.width,this.height),this.normalRenderTarget=new cn(this.width,this.height,{minFilter:vt,magFilter:vt,depthTexture:r}),this.ssaoRenderTarget=new cn(this.width,this.height),this.blurRenderTarget=this.ssaoRenderTarget.clone(),Ed===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new jt({defines:Object.assign({},Ed.defines),uniforms:Mn.clone(Ed.uniforms),vertexShader:Ed.vertexShader,fragmentShader:Ed.fragmentShader,blending:Lt}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new N0,this.normalMaterial.blending=Lt,this.blurMaterial=new jt({defines:Object.assign({},mA.defines),uniforms:Mn.clone(mA.uniforms),vertexShader:mA.vertexShader,fragmentShader:mA.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new jt({defines:Object.assign({},pA.defines),uniforms:Mn.clone(pA.uniforms),vertexShader:pA.vertexShader,fragmentShader:pA.fragmentShader,blending:Lt}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new jt({uniforms:Mn.clone(Bo.uniforms),vertexShader:Bo.vertexShader,fragmentShader:Bo.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:L2,blendDst:Kh,blendEquation:Br,blendSrcAlpha:D2,blendDstAlpha:Kh,blendEquationAlpha:Br}),this.fsQuad=new r1(null),this.originalClearColor=new be}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.capabilities.isWebGL2===!1&&(this.noiseTexture.format=Cx),t.setRenderTarget(this.beautyRenderTarget),t.clear(),t.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(t,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.output){case _c.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case _c.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case _c.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case _c.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case _c.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case _c.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Pp,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(t,e,n,i,r){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,i,r){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.beautyRenderTarget.setSize(t,e),this.ssaoRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.ssaoMaterial.uniforms.resolution.value.set(t,e),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e)}generateSampleKernel(){const t=this.kernelSize,e=this.kernel;for(let n=0;n<t;n++){const i=new D;i.x=Math.random()*2-1,i.y=Math.random()*2-1,i.z=Math.random(),i.normalize();let r=n/t;r=El.lerp(.1,1,r*r),i.multiplyScalar(r),e.push(i)}}generateRandomKernelRotations(){ip===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const n=new ip,i=4*4,r=new Float32Array(i);for(let s=0;s<i;s++){const o=Math.random()*2-1,a=Math.random()*2-1,l=0;r[s]=n.noise3d(o,a,l)}this.noiseTexture=new Io(r,4,4,Oc,fr),this.noiseTexture.wrapS=ys,this.noiseTexture.wrapT=ys,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){e.set(n,n.visible),(n.isPoints||n.isLine)&&(n.visible=!1)})}restoreVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){const i=e.get(n);n.visible=i}),e.clear()}};let w$=_c;we(w$,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});const I$={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new be(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},U8=class extends i1{constructor(t,e,n,i){super(),this.strength=e!==void 0?e:1,this.radius=n,this.threshold=i,this.resolution=t!==void 0?new le(t.x,t.y):new le(256,256),this.clearColor=new be(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let r=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new cn(r,s,{type:Jn}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let u=0;u<this.nMips;u++){const d=new cn(r,s,{type:Jn});d.texture.name="UnrealBloomPass.h"+u,d.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(d);const p=new cn(r,s,{type:Jn});p.texture.name="UnrealBloomPass.v"+u,p.texture.generateMipmaps=!1,this.renderTargetsVertical.push(p),r=Math.round(r/2),s=Math.round(s/2)}const o=I$;this.highPassUniforms=Mn.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new jt({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];r=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[u])),this.separableBlurMaterials[u].uniforms.texSize.value=new le(r,s),r=Math.round(r/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new D(1,1,1),new D(1,1,1),new D(1,1,1),new D(1,1,1),new D(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const c=Bo;this.copyUniforms=Mn.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new jt({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:Rp,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new be,this.oldClearAlpha=1,this.basic=new Ii,this.fsQuad=new r1(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(t,e){let n=Math.round(t/2),i=Math.round(e/2);this.renderTargetBright.setSize(n,i);for(let r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(n,i),this.renderTargetsVertical[r].setSize(n,i),this.separableBlurMaterials[r].uniforms.texSize.value=new le(n,i),n=Math.round(n/2),i=Math.round(i/2)}render(t,e,n,i,r){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const s=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),r&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=U8.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[a]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=U8.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[a]),t.clear(),this.fsQuad.render(t),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,r&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.fsQuad.render(t)),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=s}getSeperableBlurMaterial(t){return new jt({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new le(.5,.5)},direction:{value:new le(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(t){return new jt({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let ID=U8;we(ID,"BlurDirectionX",new le(1,0));we(ID,"BlurDirectionY",new le(0,1));const AA={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new le(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new Je},cameraInverseProjectionMatrix:{value:new Je},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","	#if DIFFUSE_TEXTURE == 1","	return texture2D( tDiffuse, vUv );","	#else","	return vec4( 1.0 );","	#endif","}","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","	#if NORMAL_TEXTURE == 1","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","	#else","	return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","	#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","	vec3 viewDelta = sampleViewPosition - centerViewPosition;","	float viewDistance = length( viewDelta );","	float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","	return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","	// precompute some variables require in getOcclusion.","	scaleDividedByCameraFar = scale / cameraFar;","	minResolutionMultipliedByCameraFar = minResolution * cameraFar;","	vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","	// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","	float angle = rand( vUv + randomSeed ) * PI2;","	vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","	vec2 radiusStep = radius;","	float occlusionSum = 0.0;","	float weightSum = 0.0;","	for( int i = 0; i < NUM_SAMPLES; i ++ ) {","		vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","		radius += radiusStep;","		angle += ANGLE_STEP;","		float sampleDepth = getDepth( sampleUv );","		if( sampleDepth >= ( 1.0 - EPSILON ) ) {","			continue;","		}","		float sampleViewZ = getViewZ( sampleDepth );","		vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","		occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","		weightSum += 1.0;","	}","	if( weightSum == 0.0 ) discard;","	return occlusionSum * ( intensity / weightSum );","}","void main() {","	float centerDepth = getDepth( vUv );","	if( centerDepth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = getViewZ( centerDepth );","	vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","	float ambientOcclusion = getAmbientOcclusion( viewPosition );","	gl_FragColor = getDefaultColor( vUv );","	gl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join(`
`)},Ka={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new le(512,512)},sampleUvOffsets:{value:[new le(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","	vUv = uv;","	vInvSize = 1.0 / size;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","void main() {","	float depth = getDepth( vUv );","	if( depth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = -getViewZ( depth );","	bool rBreak = false, lBreak = false;","	float weightSum = sampleWeights[0];","	vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","	for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","		float sampleWeight = sampleWeights[i];","		vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","		vec2 sampleUv = vUv + sampleUvOffset;","		float viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","		if( ! rBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","		sampleUv = vUv - sampleUvOffset;","		viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","		if( ! lBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","	}","	gl_FragColor = diffuseSum / weightSum;","}"].join(`
`)},zg={createSampleWeights:(t,e)=>{const n=(r,s)=>Math.exp(-(r*r)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s),i=[];for(let r=0;r<=t;r++)i.push(n(r,e));return i},createSampleOffsets:(t,e)=>{const n=[];for(let i=0;i<=t;i++)n.push(e.clone().multiplyScalar(i));return n},configure:(t,e,n,i)=>{t.defines.KERNEL_RADIUS=e,t.uniforms.sampleUvOffsets.value=zg.createSampleOffsets(e,i),t.uniforms.sampleWeights.value=zg.createSampleWeights(e,n),t.needsUpdate=!0}};class _$ extends i1{constructor(e,n,i=!1,r=!1,s=new le(256,256)){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=i,this.supportsNormalTexture=r,this.originalClearColor=new be,this._oldClearColor=new be,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new le(s.x,s.y),this.saoRenderTarget=new cn(this.resolution.x,this.resolution.y,{type:Jn}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new cn(this.resolution.x,this.resolution.y,{minFilter:vt,magFilter:vt,type:Jn}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new xf,o.type=gf,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new z2,this.depthMaterial.depthPacking=wx,this.depthMaterial.blending=Lt,this.normalMaterial=new N0,this.normalMaterial.blending=Lt,this.saoMaterial=new jt({defines:Object.assign({},AA.defines),fragmentShader:AA.fragmentShader,vertexShader:AA.vertexShader,uniforms:Mn.clone(AA.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=Lt,this.vBlurMaterial=new jt({uniforms:Mn.clone(Ka.uniforms),defines:Object.assign({},Ka.defines),vertexShader:Ka.vertexShader,fragmentShader:Ka.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=Lt,this.hBlurMaterial=new jt({uniforms:Mn.clone(Ka.uniforms),defines:Object.assign({},Ka.defines),vertexShader:Ka.vertexShader,fragmentShader:Ka.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=Lt,this.materialCopy=new jt({uniforms:Mn.clone(Bo.uniforms),vertexShader:Bo.vertexShader,fragmentShader:Bo.fragmentShader,blending:Lt}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=Pp,this.materialCopy.blendSrc=L2,this.materialCopy.blendDst=Kh,this.materialCopy.blendEquation=Br,this.materialCopy.blendSrcAlpha=D2,this.materialCopy.blendDstAlpha=Kh,this.materialCopy.blendEquationAlpha=Br,this.depthCopy=new jt({uniforms:Mn.clone(d6.uniforms),vertexShader:d6.vertexShader,fragmentShader:d6.fragmentShader,blending:Lt}),this.fsQuad=new r1(null)}render(e,n,i){if(this.renderToScreen&&(this.materialCopy.blending=Lt,this.materialCopy.uniforms.tDiffuse.value=i.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const r=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(zg.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new le(0,1)),zg.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new le(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=Pp:o.blending=Lt,this.renderPass(e,o,this.renderToScreen?null:i),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=r}renderPass(e,n,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=n,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,n,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r=n.clearColor||r,s=n.clearAlpha||s,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=n,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,n){this.beautyRenderTarget.setSize(e,n),this.saoRenderTarget.setSize(e,n),this.blurIntermediateRenderTarget.setSize(e,n),this.normalRenderTarget.setSize(e,n),this.depthRenderTarget.setSize(e,n),this.saoMaterial.uniforms.size.value.set(e,n),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,n),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,n),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}we(_$,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});const po={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new le},cameraProjectionMatrix:{value:new Je},cameraInverseProjectionMatrix:{value:new Je},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:`

    varying vec2 vUv;

    void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float surfDist;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		uniform float thickTolerance;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef isPerspectiveCamera
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef isSelective
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef isPerspectiveCamera
				vec3 viewIncidenceDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#else
				vec3 viewIncidenceDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef isPerspectiveCamera
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<MAX_STEP;i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef isPerspectiveCamera
					// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
					float sD=surfDist*cW;
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
					float sD=surfDist;
				#endif
				if(viewReflectRayZ-sD>vZ) continue;

				#ifdef isInfiniteThick
					if(viewReflectRayZ+thickTolerance*clipW<vP.z) break;
				#endif
				float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

				float op=opacity;

				if(away<sD){
					vec3 vN=getViewNormal( uv );
					if(dot(viewReflectDir,vN)>=0.) continue;
					float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
					if(distance>maxDistance) break;
					#ifdef isDistanceAttenuation
						float ratio=1.-(distance/maxDistance);
						float attenuation=ratio*ratio;
						op=opacity*attenuation;
					#endif
					#ifdef isFresnel
						float fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;
						op*=fresnel;
					#endif
					vec4 reflectColor=texture2D(tDiffuse,uv);
					gl_FragColor.xyz=reflectColor.xyz;
					gl_FragColor.a=op;
					break;
				}
			}
		}
	`},gA={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDepth;

    uniform float cameraNear;
    uniform float cameraFar;

    varying vec2 vUv;

    #include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

    void main() {

    	float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
    	gl_FragColor = vec4( vec3( d ), 1.0 );

    }

  `},Ya={uniforms:{tDiffuse:{value:null},resolution:{value:new le},opacity:{value:.5}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDiffuse;
    uniform vec2 resolution;
    varying vec2 vUv;
    void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

    	vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`},Mc=class extends i1{constructor({renderer:t,scene:e,camera:n,width:i,height:r,selects:s,bouncing:o=!1,groundReflector:a}){super(),this.width=i!==void 0?i:512,this.height=r!==void 0?r:512,this.clear=!0,this.renderer=t,this.scene=e,this.camera=n,this.groundReflector=a,this.opacity=po.uniforms.opacity.value,this.output=0,this.maxDistance=po.uniforms.maxDistance.value,this.thickness=po.uniforms.thickness.value,this.tempColor=new be,this._selects=s,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(c){this._selects!==c&&(this._selects=c,Array.isArray(c)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=o,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(c){this._bouncing!==c&&(this._bouncing=c,c?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=po.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(c){this._distanceAttenuation!==c&&(this._distanceAttenuation=c,this.ssrMaterial.defines.DISTANCE_ATTENUATION=c,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=po.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(c){this._fresnel!==c&&(this._fresnel=c,this.ssrMaterial.defines.FRESNEL=c,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=po.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(c){this._infiniteThick!==c&&(this._infiniteThick=c,this.ssrMaterial.defines.INFINITE_THICK=c,this.ssrMaterial.needsUpdate=!0)}});const l=new xf;l.type=gf,l.minFilter=vt,l.magFilter=vt,this.beautyRenderTarget=new cn(this.width,this.height,{minFilter:vt,magFilter:vt,type:Jn,depthTexture:l,depthBuffer:!0}),this.prevRenderTarget=new cn(this.width,this.height,{minFilter:vt,magFilter:vt}),this.normalRenderTarget=new cn(this.width,this.height,{minFilter:vt,magFilter:vt,type:Jn}),this.metalnessRenderTarget=new cn(this.width,this.height,{minFilter:vt,magFilter:vt,type:Jn}),this.ssrRenderTarget=new cn(this.width,this.height,{minFilter:vt,magFilter:vt}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new jt({defines:Object.assign({},po.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:Mn.clone(po.uniforms),vertexShader:po.vertexShader,fragmentShader:po.fragmentShader,blending:Lt}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new N0,this.normalMaterial.blending=Lt,this.metalnessOnMaterial=new Ii({color:"white"}),this.metalnessOffMaterial=new Ii({color:"black"}),this.blurMaterial=new jt({defines:Object.assign({},Ya.defines),uniforms:Mn.clone(Ya.uniforms),vertexShader:Ya.vertexShader,fragmentShader:Ya.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new jt({defines:Object.assign({},Ya.defines),uniforms:Mn.clone(Ya.uniforms),vertexShader:Ya.vertexShader,fragmentShader:Ya.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new jt({defines:Object.assign({},gA.defines),uniforms:Mn.clone(gA.uniforms),vertexShader:gA.vertexShader,fragmentShader:gA.fragmentShader,blending:Lt}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new jt({uniforms:Mn.clone(Bo.uniforms),vertexShader:Bo.vertexShader,fragmentShader:Bo.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:Dp,blendDst:Lp,blendEquation:Br,blendSrcAlpha:Dp,blendDstAlpha:Lp,blendEquationAlpha:Br}),this.fsQuad=new r1(null),this.originalClearColor=new be}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.setRenderTarget(this.beautyRenderTarget),t.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),t.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(t,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(t,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.renderPass(t,this.blurMaterial2,this.blurRenderTarget2)),this.output){case Mc.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=So,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=So,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e));break;case Mc.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=So,this.renderPass(t,this.copyMaterial,this.prevRenderTarget));break;case Mc.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Mc.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case Mc.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Mc.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Lt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(t,e,n,i,r){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,i,r){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderMetalness(t,e,n,i,r){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.scene.traverseVisible(a=>{a._SSRPassBackupMaterial=a.material,this._selects.includes(a)?a.material=this.metalnessOnMaterial:a.material=this.metalnessOffMaterial}),t.render(this.scene,this.camera),this.scene.traverseVisible(a=>{a.material=a._SSRPassBackupMaterial}),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(t*t+e*e),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(t,e),this.prevRenderTarget.setSize(t,e),this.ssrRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.metalnessRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.blurRenderTarget2.setSize(t,e),this.ssrMaterial.uniforms.resolution.value.set(t,e),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e),this.blurMaterial2.uniforms.resolution.value.set(t,e)}};let M$=Mc;we(M$,"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});class v9 extends Bi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new P$(n)}),this.register(function(n){return new G$(n)}),this.register(function(n){return new Q$(n)}),this.register(function(n){return new H$(n)}),this.register(function(n){return new L$(n)}),this.register(function(n){return new F$(n)}),this.register(function(n){return new k$(n)}),this.register(function(n){return new N$(n)}),this.register(function(n){return new R$(n)}),this.register(function(n){return new O$(n)}),this.register(function(n){return new D$(n)}),this.register(function(n){return new U$(n)}),this.register(function(n){return new B$(n)}),this.register(function(n){return new z$(n)}),this.register(function(n){return new V$(n)})}load(e,n,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Mo.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new li(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){n(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Mo.decodeText(new Uint8Array(e.slice(0,4)))===_D){try{o[Gt.KHR_BINARY_GLTF]=new W$(e)}catch(u){r&&r(u);return}s=JSON.parse(o[Gt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Mo.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new ree(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case Gt.KHR_MATERIALS_UNLIT:o[u]=new b$;break;case Gt.KHR_DRACO_MESH_COMPRESSION:o[u]=new J$(s,this.dracoLoader);break;case Gt.KHR_TEXTURE_TRANSFORM:o[u]=new j$;break;case Gt.KHR_MESH_QUANTIZATION:o[u]=new K$;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,s){i.parse(e,n,r,s)})}}function T$(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Gt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class B${constructor(e){this.parser=e,this.name=Gt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const s=n[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new be(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Zx(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new qx(u),c.distance=d;break;case"spot":c=new Xx(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,il(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),n.cache.add(i,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(n.cache,a,l)})}}class b${constructor(){this.name=Gt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ii}extendParams(e,n,i){const r=[];e.color=new be(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class R${constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class P${constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new le(a,a)}return Promise.all(s)}}class D${constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class L${constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new be(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class F${constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class k${constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new be(a[0],a[1],a[2]),Promise.all(s)}}class N${constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class O${constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new be(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class U${constructor(e){this.parser=e,this.name=Gt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class G${constructor(e){this.parser=e,this.name=Gt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class Q${constructor(e){this.parser=e,this.name=Gt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class H${constructor(e){this.parser=e,this.name=Gt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class z${constructor(e){this.name=Gt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,p,r.mode,r.filter),m})})}else return null}}class V${constructor(e){this.name=Gt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==as.TRIANGLES&&c.mode!==as.TRIANGLE_STRIP&&c.mode!==as.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const A of d){const g=new Je,v=new D,C=new ai,y=new D(1,1,1),x=new kx(A.geometry,A.material,p);for(let S=0;S<p;S++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&C.fromBufferAttribute(l.ROTATION,S),l.SCALE&&y.fromBufferAttribute(l.SCALE,S),x.setMatrixAt(S,g.compose(v,C,y));for(const S in l)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&A.geometry.setAttribute(S,l[S]);Ht.prototype.copy.call(x,A),this.parser.assignFinalMaterial(x),m.push(x)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const _D="glTF",Sd=12,NI={JSON:1313821514,BIN:5130562};class W${constructor(e){this.name=Gt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Sd);if(this.header={magic:Mo.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==_D)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Sd,r=new DataView(e,Sd);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===NI.JSON){const l=new Uint8Array(e,Sd+s,o);this.content=Mo.decodeText(l)}else if(a===NI.BIN){const l=Sd+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class J${constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Gt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=G8[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=G8[u]||u.toLowerCase();if(o[u]!==void 0){const p=i.accessors[e.attributes[u]],m=Oh[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(p){for(const m in p.attributes){const A=p.attributes[m],g=l[m];g!==void 0&&(A.normalized=g)}d(p)},a,c)})})}}class j${constructor(){this.name=Gt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class K${constructor(){this.name=Gt.KHR_MESH_QUANTIZATION}}class MD extends wf{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)n[o]=i[s+o];return n}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-n,d=(i-n)/u,p=d*d,m=p*d,A=e*c,g=A-c,v=-2*m+3*p,C=m-p,y=1-v,x=C-p+d;for(let S=0;S!==a;S++){const I=o[g+S+a],T=o[g+S+l]*u,B=o[A+S+a],M=o[A+S]*u;s[S]=y*I+x*T+v*B+C*M}return s}}const Y$=new ai;class X$ extends MD{interpolate_(e,n,i,r){const s=super.interpolate_(e,n,i,r);return Y$.fromArray(s).normalize().toArray(s),s}}const as={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Oh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},OI={9728:vt,9729:ln,9984:Np,9985:k2,9986:Dh,9987:xs},UI={33071:_n,33648:Yh,10497:ys},p6={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},G8={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Xs.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Xa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},q$={CUBICSPLINE:void 0,LINEAR:iu,STEP:Xh},m6={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Z$(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new k0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Po})),t.DefaultMaterial}function gc(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function il(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function $$(t,e,n){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],p=c[2];return i&&(t.morphAttributes.position=u),r&&(t.morphAttributes.normal=d),s&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function eee(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function tee(t){let e;const n=t.extensions&&t.extensions[Gt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+A6(n.attributes):e=t.indices+":"+A6(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,r=t.targets.length;i<r;i++)e+=":"+A6(t.targets[i]);return e}function A6(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function Q8(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function nee(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const iee=new Je;class ree{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new T$,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new O0(this.options.manager):this.textureLoader=new nP(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new li(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};gc(s,a,r),il(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=n.length;r<s;r++){const o=n[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const s=e(n[r]);s&&i.push(s)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Gt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Mo.resolveURL(n.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,s=n.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=p6[r.type],a=Oh[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Zt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=p6[r.type],c=Oh[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,A=r.normalized===!0;let g,v;if(m&&m!==d){const C=Math.floor(p/m),y="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+C+":"+r.count;let x=n.cache.get(y);x||(g=new c(a,C*m,r.count*m/u),x=new C0(g,m/u),n.cache.add(y,x)),v=new Rl(x,l,p%m/u,A)}else a===null?g=new c(r.count*l):g=new c(a,p,r.count*l),v=new Zt(g,l,A);if(r.sparse!==void 0){const C=p6.SCALAR,y=Oh[r.sparse.indices.componentType],x=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,I=new y(o[1],x,r.sparse.count*C),T=new c(o[2],S,r.sparse.count*l);a!==null&&(v=new Zt(v.array.slice(),v.itemSize,v.normalized));for(let B=0,M=I.length;B<M;B++){const R=I[B];if(v.setX(R,T[B*l]),l>=2&&v.setY(R,T[B*l+1]),l>=3&&v.setZ(R,T[B*l+2]),l>=4&&v.setW(R,T[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const n=this.json,i=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,i){const r=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=OI[p.magFilter]||ln,u.minFilter=OI[p.minFilter]||xs,u.wrapS=UI[p.wrapS]||ys,u.wrapT=UI[p.wrapT]||ys,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let A=p;n.isImageBitmapLoader===!0&&(A=function(g){const v=new yn(g);v.needsUpdate=!0,p(v)}),n.load(Mo.resolveURL(d,s.path),A,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||nee(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Gt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Gt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Gt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new S0,Zn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Qi,Zn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return k0}loadMaterial(e){const n=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Gt.KHR_MATERIALS_UNLIT]){const d=r[Gt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,n))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new be(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Us);const u=s.alphaMode||m6.OPAQUE;if(u===m6.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===m6.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ii&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new le(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Ii&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ii&&(a.emissive=new be().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ii&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),il(d,s),n.associations.set(d,{materials:e}),s.extensions&&gc(r,d,s),d})}createUniqueName(e){const n=Vt.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Gt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return GI(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=tee(c),d=r[u];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[Gt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=GI(new yt,c,n),r[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const n=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?Z$(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,A=u.length;m<A;m++){const g=u[m],v=o[m];let C;const y=c[m];if(v.mode===as.TRIANGLES||v.mode===as.TRIANGLE_STRIP||v.mode===as.TRIANGLE_FAN||v.mode===void 0)C=s.isSkinnedMesh===!0?new Fx(g,y):new tn(g,y),C.isSkinnedMesh===!0&&C.normalizeSkinWeights(),v.mode===as.TRIANGLE_STRIP?C.geometry=LI(C.geometry,Sx):v.mode===as.TRIANGLE_FAN&&(C.geometry=LI(C.geometry,Pg));else if(v.mode===as.LINES)C=new qs(g,y);else if(v.mode===as.LINE_STRIP)C=new Ea(g,y);else if(v.mode===as.LINE_LOOP)C=new Nx(g,y);else if(v.mode===as.POINTS)C=new j2(g,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(C.geometry.morphAttributes).length>0&&eee(C,s),C.name=n.createUniqueName(s.name||"mesh_"+e),il(C,s),v.extensions&&gc(r,C,v),n.assignFinalMaterial(C),d.push(C)}for(let m=0,A=d.length;m<A;m++)n.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&gc(r,d[0],s),d[0];const p=new ha;s.extensions&&gc(r,p,s),n.associations.set(p,{meshes:e});for(let m=0,A=d.length;m<A;m++)p.add(d[m]);return p})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new sn(El.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new Rr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),il(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let r=0,s=n.joints.length;r<s;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const p=new Je;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new E0(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,d=i.channels.length;u<d;u++){const p=i.channels[u],m=i.samplers[p.sampler],A=p.target,g=A.node,v=i.parameters!==void 0?i.parameters[m.input]:m.input,C=i.parameters!==void 0?i.parameters[m.output]:m.output;A.node!==void 0&&(s.push(this.getDependency("node",g)),o.push(this.getDependency("accessor",v)),a.push(this.getDependency("accessor",C)),l.push(m),c.push(A))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],p=u[1],m=u[2],A=u[3],g=u[4],v=[];for(let C=0,y=d.length;C<y;C++){const x=d[C],S=p[C],I=m[C],T=A[C],B=g[C];if(x===void 0)continue;x.updateMatrix();let M;switch(Xa[B.path]){case Xa.weights:M=ef;break;case Xa.rotation:M=Pl;break;case Xa.position:case Xa.scale:default:M=tf;break}const R=x.name?x.name:x.uuid,P=T.interpolation!==void 0?q$[T.interpolation]:iu,L=[];Xa[B.path]===Xa.weights?x.traverse(function(N){N.morphTargetInfluences&&L.push(N.name?N.name:N.uuid)}):L.push(R);let V=I.array;if(I.normalized){const N=Q8(V.constructor),U=new Float32Array(V.length);for(let j=0,X=V.length;j<X;j++)U[j]=V[j]*N;V=U}for(let N=0,U=L.length;N<U;N++){const j=new M(L[N]+"."+Xa[B.path],S.array,V,P);T.interpolation==="CUBICSPLINE"&&(j.createInterpolant=function(te){const k=this instanceof Pl?X$:MD;return new k(this.times,this.values,this.getValueSize()/3,te)},j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(j)}}return new nf(r,void 0,v)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const n=this.json,i=this,r=n.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,iee)});for(let m=0,A=d.length;m<A;m++)u.add(d[m]);return u})}_loadNodeShallow(e){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new J2:c.length>1?u=new ha:c.length===1?u=c[0]:u=new Ht,u!==c[0])for(let d=0,p=c.length;d<p;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),il(u,s),s.extensions&&gc(i,u,s),s.matrix!==void 0){const d=new Je;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],r=this,s=new ha;i.name&&(s.name=r.createUniqueName(i.name)),il(s,i),i.extensions&&gc(n,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof Zn||p instanceof yn)&&d.set(p,m);return u.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=c(s),s})}}function see(t,e,n){const i=e.attributes,r=new zl;if(i.POSITION!==void 0){const a=n.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new D(l[0],l[1],l[2]),new D(c[0],c[1],c[2])),a.normalized){const u=Q8(Oh[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new D,l=new D;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const p=n.json.accessors[d.POSITION],m=p.min,A=p.max;if(m!==void 0&&A!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(A[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(A[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(A[2]))),p.normalized){const g=Q8(Oh[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}t.boundingBox=r;const o=new Vl;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=o}function GI(t,e,n){const i=e.attributes,r=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in i){const a=G8[o]||o.toLowerCase();a in t.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});r.push(o)}return il(t,e),see(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?$$(t,e.targets,n):t})}const H8=class{static createButton(t,e={}){const n=document.createElement("button");function i(){let a=null;async function l(u){u.addEventListener("end",c),await t.xr.setSession(u),n.textContent="EXIT VR",a=u}function c(){a.removeEventListener("end",c),n.textContent="ENTER VR",a=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=()=>{n.style.opacity="1.0"},n.onmouseleave=()=>{n.style.opacity="0.5"},n.onclick=()=>{var u;if(a===null){const d=[e.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);(u=navigator.xr)==null||u.requestSession("immersive-vr",{...e,optionalFeatures:d}).then(l)}else a.end()}}function r(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function s(){r(),n.textContent="VR NOT SUPPORTED"}function o(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return o(n),n.id="VRButton",n.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(a=>{a?i():s(),a&&H8.xrSessionIsGranted&&n.click()}),n;{const a=document.createElement("a");return window.isSecureContext===!1?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",o(a),a}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{H8.xrSessionIsGranted=!0})}};let oee=H8;we(oee,"xrSessionIsGranted",!1);class aee extends yt{constructor(e,n,i,r){super();const s=[],o=[],a=[],l=new D,c=new Je;c.makeRotationFromEuler(i),c.setPosition(n);const u=new Je;u.copy(c).invert(),d(),this.setAttribute("position",new je(s,3)),this.setAttribute("normal",new je(o,3)),this.setAttribute("uv",new je(a,2));function d(){let g,v=[];const C=new D,y=new D;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const x=e.geometry,S=x.attributes.position,I=x.attributes.normal;if(x.index!==null){const T=x.index;for(g=0;g<T.count;g++)C.fromBufferAttribute(S,T.getX(g)),y.fromBufferAttribute(I,T.getX(g)),p(v,C,y)}else for(g=0;g<S.count;g++)C.fromBufferAttribute(S,g),y.fromBufferAttribute(I,g),p(v,C,y);for(v=m(v,l.set(1,0,0)),v=m(v,l.set(-1,0,0)),v=m(v,l.set(0,1,0)),v=m(v,l.set(0,-1,0)),v=m(v,l.set(0,0,1)),v=m(v,l.set(0,0,-1)),g=0;g<v.length;g++){const T=v[g];a.push(.5+T.position.x/r.x,.5+T.position.y/r.y),T.position.applyMatrix4(c),s.push(T.position.x,T.position.y,T.position.z),o.push(T.normal.x,T.normal.y,T.normal.z)}}function p(g,v,C){v.applyMatrix4(e.matrixWorld),v.applyMatrix4(u),C.transformDirection(e.matrixWorld),g.push(new QI(v.clone(),C.clone()))}function m(g,v){const C=[],y=.5*Math.abs(r.dot(v));for(let x=0;x<g.length;x+=3){let S,I,T,B=0,M,R,P,L;const V=g[x+0].position.dot(v)-y,N=g[x+1].position.dot(v)-y,U=g[x+2].position.dot(v)-y;switch(S=V>0,I=N>0,T=U>0,B=(S?1:0)+(I?1:0)+(T?1:0),B){case 0:{C.push(g[x]),C.push(g[x+1]),C.push(g[x+2]);break}case 1:{if(S&&(M=g[x+1],R=g[x+2],P=A(g[x],M,v,y),L=A(g[x],R,v,y)),I){M=g[x],R=g[x+2],P=A(g[x+1],M,v,y),L=A(g[x+1],R,v,y),C.push(P),C.push(R.clone()),C.push(M.clone()),C.push(R.clone()),C.push(P.clone()),C.push(L);break}T&&(M=g[x],R=g[x+1],P=A(g[x+2],M,v,y),L=A(g[x+2],R,v,y)),C.push(M.clone()),C.push(R.clone()),C.push(P),C.push(L),C.push(P.clone()),C.push(R.clone());break}case 2:{S||(M=g[x].clone(),R=A(M,g[x+1],v,y),P=A(M,g[x+2],v,y),C.push(M),C.push(R),C.push(P)),I||(M=g[x+1].clone(),R=A(M,g[x+2],v,y),P=A(M,g[x],v,y),C.push(M),C.push(R),C.push(P)),T||(M=g[x+2].clone(),R=A(M,g[x],v,y),P=A(M,g[x+1],v,y),C.push(M),C.push(R),C.push(P));break}}}return C}function A(g,v,C,y){const x=g.position.dot(C)-y,S=v.position.dot(C)-y,I=x/(x-S);return new QI(new D(g.position.x+I*(v.position.x-g.position.x),g.position.y+I*(v.position.y-g.position.y),g.position.z+I*(v.position.z-g.position.z)),new D(g.normal.x+I*(v.normal.x-g.normal.x),g.normal.y+I*(v.normal.y-g.normal.y),g.normal.z+I*(v.normal.z-g.normal.z)))}}}class QI{constructor(e,n){this.position=e,this.normal=n}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}class TD{constructor(e){we(this,"data"),this.data=e}generateShapes(e,n=100,i){const r=[],s={letterSpacing:0,lineHeight:1,...i},o=lee(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(r,o[a].toShapes(!1));return r}}we(TD,"isFont");we(TD,"type");function lee(t,e,n,i){const r=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<r.length;u++){const d=r[u];if(d===`
`)l=0,c-=o*i.lineHeight;else{const p=cee(d,s,l,c,n);p&&(l+=p.offsetX+i.letterSpacing,a.push(p.path))}}return a}function cee(t,e,n,i,r){const s=r.glyphs[t]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");return}const o=new lP;let a,l,c,u,d,p,m,A;if(s.o){const g=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let v=0,C=g.length;v<C;)switch(g[v++]){case"m":a=parseInt(g[v++])*e+n,l=parseInt(g[v++])*e+i,o.moveTo(a,l);break;case"l":a=parseInt(g[v++])*e+n,l=parseInt(g[v++])*e+i,o.lineTo(a,l);break;case"q":c=parseInt(g[v++])*e+n,u=parseInt(g[v++])*e+i,d=parseInt(g[v++])*e+n,p=parseInt(g[v++])*e+i,o.quadraticCurveTo(d,p,c,u);break;case"b":c=parseInt(g[v++])*e+n,u=parseInt(g[v++])*e+i,d=parseInt(g[v++])*e+n,p=parseInt(g[v++])*e+i,m=parseInt(g[v++])*e+n,A=parseInt(g[v++])*e+i,o.bezierCurveTo(d,p,m,A,c,u);break}}return{offsetX:s.ha*e,path:o}}class uee extends yn{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=vt,this.minFilter=vt,this.wrapR=_n,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var hee=typeof global=="object"&&global&&global.Object===Object&&global;const BD=hee;var fee=typeof self=="object"&&self&&self.Object===Object&&self,dee=BD||fee||Function("return this")();const ko=dee;var pee=ko.Symbol;const Es=pee;var bD=Object.prototype,mee=bD.hasOwnProperty,Aee=bD.toString,wd=Es?Es.toStringTag:void 0;function gee(t){var e=mee.call(t,wd),n=t[wd];try{t[wd]=void 0;var i=!0}catch{}var r=Aee.call(t);return i&&(e?t[wd]=n:delete t[wd]),r}var vee=Object.prototype,yee=vee.toString;function xee(t){return yee.call(t)}var Cee="[object Null]",Eee="[object Undefined]",HI=Es?Es.toStringTag:void 0;function Yl(t){return t==null?t===void 0?Eee:Cee:HI&&HI in Object(t)?gee(t):xee(t)}function Ks(t){return t!=null&&typeof t=="object"}var See="[object Symbol]";function s1(t){return typeof t=="symbol"||Ks(t)&&Yl(t)==See}function J0(t,e){for(var n=-1,i=t==null?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var wee=Array.isArray;const Kt=wee;var Iee=1/0,zI=Es?Es.prototype:void 0,VI=zI?zI.toString:void 0;function RD(t){if(typeof t=="string")return t;if(Kt(t))return J0(t,RD)+"";if(s1(t))return VI?VI.call(t):"";var e=t+"";return e=="0"&&1/t==-Iee?"-0":e}var _ee=/\s/;function Mee(t){for(var e=t.length;e--&&_ee.test(t.charAt(e)););return e}var Tee=/^\s+/;function Bee(t){return t&&t.slice(0,Mee(t)+1).replace(Tee,"")}function Ss(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var WI=0/0,bee=/^[-+]0x[0-9a-f]+$/i,Ree=/^0b[01]+$/i,Pee=/^0o[0-7]+$/i,Dee=parseInt;function Lee(t){if(typeof t=="number")return t;if(s1(t))return WI;if(Ss(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ss(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Bee(t);var n=Ree.test(t);return n||Pee.test(t)?Dee(t.slice(2),n?2:8):bee.test(t)?WI:+t}var JI=1/0,Fee=17976931348623157e292;function kee(t){if(!t)return t===0?t:0;if(t=Lee(t),t===JI||t===-JI){var e=t<0?-1:1;return e*Fee}return t===t?t:0}function j0(t){var e=kee(t),n=e%1;return e===e?n?e-n:e:0}function of(t){return t}var Nee="[object AsyncFunction]",Oee="[object Function]",Uee="[object GeneratorFunction]",Gee="[object Proxy]";function Ba(t){if(!Ss(t))return!1;var e=Yl(t);return e==Oee||e==Uee||e==Nee||e==Gee}var Qee=ko["__core-js_shared__"];const g6=Qee;var jI=function(){var t=/[^.]+$/.exec(g6&&g6.keys&&g6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Hee(t){return!!jI&&jI in t}var zee=Function.prototype,Vee=zee.toString;function yu(t){if(t!=null){try{return Vee.call(t)}catch{}try{return t+""}catch{}}return""}var Wee=/[\\^$.*+?()[\]{}|]/g,Jee=/^\[object .+?Constructor\]$/,jee=Function.prototype,Kee=Object.prototype,Yee=jee.toString,Xee=Kee.hasOwnProperty,qee=RegExp("^"+Yee.call(Xee).replace(Wee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zee(t){if(!Ss(t)||Hee(t))return!1;var e=Ba(t)?qee:Jee;return e.test(yu(t))}function $ee(t,e){return t==null?void 0:t[e]}function xu(t,e){var n=$ee(t,e);return Zee(n)?n:void 0}var ete=xu(ko,"WeakMap");const z8=ete;var KI=Object.create,tte=function(){function t(){}return function(e){if(!Ss(e))return{};if(KI)return KI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const nte=tte;function ite(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ni(){}function rte(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var ste=800,ote=16,ate=Date.now;function lte(t){var e=0,n=0;return function(){var i=ate(),r=ote-(i-n);if(n=i,r>0){if(++e>=ste)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function cte(t){return function(){return t}}var ute=function(){try{var t=xu(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Vg=ute;var hte=Vg?function(t,e){return Vg(t,"toString",{configurable:!0,enumerable:!1,value:cte(e),writable:!0})}:of;const fte=hte;var dte=lte(fte);const pte=dte;function PD(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function DD(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function mte(t){return t!==t}function Ate(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function y9(t,e,n){return e===e?Ate(t,e,n):DD(t,mte,n)}function LD(t,e){var n=t==null?0:t.length;return!!n&&y9(t,e,0)>-1}var gte=9007199254740991,vte=/^(?:0|[1-9]\d*)$/;function o1(t,e){var n=typeof t;return e=e??gte,!!e&&(n=="number"||n!="symbol"&&vte.test(t))&&t>-1&&t%1==0&&t<e}function x9(t,e,n){e=="__proto__"&&Vg?Vg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function K0(t,e){return t===e||t!==t&&e!==e}var yte=Object.prototype,xte=yte.hasOwnProperty;function a1(t,e,n){var i=t[e];(!(xte.call(t,e)&&K0(i,n))||n===void 0&&!(e in t))&&x9(t,e,n)}function Y0(t,e,n,i){var r=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),r?x9(n,a,l):a1(n,a,l)}return n}var YI=Math.max;function Cte(t,e,n){return e=YI(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=YI(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(o),ite(t,this,a)}}function C9(t,e){return pte(Cte(t,e,of),t+"")}var Ete=9007199254740991;function E9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ete}function No(t){return t!=null&&E9(t.length)&&!Ba(t)}function l1(t,e,n){if(!Ss(n))return!1;var i=typeof e;return(i=="number"?No(n)&&o1(e,n.length):i=="string"&&e in n)?K0(n[e],t):!1}function Ste(t){return C9(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(r--,s):void 0,o&&l1(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,s)}return e})}var wte=Object.prototype;function X0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wte;return t===n}function Ite(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var _te="[object Arguments]";function XI(t){return Ks(t)&&Yl(t)==_te}var FD=Object.prototype,Mte=FD.hasOwnProperty,Tte=FD.propertyIsEnumerable,Bte=XI(function(){return arguments}())?XI:function(t){return Ks(t)&&Mte.call(t,"callee")&&!Tte.call(t,"callee")};const c1=Bte;function bte(){return!1}var kD=typeof me=="object"&&me&&!me.nodeType&&me,qI=kD&&typeof Pr=="object"&&Pr&&!Pr.nodeType&&Pr,Rte=qI&&qI.exports===kD,ZI=Rte?ko.Buffer:void 0,Pte=ZI?ZI.isBuffer:void 0,Dte=Pte||bte;const n0=Dte;var Lte="[object Arguments]",Fte="[object Array]",kte="[object Boolean]",Nte="[object Date]",Ote="[object Error]",Ute="[object Function]",Gte="[object Map]",Qte="[object Number]",Hte="[object Object]",zte="[object RegExp]",Vte="[object Set]",Wte="[object String]",Jte="[object WeakMap]",jte="[object ArrayBuffer]",Kte="[object DataView]",Yte="[object Float32Array]",Xte="[object Float64Array]",qte="[object Int8Array]",Zte="[object Int16Array]",$te="[object Int32Array]",ene="[object Uint8Array]",tne="[object Uint8ClampedArray]",nne="[object Uint16Array]",ine="[object Uint32Array]",An={};An[Yte]=An[Xte]=An[qte]=An[Zte]=An[$te]=An[ene]=An[tne]=An[nne]=An[ine]=!0;An[Lte]=An[Fte]=An[jte]=An[kte]=An[Kte]=An[Nte]=An[Ote]=An[Ute]=An[Gte]=An[Qte]=An[Hte]=An[zte]=An[Vte]=An[Wte]=An[Jte]=!1;function rne(t){return Ks(t)&&E9(t.length)&&!!An[Yl(t)]}function q0(t){return function(e){return t(e)}}var ND=typeof me=="object"&&me&&!me.nodeType&&me,rp=ND&&typeof Pr=="object"&&Pr&&!Pr.nodeType&&Pr,sne=rp&&rp.exports===ND,v6=sne&&BD.process,one=function(){try{var t=rp&&rp.require&&rp.require("util").types;return t||v6&&v6.binding&&v6.binding("util")}catch{}}();const Ll=one;var $I=Ll&&Ll.isTypedArray,ane=$I?q0($I):rne;const S9=ane;var lne=Object.prototype,cne=lne.hasOwnProperty;function OD(t,e){var n=Kt(t),i=!n&&c1(t),r=!n&&!i&&n0(t),s=!n&&!i&&!r&&S9(t),o=n||i||r||s,a=o?Ite(t.length,String):[],l=a.length;for(var c in t)(e||cne.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||o1(c,l)))&&a.push(c);return a}function UD(t,e){return function(n){return t(e(n))}}var une=UD(Object.keys,Object);const hne=une;var fne=Object.prototype,dne=fne.hasOwnProperty;function GD(t){if(!X0(t))return hne(t);var e=[];for(var n in Object(t))dne.call(t,n)&&n!="constructor"&&e.push(n);return e}function Nr(t){return No(t)?OD(t):GD(t)}var pne=Object.prototype,mne=pne.hasOwnProperty,Ane=Ste(function(t,e){if(X0(e)||No(e)){Y0(e,Nr(e),t);return}for(var n in e)mne.call(e,n)&&a1(t,n,e[n])});const Or=Ane;function gne(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var vne=Object.prototype,yne=vne.hasOwnProperty;function xne(t){if(!Ss(t))return gne(t);var e=X0(t),n=[];for(var i in t)i=="constructor"&&(e||!yne.call(t,i))||n.push(i);return n}function u1(t){return No(t)?OD(t,!0):xne(t)}var Cne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ene=/^\w*$/;function w9(t,e){if(Kt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||s1(t)?!0:Ene.test(t)||!Cne.test(t)||e!=null&&t in Object(e)}var Sne=xu(Object,"create");const i0=Sne;function wne(){this.__data__=i0?i0(null):{},this.size=0}function Ine(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _ne="__lodash_hash_undefined__",Mne=Object.prototype,Tne=Mne.hasOwnProperty;function Bne(t){var e=this.__data__;if(i0){var n=e[t];return n===_ne?void 0:n}return Tne.call(e,t)?e[t]:void 0}var bne=Object.prototype,Rne=bne.hasOwnProperty;function Pne(t){var e=this.__data__;return i0?e[t]!==void 0:Rne.call(e,t)}var Dne="__lodash_hash_undefined__";function Lne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i0&&e===void 0?Dne:e,this}function lu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}lu.prototype.clear=wne;lu.prototype.delete=Ine;lu.prototype.get=Bne;lu.prototype.has=Pne;lu.prototype.set=Lne;function Fne(){this.__data__=[],this.size=0}function h1(t,e){for(var n=t.length;n--;)if(K0(t[n][0],e))return n;return-1}var kne=Array.prototype,Nne=kne.splice;function One(t){var e=this.__data__,n=h1(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Nne.call(e,n,1),--this.size,!0}function Une(t){var e=this.__data__,n=h1(e,t);return n<0?void 0:e[n][1]}function Gne(t){return h1(this.__data__,t)>-1}function Qne(t,e){var n=this.__data__,i=h1(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function ba(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ba.prototype.clear=Fne;ba.prototype.delete=One;ba.prototype.get=Une;ba.prototype.has=Gne;ba.prototype.set=Qne;var Hne=xu(ko,"Map");const r0=Hne;function zne(){this.size=0,this.__data__={hash:new lu,map:new(r0||ba),string:new lu}}function Vne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function f1(t,e){var n=t.__data__;return Vne(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Wne(t){var e=f1(this,t).delete(t);return this.size-=e?1:0,e}function Jne(t){return f1(this,t).get(t)}function jne(t){return f1(this,t).has(t)}function Kne(t,e){var n=f1(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Ra(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ra.prototype.clear=zne;Ra.prototype.delete=Wne;Ra.prototype.get=Jne;Ra.prototype.has=jne;Ra.prototype.set=Kne;var Yne="Expected a function";function I9(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Yne);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=t.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(I9.Cache||Ra),n}I9.Cache=Ra;var Xne=500;function qne(t){var e=I9(t,function(i){return n.size===Xne&&n.clear(),i}),n=e.cache;return e}var Zne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$ne=/\\(\\)?/g,eie=qne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Zne,function(n,i,r,s){e.push(r?s.replace($ne,"$1"):i||n)}),e});const tie=eie;function nie(t){return t==null?"":RD(t)}function d1(t,e){return Kt(t)?t:w9(t,e)?[t]:tie(nie(t))}var iie=1/0;function Z0(t){if(typeof t=="string"||s1(t))return t;var e=t+"";return e=="0"&&1/t==-iie?"-0":e}function _9(t,e){e=d1(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[Z0(e[n++])];return n&&n==i?t:void 0}function rie(t,e,n){var i=t==null?void 0:_9(t,e);return i===void 0?n:i}function M9(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var e_=Es?Es.isConcatSpreadable:void 0;function sie(t){return Kt(t)||c1(t)||!!(e_&&t&&t[e_])}function p1(t,e,n,i,r){var s=-1,o=t.length;for(n||(n=sie),r||(r=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?p1(a,e-1,n,i,r):M9(r,a):i||(r[r.length]=a)}return r}function zs(t){var e=t==null?0:t.length;return e?p1(t,1):[]}var oie=UD(Object.getPrototypeOf,Object);const QD=oie;function HD(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(r);++i<r;)s[i]=t[i+e];return s}function aie(t,e,n,i){var r=-1,s=t==null?0:t.length;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function lie(){this.__data__=new ba,this.size=0}function cie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function uie(t){return this.__data__.get(t)}function hie(t){return this.__data__.has(t)}var fie=200;function die(t,e){var n=this.__data__;if(n instanceof ba){var i=n.__data__;if(!r0||i.length<fie-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ra(i)}return n.set(t,e),this.size=n.size,this}function bo(t){var e=this.__data__=new ba(t);this.size=e.size}bo.prototype.clear=lie;bo.prototype.delete=cie;bo.prototype.get=uie;bo.prototype.has=hie;bo.prototype.set=die;function pie(t,e){return t&&Y0(e,Nr(e),t)}function mie(t,e){return t&&Y0(e,u1(e),t)}var zD=typeof me=="object"&&me&&!me.nodeType&&me,t_=zD&&typeof Pr=="object"&&Pr&&!Pr.nodeType&&Pr,Aie=t_&&t_.exports===zD,n_=Aie?ko.Buffer:void 0,i_=n_?n_.allocUnsafe:void 0;function gie(t,e){if(e)return t.slice();var n=t.length,i=i_?i_(n):new t.constructor(n);return t.copy(i),i}function T9(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}function VD(){return[]}var vie=Object.prototype,yie=vie.propertyIsEnumerable,r_=Object.getOwnPropertySymbols,xie=r_?function(t){return t==null?[]:(t=Object(t),T9(r_(t),function(e){return yie.call(t,e)}))}:VD;const B9=xie;function Cie(t,e){return Y0(t,B9(t),e)}var Eie=Object.getOwnPropertySymbols,Sie=Eie?function(t){for(var e=[];t;)M9(e,B9(t)),t=QD(t);return e}:VD;const WD=Sie;function wie(t,e){return Y0(t,WD(t),e)}function JD(t,e,n){var i=e(t);return Kt(t)?i:M9(i,n(t))}function V8(t){return JD(t,Nr,B9)}function jD(t){return JD(t,u1,WD)}var Iie=xu(ko,"DataView");const W8=Iie;var _ie=xu(ko,"Promise");const J8=_ie;var Mie=xu(ko,"Set");const Uh=Mie;var s_="[object Map]",Tie="[object Object]",o_="[object Promise]",a_="[object Set]",l_="[object WeakMap]",c_="[object DataView]",Bie=yu(W8),bie=yu(r0),Rie=yu(J8),Pie=yu(Uh),Die=yu(z8),Tc=Yl;(W8&&Tc(new W8(new ArrayBuffer(1)))!=c_||r0&&Tc(new r0)!=s_||J8&&Tc(J8.resolve())!=o_||Uh&&Tc(new Uh)!=a_||z8&&Tc(new z8)!=l_)&&(Tc=function(t){var e=Yl(t),n=e==Tie?t.constructor:void 0,i=n?yu(n):"";if(i)switch(i){case Bie:return c_;case bie:return s_;case Rie:return o_;case Pie:return a_;case Die:return l_}return e});const af=Tc;var Lie=Object.prototype,Fie=Lie.hasOwnProperty;function kie(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Fie.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Nie=ko.Uint8Array;const Wg=Nie;function b9(t){var e=new t.constructor(t.byteLength);return new Wg(e).set(new Wg(t)),e}function Oie(t,e){var n=e?b9(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Uie=/\w*$/;function Gie(t){var e=new t.constructor(t.source,Uie.exec(t));return e.lastIndex=t.lastIndex,e}var u_=Es?Es.prototype:void 0,h_=u_?u_.valueOf:void 0;function Qie(t){return h_?Object(h_.call(t)):{}}function Hie(t,e){var n=e?b9(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var zie="[object Boolean]",Vie="[object Date]",Wie="[object Map]",Jie="[object Number]",jie="[object RegExp]",Kie="[object Set]",Yie="[object String]",Xie="[object Symbol]",qie="[object ArrayBuffer]",Zie="[object DataView]",$ie="[object Float32Array]",ere="[object Float64Array]",tre="[object Int8Array]",nre="[object Int16Array]",ire="[object Int32Array]",rre="[object Uint8Array]",sre="[object Uint8ClampedArray]",ore="[object Uint16Array]",are="[object Uint32Array]";function lre(t,e,n){var i=t.constructor;switch(e){case qie:return b9(t);case zie:case Vie:return new i(+t);case Zie:return Oie(t,n);case $ie:case ere:case tre:case nre:case ire:case rre:case sre:case ore:case are:return Hie(t,n);case Wie:return new i;case Jie:case Yie:return new i(t);case jie:return Gie(t);case Kie:return new i;case Xie:return Qie(t)}}function cre(t){return typeof t.constructor=="function"&&!X0(t)?nte(QD(t)):{}}var ure="[object Map]";function hre(t){return Ks(t)&&af(t)==ure}var f_=Ll&&Ll.isMap,fre=f_?q0(f_):hre;const dre=fre;var pre="[object Set]";function mre(t){return Ks(t)&&af(t)==pre}var d_=Ll&&Ll.isSet,Are=d_?q0(d_):mre;const gre=Are;var vre=1,yre=2,xre=4,KD="[object Arguments]",Cre="[object Array]",Ere="[object Boolean]",Sre="[object Date]",wre="[object Error]",YD="[object Function]",Ire="[object GeneratorFunction]",_re="[object Map]",Mre="[object Number]",XD="[object Object]",Tre="[object RegExp]",Bre="[object Set]",bre="[object String]",Rre="[object Symbol]",Pre="[object WeakMap]",Dre="[object ArrayBuffer]",Lre="[object DataView]",Fre="[object Float32Array]",kre="[object Float64Array]",Nre="[object Int8Array]",Ore="[object Int16Array]",Ure="[object Int32Array]",Gre="[object Uint8Array]",Qre="[object Uint8ClampedArray]",Hre="[object Uint16Array]",zre="[object Uint32Array]",un={};un[KD]=un[Cre]=un[Dre]=un[Lre]=un[Ere]=un[Sre]=un[Fre]=un[kre]=un[Nre]=un[Ore]=un[Ure]=un[_re]=un[Mre]=un[XD]=un[Tre]=un[Bre]=un[bre]=un[Rre]=un[Gre]=un[Qre]=un[Hre]=un[zre]=!0;un[wre]=un[YD]=un[Pre]=!1;function qA(t,e,n,i,r,s){var o,a=e&vre,l=e&yre,c=e&xre;if(n&&(o=r?n(t,i,r,s):n(t)),o!==void 0)return o;if(!Ss(t))return t;var u=Kt(t);if(u){if(o=kie(t),!a)return rte(t,o)}else{var d=af(t),p=d==YD||d==Ire;if(n0(t))return gie(t,a);if(d==XD||d==KD||p&&!r){if(o=l||p?{}:cre(t),!a)return l?wie(t,mie(o,t)):Cie(t,pie(o,t))}else{if(!un[d])return r?t:{};o=lre(t,d,a)}}s||(s=new bo);var m=s.get(t);if(m)return m;s.set(t,o),gre(t)?t.forEach(function(v){o.add(qA(v,e,n,v,t,s))}):dre(t)&&t.forEach(function(v,C){o.set(C,qA(v,e,n,C,t,s))});var A=c?l?jD:V8:l?u1:Nr,g=u?void 0:A(t);return PD(g||t,function(v,C){g&&(C=v,v=t[C]),a1(o,C,qA(v,e,n,C,t,s))}),o}var Vre=4;function Gi(t){return qA(t,Vre)}function $0(t){for(var e=-1,n=t==null?0:t.length,i=0,r=[];++e<n;){var s=t[e];s&&(r[i++]=s)}return r}var Wre="__lodash_hash_undefined__";function Jre(t){return this.__data__.set(t,Wre),this}function jre(t){return this.__data__.has(t)}function lf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ra;++e<n;)this.add(t[e])}lf.prototype.add=lf.prototype.push=Jre;lf.prototype.has=jre;function qD(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function R9(t,e){return t.has(e)}var Kre=1,Yre=2;function ZD(t,e,n,i,r,s){var o=n&Kre,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,p=!0,m=n&Yre?new lf:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var A=t[d],g=e[d];if(i)var v=o?i(g,A,d,e,t,s):i(A,g,d,t,e,s);if(v!==void 0){if(v)continue;p=!1;break}if(m){if(!qD(e,function(C,y){if(!R9(m,y)&&(A===C||r(A,C,n,i,s)))return m.push(y)})){p=!1;break}}else if(!(A===g||r(A,g,n,i,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function Xre(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function P9(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var qre=1,Zre=2,$re="[object Boolean]",ese="[object Date]",tse="[object Error]",nse="[object Map]",ise="[object Number]",rse="[object RegExp]",sse="[object Set]",ose="[object String]",ase="[object Symbol]",lse="[object ArrayBuffer]",cse="[object DataView]",p_=Es?Es.prototype:void 0,y6=p_?p_.valueOf:void 0;function use(t,e,n,i,r,s,o){switch(n){case cse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lse:return!(t.byteLength!=e.byteLength||!s(new Wg(t),new Wg(e)));case $re:case ese:case ise:return K0(+t,+e);case tse:return t.name==e.name&&t.message==e.message;case rse:case ose:return t==e+"";case nse:var a=Xre;case sse:var l=i&qre;if(a||(a=P9),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=Zre,o.set(t,e);var u=ZD(a(t),a(e),i,r,s,o);return o.delete(t),u;case ase:if(y6)return y6.call(t)==y6.call(e)}return!1}var hse=1,fse=Object.prototype,dse=fse.hasOwnProperty;function pse(t,e,n,i,r,s){var o=n&hse,a=V8(t),l=a.length,c=V8(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var p=a[d];if(!(o?p in e:dse.call(e,p)))return!1}var m=s.get(t),A=s.get(e);if(m&&A)return m==e&&A==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=o;++d<l;){p=a[d];var C=t[p],y=e[p];if(i)var x=o?i(y,C,p,e,t,s):i(C,y,p,t,e,s);if(!(x===void 0?C===y||r(C,y,n,i,s):x)){g=!1;break}v||(v=p=="constructor")}if(g&&!v){var S=t.constructor,I=e.constructor;S!=I&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof I=="function"&&I instanceof I)&&(g=!1)}return s.delete(t),s.delete(e),g}var mse=1,m_="[object Arguments]",A_="[object Array]",vA="[object Object]",Ase=Object.prototype,g_=Ase.hasOwnProperty;function gse(t,e,n,i,r,s){var o=Kt(t),a=Kt(e),l=o?A_:af(t),c=a?A_:af(e);l=l==m_?vA:l,c=c==m_?vA:c;var u=l==vA,d=c==vA,p=l==c;if(p&&n0(t)){if(!n0(e))return!1;o=!0,u=!1}if(p&&!u)return s||(s=new bo),o||S9(t)?ZD(t,e,n,i,r,s):use(t,e,l,n,i,r,s);if(!(n&mse)){var m=u&&g_.call(t,"__wrapped__"),A=d&&g_.call(e,"__wrapped__");if(m||A){var g=m?t.value():t,v=A?e.value():e;return s||(s=new bo),r(g,v,n,i,s)}}return p?(s||(s=new bo),pse(t,e,n,i,r,s)):!1}function D9(t,e,n,i,r){return t===e?!0:t==null||e==null||!Ks(t)&&!Ks(e)?t!==t&&e!==e:gse(t,e,n,i,D9,r)}var vse=1,yse=2;function xse(t,e,n,i){var r=n.length,s=r,o=!i;if(t==null)return!s;for(t=Object(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){a=n[r];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new bo;if(i)var p=i(c,u,l,t,e,d);if(!(p===void 0?D9(u,c,vse|yse,i,d):p))return!1}}return!0}function $D(t){return t===t&&!Ss(t)}function Cse(t){for(var e=Nr(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,$D(r)]}return e}function eL(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Ese(t){var e=Cse(t);return e.length==1&&e[0][2]?eL(e[0][0],e[0][1]):function(n){return n===t||xse(n,t,e)}}function Sse(t,e){return t!=null&&e in Object(t)}function tL(t,e,n){e=d1(e,t);for(var i=-1,r=e.length,s=!1;++i<r;){var o=Z0(e[i]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++i!=r?s:(r=t==null?0:t.length,!!r&&E9(r)&&o1(o,r)&&(Kt(t)||c1(t)))}function wse(t,e){return t!=null&&tL(t,e,Sse)}var Ise=1,_se=2;function Mse(t,e){return w9(t)&&$D(e)?eL(Z0(t),e):function(n){var i=rie(n,t);return i===void 0&&i===e?wse(n,t):D9(e,i,Ise|_se)}}function Tse(t){return function(e){return e==null?void 0:e[t]}}function Bse(t){return function(e){return _9(e,t)}}function bse(t){return w9(t)?Tse(Z0(t)):Bse(t)}function Oo(t){return typeof t=="function"?t:t==null?of:typeof t=="object"?Kt(t)?Mse(t[0],t[1]):Ese(t):bse(t)}function Rse(t,e,n,i){for(var r=-1,s=t==null?0:t.length;++r<s;){var o=t[r];e(i,o,n(o),t)}return i}function Pse(t){return function(e,n,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[t?a:++r];if(n(s[l],l,s)===!1)break}return e}}var Dse=Pse();const Lse=Dse;function Fse(t,e){return t&&Lse(t,e,Nr)}function kse(t,e){return function(n,i){if(n==null)return n;if(!No(n))return t(n,i);for(var r=n.length,s=e?r:-1,o=Object(n);(e?s--:++s<r)&&i(o[s],s,o)!==!1;);return n}}var Nse=kse(Fse);const Cu=Nse;function Ose(t,e,n,i){return Cu(t,function(r,s,o){e(i,r,n(r),o)}),i}function Use(t,e){return function(n,i){var r=Kt(n)?Rse:Ose,s=e?e():{};return r(n,t,Oo(i),s)}}var nL=Object.prototype,Gse=nL.hasOwnProperty,Qse=C9(function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&l1(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],o=u1(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||K0(u,nL[c])&&!Gse.call(t,c))&&(t[c]=s[c])}return t});const L9=Qse;function v_(t){return Ks(t)&&No(t)}function iL(t,e,n){for(var i=-1,r=t==null?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}var Hse=200;function zse(t,e,n,i){var r=-1,s=LD,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=J0(e,q0(n))),i?(s=iL,o=!1):e.length>=Hse&&(s=R9,o=!1,e=new lf(e));e:for(;++r<a;){var u=t[r],d=n==null?u:n(u);if(u=i||u!==0?u:0,o&&d===d){for(var p=c;p--;)if(e[p]===d)continue e;l.push(u)}else s(e,d,i)||l.push(u)}return l}var Vse=C9(function(t,e){return v_(t)?zse(t,p1(e,1,v_,!0)):[]});const m1=Vse;function cf(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Si(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:j0(e),HD(t,e<0?0:e,i)):[]}function s0(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:j0(e),e=i-e,HD(t,0,e<0?0:e)):[]}function Wse(t){return typeof t=="function"?t:of}function mt(t,e){var n=Kt(t)?PD:Cu;return n(t,Wse(e))}function Jse(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function jse(t,e){var n=!0;return Cu(t,function(i,r,s){return n=!!e(i,r,s),n}),n}function Vs(t,e,n){var i=Kt(t)?Jse:jse;return n&&l1(t,e,n)&&(e=void 0),i(t,Oo(e))}function rL(t,e){var n=[];return Cu(t,function(i,r,s){e(i,r,s)&&n.push(i)}),n}function Is(t,e){var n=Kt(t)?T9:rL;return n(t,Oo(e))}function Kse(t){return function(e,n,i){var r=Object(e);if(!No(e)){var s=Oo(n);e=Nr(e),n=function(a){return s(r[a],a,r)}}var o=t(e,n,i);return o>-1?r[s?e[o]:o]:void 0}}var Yse=Math.max;function Xse(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=n==null?0:j0(n);return r<0&&(r=Yse(i+r,0)),DD(t,Oo(e),r)}var qse=Kse(Xse);const uf=qse;function Ys(t){return t&&t.length?t[0]:void 0}function Zse(t,e){var n=-1,i=No(t)?Array(t.length):[];return Cu(t,function(r,s,o){i[++n]=e(r,s,o)}),i}function at(t,e){var n=Kt(t)?J0:Zse;return n(t,Oo(e))}function ps(t,e){return p1(at(t,e),1)}var $se=Object.prototype,eoe=$se.hasOwnProperty,toe=Use(function(t,e,n){eoe.call(t,n)?t[n].push(e):x9(t,n,[e])});const noe=toe;var ioe=Object.prototype,roe=ioe.hasOwnProperty;function soe(t,e){return t!=null&&roe.call(t,e)}function dt(t,e){return t!=null&&tL(t,e,soe)}var ooe="[object String]";function gr(t){return typeof t=="string"||!Kt(t)&&Ks(t)&&Yl(t)==ooe}function aoe(t,e){return J0(e,function(n){return t[n]})}function ri(t){return t==null?[]:aoe(t,Nr(t))}var loe=Math.max;function sr(t,e,n,i){t=No(t)?t:ri(t),n=n&&!i?j0(n):0;var r=t.length;return n<0&&(n=loe(r+n,0)),gr(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&y9(t,e,n)>-1}var coe=Math.max;function y_(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=n==null?0:j0(n);return r<0&&(r=coe(i+r,0)),y9(t,e,r)}var uoe="[object Map]",hoe="[object Set]",foe=Object.prototype,doe=foe.hasOwnProperty;function dn(t){if(t==null)return!0;if(No(t)&&(Kt(t)||typeof t=="string"||typeof t.splice=="function"||n0(t)||S9(t)||c1(t)))return!t.length;var e=af(t);if(e==uoe||e==hoe)return!t.size;if(X0(t))return!GD(t).length;for(var n in t)if(doe.call(t,n))return!1;return!0}var poe="[object RegExp]";function moe(t){return Ks(t)&&Yl(t)==poe}var x_=Ll&&Ll.isRegExp,Aoe=x_?q0(x_):moe;const Sa=Aoe;function wa(t){return t===void 0}var goe="Expected a function";function voe(t){if(typeof t!="function")throw new TypeError(goe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function yoe(t,e,n,i){if(!Ss(t))return t;e=d1(e,t);for(var r=-1,s=e.length,o=s-1,a=t;a!=null&&++r<s;){var l=Z0(e[r]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=o){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=Ss(u)?u:o1(e[r+1])?[]:{})}a1(a,l,c),a=a[l]}return t}function xoe(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var o=e[i],a=_9(t,o);n(a,o)&&yoe(s,d1(o,t),a)}return s}function no(t,e){if(t==null)return{};var n=J0(jD(t),function(i){return[i]});return e=Oo(e),xoe(t,n,function(i,r){return e(i,r[0])})}function Coe(t,e,n,i,r){return r(t,function(s,o,a){n=i?(i=!1,s):e(n,s,o,a)}),n}function Ur(t,e,n){var i=Kt(t)?aie:Coe,r=arguments.length<3;return i(t,Oo(e),n,r,Cu)}function A1(t,e){var n=Kt(t)?T9:rL;return n(t,voe(Oo(e)))}function Eoe(t,e){var n;return Cu(t,function(i,r,s){return n=e(i,r,s),!n}),!!n}function sL(t,e,n){var i=Kt(t)?qD:Eoe;return n&&l1(t,e,n)&&(e=void 0),i(t,Oo(e))}var Soe=1/0,woe=Uh&&1/P9(new Uh([,-0]))[1]==Soe?function(t){return new Uh(t)}:ni;const Ioe=woe;var _oe=200;function Moe(t,e,n){var i=-1,r=LD,s=t.length,o=!0,a=[],l=a;if(n)o=!1,r=iL;else if(s>=_oe){var c=e?null:Ioe(t);if(c)return P9(c);o=!1,r=R9,l=new lf}else l=e?[]:a;e:for(;++i<s;){var u=t[i],d=e?e(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;e&&l.push(d),a.push(u)}else r(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function F9(t){return t&&t.length?Moe(t):[]}function j8(t){console&&console.error&&console.error(`Error: ${t}`)}function oL(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function aL(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function lL(t){function e(){}e.prototype=t;const n=new e;function i(){return typeof n.bar}return i(),i(),t}function Toe(t){return Boe(t)?t.LABEL:t.name}function Boe(t){return gr(t.LABEL)&&t.LABEL!==""}class Uo{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),mt(this.definition,n=>{n.accept(e)})}}class Gr extends Uo{constructor(e){super([]),this.idx=1,Or(this,no(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class Tf extends Uo{constructor(e){super(e.definition),this.orgText="",Or(this,no(e,n=>n!==void 0))}}class vr extends Uo{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Or(this,no(e,n=>n!==void 0))}}class Ar extends Uo{constructor(e){super(e.definition),this.idx=1,Or(this,no(e,n=>n!==void 0))}}class Go extends Uo{constructor(e){super(e.definition),this.idx=1,Or(this,no(e,n=>n!==void 0))}}class Qo extends Uo{constructor(e){super(e.definition),this.idx=1,Or(this,no(e,n=>n!==void 0))}}class si extends Uo{constructor(e){super(e.definition),this.idx=1,Or(this,no(e,n=>n!==void 0))}}class io extends Uo{constructor(e){super(e.definition),this.idx=1,Or(this,no(e,n=>n!==void 0))}}class ro extends Uo{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Or(this,no(e,n=>n!==void 0))}}class Rn{constructor(e){this.idx=1,Or(this,no(e,n=>n!==void 0))}accept(e){e.visit(this)}}function boe(t){return at(t,ZA)}function ZA(t){function e(n){return at(n,ZA)}if(t instanceof Gr){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return gr(t.label)&&(n.label=t.label),n}else{if(t instanceof vr)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Ar)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Go)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Qo)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:ZA(new Rn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof io)return{type:"RepetitionWithSeparator",idx:t.idx,separator:ZA(new Rn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof si)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof ro)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof Rn){const n={type:"Terminal",name:t.terminalType.name,label:Toe(t.terminalType),idx:t.idx};gr(t.label)&&(n.terminalLabel=t.label);const i=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Sa(i)?i.source:i),n}else{if(t instanceof Tf)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class Bf{visit(e){const n=e;switch(n.constructor){case Gr:return this.visitNonTerminal(n);case vr:return this.visitAlternative(n);case Ar:return this.visitOption(n);case Go:return this.visitRepetitionMandatory(n);case Qo:return this.visitRepetitionMandatoryWithSeparator(n);case io:return this.visitRepetitionWithSeparator(n);case si:return this.visitRepetition(n);case ro:return this.visitAlternation(n);case Rn:return this.visitTerminal(n);case Tf:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function Roe(t){return t instanceof vr||t instanceof Ar||t instanceof si||t instanceof Go||t instanceof Qo||t instanceof io||t instanceof Rn||t instanceof Tf}function Jg(t,e=[]){return t instanceof Ar||t instanceof si||t instanceof io?!0:t instanceof ro?sL(t.definition,i=>Jg(i,e)):t instanceof Gr&&sr(e,t)?!1:t instanceof Uo?(t instanceof Gr&&e.push(t),Vs(t.definition,i=>Jg(i,e))):!1}function Poe(t){return t instanceof ro}function vo(t){if(t instanceof Gr)return"SUBRULE";if(t instanceof Ar)return"OPTION";if(t instanceof ro)return"OR";if(t instanceof Go)return"AT_LEAST_ONE";if(t instanceof Qo)return"AT_LEAST_ONE_SEP";if(t instanceof io)return"MANY_SEP";if(t instanceof si)return"MANY";if(t instanceof Rn)return"CONSUME";throw Error("non exhaustive match")}class g1{walk(e,n=[]){mt(e.definition,(i,r)=>{const s=Si(e.definition,r+1);if(i instanceof Gr)this.walkProdRef(i,s,n);else if(i instanceof Rn)this.walkTerminal(i,s,n);else if(i instanceof vr)this.walkFlat(i,s,n);else if(i instanceof Ar)this.walkOption(i,s,n);else if(i instanceof Go)this.walkAtLeastOne(i,s,n);else if(i instanceof Qo)this.walkAtLeastOneSep(i,s,n);else if(i instanceof io)this.walkManySep(i,s,n);else if(i instanceof si)this.walkMany(i,s,n);else if(i instanceof ro)this.walkOr(i,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,i){}walkProdRef(e,n,i){}walkFlat(e,n,i){const r=n.concat(i);this.walk(e,r)}walkOption(e,n,i){const r=n.concat(i);this.walk(e,r)}walkAtLeastOne(e,n,i){const r=[new Ar({definition:e.definition})].concat(n,i);this.walk(e,r)}walkAtLeastOneSep(e,n,i){const r=C_(e,n,i);this.walk(e,r)}walkMany(e,n,i){const r=[new Ar({definition:e.definition})].concat(n,i);this.walk(e,r)}walkManySep(e,n,i){const r=C_(e,n,i);this.walk(e,r)}walkOr(e,n,i){const r=n.concat(i);mt(e.definition,s=>{const o=new vr({definition:[s]});this.walk(o,r)})}}function C_(t,e,n){return[new Ar({definition:[new Rn({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function e3(t){if(t instanceof Gr)return e3(t.referencedRule);if(t instanceof Rn)return Foe(t);if(Roe(t))return Doe(t);if(Poe(t))return Loe(t);throw Error("non exhaustive match")}function Doe(t){let e=[];const n=t.definition;let i=0,r=n.length>i,s,o=!0;for(;r&&o;)s=n[i],o=Jg(s),e=e.concat(e3(s)),i=i+1,r=n.length>i;return F9(e)}function Loe(t){const e=at(t.definition,n=>e3(n));return F9(zs(e))}function Foe(t){return[t.terminalType]}const cL="_~IN~_";class koe extends g1{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,i){}walkProdRef(e,n,i){const r=Ooe(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(i),o=new vr({definition:s}),a=e3(o);this.follows[r]=a}}function Noe(t){const e={};return mt(t,n=>{const i=new koe(n).startWalking();Or(e,i)}),e}function Ooe(t,e){return t.name+e+cL}function At(t){return t.charCodeAt(0)}function x6(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function Id(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function rh(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function Uoe(){throw Error("Internal Error - Should never get here!")}function E_(t){return t.type==="Character"}const jg=[];for(let t=At("0");t<=At("9");t++)jg.push(t);const Kg=[At("_")].concat(jg);for(let t=At("a");t<=At("z");t++)Kg.push(t);for(let t=At("A");t<=At("Z");t++)Kg.push(t);const S_=[At(" "),At("\f"),At(`
`),At("\r"),At("	"),At("\v"),At("	"),At(" "),At(" "),At(" "),At(" "),At(" "),At(" "),At(" "),At(" "),At(" "),At(" "),At(" "),At(" "),At(" "),At("\u2028"),At("\u2029"),At(" "),At(" "),At("　"),At("\uFEFF")],Goe=/[0-9a-fA-F]/,yA=/[0-9]/,Qoe=/[1-9]/;class Hoe{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const i={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Id(i,"global");break;case"i":Id(i,"ignoreCase");break;case"m":Id(i,"multiLine");break;case"u":Id(i,"unicode");break;case"y":Id(i,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:i,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}rh(n);const i=this.disjunction();return this.consumeChar(")"),{type:n,value:i,loc:this.loc(e)}}return Uoe()}quantifier(e=!1){let n;const i=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const r=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:r,atMost:r};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:r,atMost:s}):n={atLeast:r,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;rh(n);break}if(!(e===!0&&n===void 0)&&rh(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(i),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),rh(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[At(`
`),At("\r"),At("\u2028"),At("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=jg;break;case"D":e=jg,n=!0;break;case"s":e=S_;break;case"S":e=S_,n=!0;break;case"w":e=Kg;break;case"W":e=Kg,n=!0;break}if(rh(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=At("\f");break;case"n":e=At(`
`);break;case"r":e=At("\r");break;case"t":e=At("	");break;case"v":e=At("\v");break}if(rh(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:At("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:At(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:At(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const i=this.classAtom();if(i.type,E_(i)&&this.isRangeDash()){this.consumeChar("-");const r=this.classAtom();if(r.type,E_(r)){if(r.value<i.value)throw Error("Range out of order in character class");e.push({from:i.value,to:r.value})}else x6(i.value,e),e.push(At("-")),x6(r.value,e)}else x6(i.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:At("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const i={type:"Group",capturing:e,value:n};return e&&(i.idx=this.groupIdx),i}positiveInteger(){let e=this.popChar();if(Qoe.test(e)===!1)throw Error("Expecting a positive integer");for(;yA.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(yA.test(e)===!1)throw Error("Expecting an integer");for(;yA.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:At(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return yA.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let r=0;r<e;r++){const s=this.popChar();if(Goe.test(s)===!1)throw Error("Expecting a HexDecimal digits");n+=s}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class k9{visitChildren(e){for(const n in e){const i=e[n];e.hasOwnProperty(n)&&(i.type!==void 0?this.visit(i):Array.isArray(i)&&i.forEach(r=>{this.visit(r)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let $A={};const zoe=new Hoe;function v1(t){const e=t.toString();if($A.hasOwnProperty(e))return $A[e];{const n=zoe.pattern(e);return $A[e]=n,n}}function Voe(){$A={}}const uL="Complement Sets are not supported for first char optimization",Yg=`Unable to use "first char" lexer optimizations:
`;function Woe(t,e=!1){try{const n=v1(t);return K8(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===uL)e&&oL(`${Yg}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let i="";e&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),j8(`${Yg}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+i)}}return[]}function K8(t,e,n){switch(t.type){case"Disjunction":for(let r=0;r<t.value.length;r++)K8(t.value[r],e,n);break;case"Alternative":const i=t.value;for(let r=0;r<i.length;r++){const s=i[r];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=s;switch(o.type){case"Character":xA(o.value,e,n);break;case"Set":if(o.complement===!0)throw Error(uL);mt(o.value,l=>{if(typeof l=="number")xA(l,e,n);else{const c=l;if(n===!0)for(let u=c.from;u<=c.to;u++)xA(u,e,n);else{for(let u=c.from;u<=c.to&&u<Nd;u++)xA(u,e,n);if(c.to>=Nd){const u=c.from>=Nd?c.from:Nd,d=c.to,p=Fl(u),m=Fl(d);for(let A=p;A<=m;A++)e[A]=A}}}});break;case"Group":K8(o.value,e,n);break;default:throw Error("Non Exhaustive Match")}const a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&Y8(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return ri(e)}function xA(t,e,n){const i=Fl(t);e[i]=i,n===!0&&Joe(t,e)}function Joe(t,e){const n=String.fromCharCode(t),i=n.toUpperCase();if(i!==n){const r=Fl(i.charCodeAt(0));e[r]=r}else{const r=n.toLowerCase();if(r!==n){const s=Fl(r.charCodeAt(0));e[s]=s}}}function w_(t,e){return uf(t.value,n=>{if(typeof n=="number")return sr(e,n);{const i=n;return uf(e,r=>i.from<=r&&r<=i.to)!==void 0}})}function Y8(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?Kt(t.value)?Vs(t.value,Y8):Y8(t.value):!1}class joe extends k9{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){sr(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?w_(e,this.targetCharCodes)===void 0&&(this.found=!0):w_(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function N9(t,e){if(e instanceof RegExp){const n=v1(e),i=new joe(t);return i.visit(n),i.found}else return uf(e,n=>sr(t,n.charCodeAt(0)))!==void 0}const cu="PATTERN",kd="defaultMode",CA="modes";let hL=typeof new RegExp("(?:)").sticky=="boolean";function Koe(t,e){e=L9(e,{useSticky:hL,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(y,x)=>x()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{gae()});let i;n("Reject Lexer.NA",()=>{i=A1(t,y=>y[cu]===ms.NA)});let r=!1,s;n("Transform Patterns",()=>{r=!1,s=at(i,y=>{const x=y[cu];if(Sa(x)){const S=x.source;return S.length===1&&S!=="^"&&S!=="$"&&S!=="."&&!x.ignoreCase?S:S.length===2&&S[0]==="\\"&&!sr(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],S[1])?S[1]:e.useSticky?__(x):I_(x)}else{if(Ba(x))return r=!0,{exec:x};if(typeof x=="object")return r=!0,x;if(typeof x=="string"){if(x.length===1)return x;{const S=x.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),I=new RegExp(S);return e.useSticky?__(I):I_(I)}}else throw Error("non exhaustive match")}})});let o,a,l,c,u;n("misc mapping",()=>{o=at(i,y=>y.tokenTypeIdx),a=at(i,y=>{const x=y.GROUP;if(x!==ms.SKIPPED){if(gr(x))return x;if(wa(x))return!1;throw Error("non exhaustive match")}}),l=at(i,y=>{const x=y.LONGER_ALT;if(x)return Kt(x)?at(x,I=>y_(i,I)):[y_(i,x)]}),c=at(i,y=>y.PUSH_MODE),u=at(i,y=>dt(y,"POP_MODE"))});let d;n("Line Terminator Handling",()=>{const y=pL(e.lineTerminatorCharacters);d=at(i,x=>!1),e.positionTracking!=="onlyOffset"&&(d=at(i,x=>dt(x,"LINE_BREAKS")?!!x.LINE_BREAKS:dL(x,y)===!1&&N9(y,x.PATTERN)))});let p,m,A,g;n("Misc Mapping #2",()=>{p=at(i,fL),m=at(s,pae),A=Ur(i,(y,x)=>{const S=x.GROUP;return gr(S)&&S!==ms.SKIPPED&&(y[S]=[]),y},{}),g=at(s,(y,x)=>({pattern:s[x],longerAlt:l[x],canLineTerminator:d[x],isCustom:p[x],short:m[x],group:a[x],push:c[x],pop:u[x],tokenTypeIdx:o[x],tokenType:i[x]}))});let v=!0,C=[];return e.safeMode||n("First Char Optimization",()=>{C=Ur(i,(y,x,S)=>{if(typeof x.PATTERN=="string"){const I=x.PATTERN.charCodeAt(0),T=Fl(I);C6(y,T,g[S])}else if(Kt(x.START_CHARS_HINT)){let I;mt(x.START_CHARS_HINT,T=>{const B=typeof T=="string"?T.charCodeAt(0):T,M=Fl(B);I!==M&&(I=M,C6(y,M,g[S]))})}else if(Sa(x.PATTERN))if(x.PATTERN.unicode)v=!1,e.ensureOptimizations&&j8(`${Yg}	Unable to analyze < ${x.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const I=Woe(x.PATTERN,e.ensureOptimizations);dn(I)&&(v=!1),mt(I,T=>{C6(y,T,g[S])})}else e.ensureOptimizations&&j8(`${Yg}	TokenType: <${x.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return y},[])}),{emptyGroups:A,patternIdxToConfig:g,charCodeToPatternIdxToConfig:C,hasCustom:r,canBeOptimized:v}}function Yoe(t,e){let n=[];const i=qoe(t);n=n.concat(i.errors);const r=Zoe(i.valid),s=r.valid;return n=n.concat(r.errors),n=n.concat(Xoe(s)),n=n.concat(oae(s)),n=n.concat(aae(s,e)),n=n.concat(lae(s)),n}function Xoe(t){let e=[];const n=Is(t,i=>Sa(i[cu]));return e=e.concat(eae(n)),e=e.concat(iae(n)),e=e.concat(rae(n)),e=e.concat(sae(n)),e=e.concat(tae(n)),e}function qoe(t){const e=Is(t,r=>!dt(r,cu)),n=at(e,r=>({message:"Token Type: ->"+r.name+"<- missing static 'PATTERN' property",type:Gn.MISSING_PATTERN,tokenTypes:[r]})),i=m1(t,e);return{errors:n,valid:i}}function Zoe(t){const e=Is(t,r=>{const s=r[cu];return!Sa(s)&&!Ba(s)&&!dt(s,"exec")&&!gr(s)}),n=at(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Gn.INVALID_PATTERN,tokenTypes:[r]})),i=m1(t,e);return{errors:n,valid:i}}const $oe=/[^\\][$]/;function eae(t){class e extends k9{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const n=Is(t,r=>{const s=r.PATTERN;try{const o=v1(s),a=new e;return a.visit(o),a.found}catch{return $oe.test(s.source)}});return at(n,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Gn.EOI_ANCHOR_FOUND,tokenTypes:[r]}))}function tae(t){const e=Is(t,i=>i.PATTERN.test(""));return at(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' must not match an empty string",type:Gn.EMPTY_MATCH_PATTERN,tokenTypes:[i]}))}const nae=/[^\\[][\^]|^\^/;function iae(t){class e extends k9{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const n=Is(t,r=>{const s=r.PATTERN;try{const o=v1(s),a=new e;return a.visit(o),a.found}catch{return nae.test(s.source)}});return at(n,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Gn.SOI_ANCHOR_FOUND,tokenTypes:[r]}))}function rae(t){const e=Is(t,i=>{const r=i[cu];return r instanceof RegExp&&(r.multiline||r.global)});return at(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Gn.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[i]}))}function sae(t){const e=[];let n=at(t,s=>Ur(t,(o,a)=>(s.PATTERN.source===a.PATTERN.source&&!sr(e,a)&&a.PATTERN!==ms.NA&&(e.push(a),o.push(a)),o),[]));n=$0(n);const i=Is(n,s=>s.length>1);return at(i,s=>{const o=at(s,l=>l.name);return{message:`The same RegExp pattern ->${Ys(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:Gn.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function oae(t){const e=Is(t,i=>{if(!dt(i,"GROUP"))return!1;const r=i.GROUP;return r!==ms.SKIPPED&&r!==ms.NA&&!gr(r)});return at(e,i=>({message:"Token Type: ->"+i.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Gn.INVALID_GROUP_TYPE_FOUND,tokenTypes:[i]}))}function aae(t,e){const n=Is(t,r=>r.PUSH_MODE!==void 0&&!sr(e,r.PUSH_MODE));return at(n,r=>({message:`Token Type: ->${r.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${r.PUSH_MODE}<-which does not exist`,type:Gn.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[r]}))}function lae(t){const e=[],n=Ur(t,(i,r,s)=>{const o=r.PATTERN;return o===ms.NA||(gr(o)?i.push({str:o,idx:s,tokenType:r}):Sa(o)&&uae(o)&&i.push({str:o.source,idx:s,tokenType:r})),i},[]);return mt(t,(i,r)=>{mt(n,({str:s,idx:o,tokenType:a})=>{if(r<o&&cae(s,i.PATTERN)){const l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${i.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:Gn.UNREACHABLE_PATTERN,tokenTypes:[i,a]})}})}),e}function cae(t,e){if(Sa(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(Ba(e))return e(t,0,[],{});if(dt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function uae(t){return uf([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function I_(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function __(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function hae(t,e,n){const i=[];return dt(t,kd)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+kd+`> property in its definition
`,type:Gn.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),dt(t,CA)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+CA+`> property in its definition
`,type:Gn.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),dt(t,CA)&&dt(t,kd)&&!dt(t.modes,t.defaultMode)&&i.push({message:`A MultiMode Lexer cannot be initialized with a ${kd}: <${t.defaultMode}>which does not exist
`,type:Gn.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),dt(t,CA)&&mt(t.modes,(r,s)=>{mt(r,(o,a)=>{if(wa(o))i.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${a}>
`,type:Gn.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(dt(o,"LONGER_ALT")){const l=Kt(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];mt(l,c=>{!wa(c)&&!sr(r,c)&&i.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${o.name}> outside of mode <${s}>
`,type:Gn.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),i}function fae(t,e,n){const i=[];let r=!1;const s=$0(zs(ri(t.modes))),o=A1(s,l=>l[cu]===ms.NA),a=pL(n);return e&&mt(o,l=>{const c=dL(l,a);if(c!==!1){const d={message:Aae(l,c),type:c.issue,tokenType:l};i.push(d)}else dt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(r=!0):N9(a,l.PATTERN)&&(r=!0)}),e&&!r&&i.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Gn.NO_LINE_BREAKS_FLAGS}),i}function dae(t){const e={},n=Nr(t);return mt(n,i=>{const r=t[i];if(Kt(r))e[i]=[];else throw Error("non exhaustive match")}),e}function fL(t){const e=t.PATTERN;if(Sa(e))return!1;if(Ba(e))return!0;if(dt(e,"exec"))return!0;if(gr(e))return!1;throw Error("non exhaustive match")}function pae(t){return gr(t)&&t.length===1?t.charCodeAt(0):!1}const mae={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const i=t.charCodeAt(n);if(i===10)return this.lastIndex=n+1,!0;if(i===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function dL(t,e){if(dt(t,"LINE_BREAKS"))return!1;if(Sa(t.PATTERN)){try{N9(e,t.PATTERN)}catch(n){return{issue:Gn.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(gr(t.PATTERN))return!1;if(fL(t))return{issue:Gn.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Aae(t,e){if(e.issue===Gn.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Gn.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function pL(t){return at(t,n=>gr(n)?n.charCodeAt(0):n)}function C6(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const Nd=256;let eg=[];function Fl(t){return t<Nd?t:eg[t]}function gae(){if(dn(eg)){eg=new Array(65536);for(let t=0;t<65536;t++)eg[t]=t>255?255+~~(t/255):t}}function t3(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function Xg(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let M_=1;const mL={};function n3(t){const e=vae(t);yae(e),Cae(e),xae(e),mt(e,n=>{n.isParent=n.categoryMatches.length>0})}function vae(t){let e=Gi(t),n=t,i=!0;for(;i;){n=$0(zs(at(n,s=>s.CATEGORIES)));const r=m1(n,e);e=e.concat(r),dn(r)?i=!1:n=r}return e}function yae(t){mt(t,e=>{gL(e)||(mL[M_]=e,e.tokenTypeIdx=M_++),T_(e)&&!Kt(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),T_(e)||(e.CATEGORIES=[]),Eae(e)||(e.categoryMatches=[]),Sae(e)||(e.categoryMatchesMap={})})}function xae(t){mt(t,e=>{e.categoryMatches=[],mt(e.categoryMatchesMap,(n,i)=>{e.categoryMatches.push(mL[i].tokenTypeIdx)})})}function Cae(t){mt(t,e=>{AL([],e)})}function AL(t,e){mt(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),mt(e.CATEGORIES,n=>{const i=t.concat(e);sr(i,n)||AL(i,n)})}function gL(t){return dt(t,"tokenTypeIdx")}function T_(t){return dt(t,"CATEGORIES")}function Eae(t){return dt(t,"categoryMatches")}function Sae(t){return dt(t,"categoryMatchesMap")}function wae(t){return dt(t,"tokenTypeIdx")}const Iae={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,i,r){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var Gn;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Gn||(Gn={}));const Od={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Iae,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Od);class ms{constructor(e,n=Od){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(r,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${r}>`);const{time:a,value:l}=aL(s),c=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${o}<-- <${r}> time: ${a}ms`),this.traceInitIndent--,l}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Or({},Od,n);const i=this.config.traceInitPerf;i===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof i=="number"&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let r,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Od.lineTerminatorsPattern)this.config.lineTerminatorsPattern=mae;else if(this.config.lineTerminatorCharacters===Od.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Kt(e)?r={modes:{defaultMode:Gi(e)},defaultMode:kd}:(s=!1,r=Gi(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(hae(r,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(fae(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),r.modes=r.modes?r.modes:{},mt(r.modes,(a,l)=>{r.modes[l]=A1(a,c=>wa(c))});const o=Nr(r.modes);if(mt(r.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Yoe(a,o))}),dn(this.lexerDefinitionErrors)){n3(a);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=Koe(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=Or({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=r.defaultMode,!dn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=at(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}mt(this.lexerDefinitionWarning,a=>{oL(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(hL?(this.chopInput=of,this.match=this.matchWithTest):(this.updateLastIndex=ni,this.match=this.matchWithExec),s&&(this.handleModes=ni),this.trackStartLines===!1&&(this.computeNewColumn=of),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=ni),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const a=Ur(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(n.ensureOptimizations&&!dn(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Voe()}),this.TRACE_INIT("toFastProperties",()=>{lL(this)})})}tokenize(e,n=this.defaultMode){if(!dn(this.lexerDefinitionErrors)){const r=at(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let i,r,s,o,a,l,c,u,d,p,m,A,g,v,C;const y=e,x=y.length;let S=0,I=0;const T=this.hasCustom?0:Math.floor(e.length/10),B=new Array(T),M=[];let R=this.trackStartLines?1:void 0,P=this.trackStartLines?1:void 0;const L=dae(this.emptyGroups),V=this.trackStartLines,N=this.config.lineTerminatorsPattern;let U=0,j=[],X=[];const te=[],k=[];Object.freeze(k);let J;function W(){return j}function $(q){const Te=Fl(q),Pe=X[Te];return Pe===void 0?k:Pe}const H=q=>{if(te.length===1&&q.tokenType.PUSH_MODE===void 0){const Te=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(q);M.push({offset:q.startOffset,line:q.startLine,column:q.startColumn,length:q.image.length,message:Te})}else{te.pop();const Te=cf(te);j=this.patternIdxToConfig[Te],X=this.charCodeToPatternIdxToConfig[Te],U=j.length;const Pe=this.canModeBeOptimized[Te]&&this.config.safeMode===!1;X&&Pe?J=$:J=W}};function ne(q){te.push(q),X=this.charCodeToPatternIdxToConfig[q],j=this.patternIdxToConfig[q],U=j.length,U=j.length;const Te=this.canModeBeOptimized[q]&&this.config.safeMode===!1;X&&Te?J=$:J=W}ne.call(this,n);let de;const Ae=this.config.recoveryEnabled;for(;S<x;){l=null;const q=y.charCodeAt(S),Te=J(q),Pe=Te.length;for(i=0;i<Pe;i++){de=Te[i];const De=de.pattern;c=null;const Ce=de.short;if(Ce!==!1?q===Ce&&(l=De):de.isCustom===!0?(C=De.exec(y,S,B,L),C!==null?(l=C[0],C.payload!==void 0&&(c=C.payload)):l=null):(this.updateLastIndex(De,S),l=this.match(De,e,S)),l!==null){if(a=de.longerAlt,a!==void 0){const Me=a.length;for(s=0;s<Me;s++){const ue=j[a[s]],oe=ue.pattern;if(u=null,ue.isCustom===!0?(C=oe.exec(y,S,B,L),C!==null?(o=C[0],C.payload!==void 0&&(u=C.payload)):o=null):(this.updateLastIndex(oe,S),o=this.match(oe,e,S)),o&&o.length>l.length){l=o,c=u,de=ue;break}}}break}}if(l!==null){if(d=l.length,p=de.group,p!==void 0&&(m=de.tokenTypeIdx,A=this.createTokenInstance(l,S,m,de.tokenType,R,P,d),this.handlePayload(A,c),p===!1?I=this.addToken(B,I,A):L[p].push(A)),e=this.chopInput(e,d),S=S+d,P=this.computeNewColumn(P,d),V===!0&&de.canLineTerminator===!0){let De=0,Ce,Me;N.lastIndex=0;do Ce=N.test(l),Ce===!0&&(Me=N.lastIndex-1,De++);while(Ce===!0);De!==0&&(R=R+De,P=d-Me,this.updateTokenEndLineColumnLocation(A,p,Me,De,R,P,d))}this.handleModes(de,H,ne,A)}else{const De=S,Ce=R,Me=P;let ue=Ae===!1;for(;ue===!1&&S<x;)for(e=this.chopInput(e,1),S++,r=0;r<U;r++){const oe=j[r],_e=oe.pattern,He=oe.short;if(He!==!1?y.charCodeAt(S)===He&&(ue=!0):oe.isCustom===!0?ue=_e.exec(y,S,B,L)!==null:(this.updateLastIndex(_e,S),ue=_e.exec(e)!==null),ue===!0)break}if(g=S-De,P=this.computeNewColumn(P,g),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,De,g,Ce,Me),M.push({offset:De,line:Ce,column:Me,length:g,message:v}),Ae===!1)break}}return this.hasCustom||(B.length=I),{tokens:B,groups:L,errors:M}}handleModes(e,n,i,r){if(e.pop===!0){const s=e.push;n(r),s!==void 0&&i.call(this,s)}else e.push!==void 0&&i.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,i,r,s,o,a){let l,c;n!==void 0&&(l=i===a-1,c=l?-1:0,r===1&&l===!0||(e.endLine=s+c,e.endColumn=o-1+-c))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,i,r){return{image:e,startOffset:n,tokenTypeIdx:i,tokenType:r}}createStartOnlyToken(e,n,i,r,s,o){return{image:e,startOffset:n,startLine:s,startColumn:o,tokenTypeIdx:i,tokenType:r}}createFullToken(e,n,i,r,s,o,a){return{image:e,startOffset:n,endOffset:n+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:i,tokenType:r}}addTokenUsingPush(e,n,i){return e.push(i),n}addTokenUsingMemberAccess(e,n,i){return e[n]=i,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,i){return e.test(n)===!0?n.substring(i,e.lastIndex):null}matchWithExec(e,n){const i=e.exec(n);return i!==null?i[0]:null}}ms.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";ms.NA=/NOT_APPLICABLE/;function sp(t){return vL(t)?t.LABEL:t.name}function vL(t){return gr(t.LABEL)&&t.LABEL!==""}const _ae="parent",B_="categories",b_="label",R_="group",P_="push_mode",D_="pop_mode",L_="longer_alt",F_="line_breaks",k_="start_chars_hint";function yL(t){return Mae(t)}function Mae(t){const e=t.pattern,n={};if(n.name=t.name,wa(e)||(n.PATTERN=e),dt(t,_ae))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return dt(t,B_)&&(n.CATEGORIES=t[B_]),n3([n]),dt(t,b_)&&(n.LABEL=t[b_]),dt(t,R_)&&(n.GROUP=t[R_]),dt(t,D_)&&(n.POP_MODE=t[D_]),dt(t,P_)&&(n.PUSH_MODE=t[P_]),dt(t,L_)&&(n.LONGER_ALT=t[L_]),dt(t,F_)&&(n.LINE_BREAKS=t[F_]),dt(t,k_)&&(n.START_CHARS_HINT=t[k_]),n}const uu=yL({name:"EOF",pattern:ms.NA});n3([uu]);function O9(t,e,n,i,r,s,o,a){return{image:e,startOffset:n,endOffset:i,startLine:r,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function Tae(t,e){return t3(t,e)}const xL={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:i}){return`Expecting ${vL(t)?`--> ${sp(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:i,ruleName:r}){const s="Expecting: ",a=`
but found: '`+Ys(e).image+"'";if(i)return s+i+a;{const l=Ur(t,(p,m)=>p.concat(m),[]),c=at(l,p=>`[${at(p,m=>sp(m)).join(", ")}]`),d=`one of these possible Token sequences:
${at(c,(p,m)=>`  ${m+1}. ${p}`).join(`
`)}`;return s+d+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:i}){const r="Expecting: ",o=`
but found: '`+Ys(e).image+"'";if(n)return r+n+o;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${at(t,c=>`[${at(c,u=>sp(u)).join(",")}]`).join(" ,")}>`;return r+l+o}}};Object.freeze(xL);const Bae={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Vc={buildDuplicateFoundError(t,e){function n(u){return u instanceof Rn?u.terminalType.name:u instanceof Gr?u.nonTerminalName:""}const i=t.name,r=Ys(e),s=r.idx,o=vo(r),a=n(r),l=s>0;let c=`->${o}${l?s:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${i}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=at(t.prefixPath,r=>sp(r)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=at(t.prefixPath,r=>sp(r)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let i=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i},buildEmptyRepetitionError(t){let e=vo(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=at(t.leftRecursionPath,s=>s.name),i=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${i}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof Tf?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function bae(t,e){const n=new Rae(t,e);return n.resolveRefs(),n.errors}class Rae extends Bf{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){mt(ri(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const i=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:i,type:nr.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class Pae extends g1{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Gi(this.path.ruleStack).reverse(),this.occurrenceStack=Gi(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,i){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=n.concat(i);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){dn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Dae extends Pae{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,i){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const r=n.concat(i),s=new vr({definition:r});this.possibleTokTypes=e3(s),this.found=!0}}}class y1 extends g1{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Lae extends y1{walkMany(e,n,i){if(e.idx===this.occurrence){const r=Ys(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof Rn&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkMany(e,n,i)}}class N_ extends y1{walkManySep(e,n,i){if(e.idx===this.occurrence){const r=Ys(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof Rn&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkManySep(e,n,i)}}class Fae extends y1{walkAtLeastOne(e,n,i){if(e.idx===this.occurrence){const r=Ys(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof Rn&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOne(e,n,i)}}class O_ extends y1{walkAtLeastOneSep(e,n,i){if(e.idx===this.occurrence){const r=Ys(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof Rn&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOneSep(e,n,i)}}function X8(t,e,n=[]){n=Gi(n);let i=[],r=0;function s(a){return a.concat(Si(t,r+1))}function o(a){const l=X8(s(a),e,n);return i.concat(l)}for(;n.length<e&&r<t.length;){const a=t[r];if(a instanceof vr)return o(a.definition);if(a instanceof Gr)return o(a.definition);if(a instanceof Ar)i=o(a.definition);else if(a instanceof Go){const l=a.definition.concat([new si({definition:a.definition})]);return o(l)}else if(a instanceof Qo){const l=[new vr({definition:a.definition}),new si({definition:[new Rn({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof io){const l=a.definition.concat([new si({definition:[new Rn({terminalType:a.separator})].concat(a.definition)})]);i=o(l)}else if(a instanceof si){const l=a.definition.concat([new si({definition:a.definition})]);i=o(l)}else{if(a instanceof ro)return mt(a.definition,l=>{dn(l.definition)===!1&&(i=o(l.definition))}),i;if(a instanceof Rn)n.push(a.terminalType);else throw Error("non exhaustive match")}r++}return i.push({partialPath:n,suffixDef:Si(t,r)}),i}function CL(t,e,n,i){const r="EXIT_NONE_TERMINAL",s=[r],o="EXIT_ALTERNATIVE";let a=!1;const l=e.length,c=l-i-1,u=[],d=[];for(d.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!dn(d);){const p=d.pop();if(p===o){a&&cf(d).idx<=c&&d.pop();continue}const m=p.def,A=p.idx,g=p.ruleStack,v=p.occurrenceStack;if(dn(m))continue;const C=m[0];if(C===r){const y={idx:A,def:Si(m),ruleStack:s0(g),occurrenceStack:s0(v)};d.push(y)}else if(C instanceof Rn)if(A<l-1){const y=A+1,x=e[y];if(n(x,C.terminalType)){const S={idx:y,def:Si(m),ruleStack:g,occurrenceStack:v};d.push(S)}}else if(A===l-1)u.push({nextTokenType:C.terminalType,nextTokenOccurrence:C.idx,ruleStack:g,occurrenceStack:v}),a=!0;else throw Error("non exhaustive match");else if(C instanceof Gr){const y=Gi(g);y.push(C.nonTerminalName);const x=Gi(v);x.push(C.idx);const S={idx:A,def:C.definition.concat(s,Si(m)),ruleStack:y,occurrenceStack:x};d.push(S)}else if(C instanceof Ar){const y={idx:A,def:Si(m),ruleStack:g,occurrenceStack:v};d.push(y),d.push(o);const x={idx:A,def:C.definition.concat(Si(m)),ruleStack:g,occurrenceStack:v};d.push(x)}else if(C instanceof Go){const y=new si({definition:C.definition,idx:C.idx}),x=C.definition.concat([y],Si(m)),S={idx:A,def:x,ruleStack:g,occurrenceStack:v};d.push(S)}else if(C instanceof Qo){const y=new Rn({terminalType:C.separator}),x=new si({definition:[y].concat(C.definition),idx:C.idx}),S=C.definition.concat([x],Si(m)),I={idx:A,def:S,ruleStack:g,occurrenceStack:v};d.push(I)}else if(C instanceof io){const y={idx:A,def:Si(m),ruleStack:g,occurrenceStack:v};d.push(y),d.push(o);const x=new Rn({terminalType:C.separator}),S=new si({definition:[x].concat(C.definition),idx:C.idx}),I=C.definition.concat([S],Si(m)),T={idx:A,def:I,ruleStack:g,occurrenceStack:v};d.push(T)}else if(C instanceof si){const y={idx:A,def:Si(m),ruleStack:g,occurrenceStack:v};d.push(y),d.push(o);const x=new si({definition:C.definition,idx:C.idx}),S=C.definition.concat([x],Si(m)),I={idx:A,def:S,ruleStack:g,occurrenceStack:v};d.push(I)}else if(C instanceof ro)for(let y=C.definition.length-1;y>=0;y--){const x=C.definition[y],S={idx:A,def:x.definition.concat(Si(m)),ruleStack:g,occurrenceStack:v};d.push(S),d.push(o)}else if(C instanceof vr)d.push({idx:A,def:C.definition.concat(Si(m)),ruleStack:g,occurrenceStack:v});else if(C instanceof Tf)d.push(kae(C,A,g,v));else throw Error("non exhaustive match")}return u}function kae(t,e,n,i){const r=Gi(n);r.push(t.name);const s=Gi(i);return s.push(1),{idx:e,def:t.definition,ruleStack:r,occurrenceStack:s}}var On;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(On||(On={}));function EL(t){if(t instanceof Ar||t==="Option")return On.OPTION;if(t instanceof si||t==="Repetition")return On.REPETITION;if(t instanceof Go||t==="RepetitionMandatory")return On.REPETITION_MANDATORY;if(t instanceof Qo||t==="RepetitionMandatoryWithSeparator")return On.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof io||t==="RepetitionWithSeparator")return On.REPETITION_WITH_SEPARATOR;if(t instanceof ro||t==="Alternation")return On.ALTERNATION;throw Error("non exhaustive match")}function Nae(t,e,n,i,r,s){const o=U9(t,e,n),a=IL(o)?Xg:t3;return s(o,i,a,r)}function Oae(t,e,n,i,r,s){const o=G9(t,e,r,n),a=IL(o)?Xg:t3;return s(o[0],a,i)}function Uae(t,e,n,i){const r=t.length,s=Vs(t,o=>Vs(o,a=>a.length===1));if(e)return function(o){const a=at(o,l=>l.GATE);for(let l=0;l<r;l++){const c=t[l],u=c.length,d=a[l];if(d!==void 0&&d.call(this)===!1)continue;e:for(let p=0;p<u;p++){const m=c[p],A=m.length;for(let g=0;g<A;g++){const v=this.LA(g+1);if(n(v,m[g])===!1)continue e}return l}}};if(s&&!i){const o=at(t,l=>zs(l)),a=Ur(o,(l,c,u)=>(mt(c,d=>{dt(l,d.tokenTypeIdx)||(l[d.tokenTypeIdx]=u),mt(d.categoryMatches,p=>{dt(l,p)||(l[p]=u)})}),l),{});return function(){const l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let o=0;o<r;o++){const a=t[o],l=a.length;e:for(let c=0;c<l;c++){const u=a[c],d=u.length;for(let p=0;p<d;p++){const m=this.LA(p+1);if(n(m,u[p])===!1)continue e}return o}}}}function Gae(t,e,n){const i=Vs(t,s=>s.length===1),r=t.length;if(i&&!n){const s=zs(t);if(s.length===1&&dn(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const o=Ur(s,(a,l,c)=>(a[l.tokenTypeIdx]=!0,mt(l.categoryMatches,u=>{a[u]=!0}),a),[]);return function(){const a=this.LA(1);return o[a.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<r;s++){const o=t[s],a=o.length;for(let l=0;l<a;l++){const c=this.LA(l+1);if(e(c,o[l])===!1)continue e}return!0}return!1}}class Qae extends g1{constructor(e,n,i){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=i}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,i,r){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=i.concat(r),!0):!1}walkOption(e,n,i){this.checkIsTarget(e,On.OPTION,n,i)||super.walkOption(e,n,i)}walkAtLeastOne(e,n,i){this.checkIsTarget(e,On.REPETITION_MANDATORY,n,i)||super.walkOption(e,n,i)}walkAtLeastOneSep(e,n,i){this.checkIsTarget(e,On.REPETITION_MANDATORY_WITH_SEPARATOR,n,i)||super.walkOption(e,n,i)}walkMany(e,n,i){this.checkIsTarget(e,On.REPETITION,n,i)||super.walkOption(e,n,i)}walkManySep(e,n,i){this.checkIsTarget(e,On.REPETITION_WITH_SEPARATOR,n,i)||super.walkOption(e,n,i)}}class SL extends Bf{constructor(e,n,i){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=i,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,On.OPTION)}visitRepetition(e){this.checkIsTarget(e,On.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,On.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,On.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,On.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,On.ALTERNATION)}}function U_(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function E6(t){let e=[""];for(let n=0;n<t.length;n++){const i=t[n],r=[];for(let s=0;s<e.length;s++){const o=e[s];r.push(o+"_"+i.tokenTypeIdx);for(let a=0;a<i.categoryMatches.length;a++){const l="_"+i.categoryMatches[a];r.push(o+l)}}e=r}return e}function Hae(t,e,n){for(let i=0;i<t.length;i++){if(i===n)continue;const r=t[i];for(let s=0;s<e.length;s++){const o=e[s];if(r[o]===!0)return!1}}return!0}function wL(t,e){const n=at(t,o=>X8([o],1)),i=U_(n.length),r=at(n,o=>{const a={};return mt(o,l=>{const c=E6(l.partialPath);mt(c,u=>{a[u]=!0})}),a});let s=n;for(let o=1;o<=e;o++){const a=s;s=U_(a.length);for(let l=0;l<a.length;l++){const c=a[l];for(let u=0;u<c.length;u++){const d=c[u].partialPath,p=c[u].suffixDef,m=E6(d);if(Hae(r,m,l)||dn(p)||d.length===e){const g=i[l];if(q8(g,d)===!1){g.push(d);for(let v=0;v<m.length;v++){const C=m[v];r[l][C]=!0}}}else{const g=X8(p,o+1,d);s[l]=s[l].concat(g),mt(g,v=>{const C=E6(v.partialPath);mt(C,y=>{r[l][y]=!0})})}}}}return i}function U9(t,e,n,i){const r=new SL(t,On.ALTERNATION,i);return e.accept(r),wL(r.result,n)}function G9(t,e,n,i){const r=new SL(t,n);e.accept(r);const s=r.result,a=new Qae(e,t,n).startWalking(),l=new vr({definition:s}),c=new vr({definition:a});return wL([l,c],i)}function q8(t,e){e:for(let n=0;n<t.length;n++){const i=t[n];if(i.length===e.length){for(let r=0;r<i.length;r++){const s=e[r],o=i[r];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function zae(t,e){return t.length<e.length&&Vs(t,(n,i)=>{const r=e[i];return n===r||r.categoryMatchesMap[n.tokenTypeIdx]})}function IL(t){return Vs(t,e=>Vs(e,n=>Vs(n,i=>dn(i.categoryMatches))))}function Vae(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return at(e,n=>Object.assign({type:nr.CUSTOM_LOOKAHEAD_VALIDATION},n))}function Wae(t,e,n,i){const r=ps(t,l=>Jae(l,n)),s=rle(t,e,n),o=ps(t,l=>ele(l,n)),a=ps(t,l=>Yae(l,t,i,n));return r.concat(s,o,a)}function Jae(t,e){const n=new Kae;t.accept(n);const i=n.allProductions,r=noe(i,jae),s=no(r,a=>a.length>1);return at(ri(s),a=>{const l=Ys(a),c=e.buildDuplicateFoundError(t,a),u=vo(l),d={message:c,type:nr.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:l.idx},p=_L(l);return p&&(d.parameter=p),d})}function jae(t){return`${vo(t)}_#_${t.idx}_#_${_L(t)}`}function _L(t){return t instanceof Rn?t.terminalType.name:t instanceof Gr?t.nonTerminalName:""}class Kae extends Bf{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function Yae(t,e,n,i){const r=[];if(Ur(e,(o,a)=>a.name===t.name?o+1:o,0)>1){const o=i.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});r.push({message:o,type:nr.DUPLICATE_RULE_NAME,ruleName:t.name})}return r}function Xae(t,e,n){const i=[];let r;return sr(e,t)||(r=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,i.push({message:r,type:nr.INVALID_RULE_OVERRIDE,ruleName:t})),i}function ML(t,e,n,i=[]){const r=[],s=tg(e.definition);if(dn(s))return[];{const o=t.name;sr(s,t)&&r.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:i}),type:nr.LEFT_RECURSION,ruleName:o});const l=m1(s,i.concat([t])),c=ps(l,u=>{const d=Gi(i);return d.push(u),ML(t,u,n,d)});return r.concat(c)}}function tg(t){let e=[];if(dn(t))return e;const n=Ys(t);if(n instanceof Gr)e.push(n.referencedRule);else if(n instanceof vr||n instanceof Ar||n instanceof Go||n instanceof Qo||n instanceof io||n instanceof si)e=e.concat(tg(n.definition));else if(n instanceof ro)e=zs(at(n.definition,s=>tg(s.definition)));else if(!(n instanceof Rn))throw Error("non exhaustive match");const i=Jg(n),r=t.length>1;if(i&&r){const s=Si(t);return e.concat(tg(s))}else return e}class Q9 extends Bf{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function qae(t,e){const n=new Q9;t.accept(n);const i=n.alternations;return ps(i,s=>{const o=s0(s.definition);return ps(o,(a,l)=>{const c=CL([a],[],t3,1);return dn(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:l}),type:nr.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:l+1}]:[]})})}function Zae(t,e,n){const i=new Q9;t.accept(i);let r=i.alternations;return r=A1(r,o=>o.ignoreAmbiguities===!0),ps(r,o=>{const a=o.idx,l=o.maxLookahead||e,c=U9(a,t,l,o),u=nle(c,o,t,n),d=ile(c,o,t,n);return u.concat(d)})}class $ae extends Bf{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function ele(t,e){const n=new Q9;t.accept(n);const i=n.alternations;return ps(i,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:nr.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function tle(t,e,n){const i=[];return mt(t,r=>{const s=new $ae;r.accept(s);const o=s.allProductions;mt(o,a=>{const l=EL(a),c=a.maxLookahead||e,u=a.idx,p=G9(u,r,l,c)[0];if(dn(zs(p))){const m=n.buildEmptyRepetitionError({topLevelRule:r,repetition:a});i.push({message:m,type:nr.NO_NON_EMPTY_LOOKAHEAD,ruleName:r.name})}})}),i}function nle(t,e,n,i){const r=[],s=Ur(t,(a,l,c)=>(e.definition[c].ignoreAmbiguities===!0||mt(l,u=>{const d=[c];mt(t,(p,m)=>{c!==m&&q8(p,u)&&e.definition[m].ignoreAmbiguities!==!0&&d.push(m)}),d.length>1&&!q8(r,u)&&(r.push(u),a.push({alts:d,path:u}))}),a),[]);return at(s,a=>{const l=at(a.alts,u=>u+1);return{message:i.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:l,prefixPath:a.path}),type:nr.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:a.alts}})}function ile(t,e,n,i){const r=Ur(t,(o,a,l)=>{const c=at(a,u=>({idx:l,path:u}));return o.concat(c)},[]);return $0(ps(r,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const l=o.idx,c=o.path,u=Is(r,p=>e.definition[p.idx].ignoreAmbiguities!==!0&&p.idx<l&&zae(p.path,c));return at(u,p=>{const m=[p.idx+1,l+1],A=e.idx===0?"":e.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:m,prefixPath:p.path}),type:nr.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:A,alternatives:m}})}))}function rle(t,e,n){const i=[],r=at(e,s=>s.name);return mt(t,s=>{const o=s.name;if(sr(r,o)){const a=n.buildNamespaceConflictError(s);i.push({message:a,type:nr.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),i}function sle(t){const e=L9(t,{errMsgProvider:Bae}),n={};return mt(t.rules,i=>{n[i.name]=i}),bae(n,e.errMsgProvider)}function ole(t){return t=L9(t,{errMsgProvider:Vc}),Wae(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const TL="MismatchedTokenException",BL="NoViableAltException",bL="EarlyExitException",RL="NotAllInputParsedException",PL=[TL,BL,bL,RL];Object.freeze(PL);function qg(t){return sr(PL,t.name)}class x1 extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class DL extends x1{constructor(e,n,i){super(e,n),this.previousToken=i,this.name=TL}}class ale extends x1{constructor(e,n,i){super(e,n),this.previousToken=i,this.name=BL}}class lle extends x1{constructor(e,n){super(e,n),this.name=RL}}class cle extends x1{constructor(e,n,i){super(e,n),this.previousToken=i,this.name=bL}}const S6={},LL="InRuleRecoveryException";class ule extends Error{constructor(e){super(e),this.name=LL}}class hle{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=dt(e,"recoveryEnabled")?e.recoveryEnabled:kl.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=fle)}getTokenToInsert(e){const n=O9(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,i,r){const s=this.findReSyncTokenType(),o=this.exportLexerState(),a=[];let l=!1;const c=this.LA(1);let u=this.LA(1);const d=()=>{const p=this.LA(0),m=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:p,ruleName:this.getCurrRuleFullName()}),A=new DL(m,c,this.LA(0));A.resyncedTokens=s0(a),this.SAVE_ERROR(A)};for(;!l;)if(this.tokenMatcher(u,r)){d();return}else if(i.call(this)){d(),e.apply(this,n);return}else this.tokenMatcher(u,s)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,n,i){return!(i===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const i=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(i)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const i=this.SKIP_TOKEN();return this.consumeToken(),i}throw new ule("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||dn(n))return!1;const i=this.LA(1);return uf(n,s=>this.tokenMatcher(i,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),i=this.getFollowSetFromFollowKey(n);return sr(i,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),i=2;for(;;){const r=uf(e,s=>Tae(n,s));if(r!==void 0)return r;n=this.LA(i),i++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return S6;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),i=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(i)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return at(e,(i,r)=>r===0?S6:{ruleName:this.shortRuleNameToFullName(i),idxInCallingRule:n[r],inRule:this.shortRuleNameToFullName(e[r-1])})}flattenFollowSet(){const e=at(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return zs(e)}getFollowSetFromFollowKey(e){if(e===S6)return[uu];const n=e.ruleName+e.idxInCallingRule+cL+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,uu)||n.push(e),n}reSyncTo(e){const n=[];let i=this.LA(1);for(;this.tokenMatcher(i,e)===!1;)i=this.SKIP_TOKEN(),this.addToResyncTokens(i,n);return s0(n)}attemptInRepetitionRecovery(e,n,i,r,s,o,a){}getCurrentGrammarPath(e,n){const i=this.getHumanReadableRuleStack(),r=Gi(this.RULE_OCCURRENCE_STACK);return{ruleStack:i,occurrenceStack:r,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return at(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function fle(t,e,n,i,r,s,o){const a=this.getKeyForAutomaticLookahead(i,r);let l=this.firstAfterRepMap[a];if(l===void 0){const p=this.getCurrRuleFullName(),m=this.getGAstProductions()[p];l=new s(m,r).startWalking(),this.firstAfterRepMap[a]=l}let c=l.token,u=l.occurrence;const d=l.isEndOfRule;this.RULE_STACK.length===1&&d&&c===void 0&&(c=uu,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,o)&&this.tryInRepetitionRecovery(t,e,n,c)}const dle=4,Xl=8,FL=1<<Xl,kL=2<<Xl,Z8=3<<Xl,$8=4<<Xl,e4=5<<Xl,ng=6<<Xl;function w6(t,e,n){return n|e|t}class ple{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:kl.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(dn(n)){const i=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...i,...r,...s]}return n}validateNoLeftRecursion(e){return ps(e,n=>ML(n,n,Vc))}validateEmptyOrAlternatives(e){return ps(e,n=>qae(n,Vc))}validateAmbiguousAlternationAlternatives(e,n){return ps(e,i=>Zae(i,n,Vc))}validateSomeNonEmptyLookaheadPath(e,n){return tle(e,n,Vc)}buildLookaheadForAlternation(e){return Nae(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Uae)}buildLookaheadForOptional(e){return Oae(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,EL(e.prodType),Gae)}}class mle{initLooksAhead(e){this.dynamicTokensEnabled=dt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:kl.dynamicTokensEnabled,this.maxLookahead=dt(e,"maxLookahead")?e.maxLookahead:kl.maxLookahead,this.lookaheadStrategy=dt(e,"lookaheadStrategy")?e.lookaheadStrategy:new ple({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){mt(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:i,repetition:r,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=gle(n);mt(i,c=>{const u=c.idx===0?"":c.idx;this.TRACE_INIT(`${vo(c)}${u}`,()=>{const d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:n,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=w6(this.fullRuleNameToShort[n.name],FL,c.idx);this.setLaFuncCache(p,d)})}),mt(r,c=>{this.computeLookaheadFunc(n,c.idx,Z8,"Repetition",c.maxLookahead,vo(c))}),mt(s,c=>{this.computeLookaheadFunc(n,c.idx,kL,"Option",c.maxLookahead,vo(c))}),mt(o,c=>{this.computeLookaheadFunc(n,c.idx,$8,"RepetitionMandatory",c.maxLookahead,vo(c))}),mt(a,c=>{this.computeLookaheadFunc(n,c.idx,ng,"RepetitionMandatoryWithSeparator",c.maxLookahead,vo(c))}),mt(l,c=>{this.computeLookaheadFunc(n,c.idx,e4,"RepetitionWithSeparator",c.maxLookahead,vo(c))})})})}computeLookaheadFunc(e,n,i,r,s,o){this.TRACE_INIT(`${o}${n===0?"":n}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),l=w6(this.fullRuleNameToShort[e.name],i,n);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(e,n){const i=this.getLastExplicitRuleShortName();return w6(i,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class Ale extends Bf{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const EA=new Ale;function gle(t){EA.reset(),t.accept(EA);const e=EA.dslMethods;return EA.reset(),e}function G_(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function Q_(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function vle(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function yle(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const xle="name";function NL(t,e){Object.defineProperty(t,xle,{enumerable:!1,configurable:!0,writable:!1,value:e})}function Cle(t,e){const n=Nr(t),i=n.length;for(let r=0;r<i;r++){const s=n[r],o=t[s],a=o.length;for(let l=0;l<a;l++){const c=o[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function Ele(t,e){const n=function(){};NL(n,t+"BaseSemantics");const i={visit:function(r,s){if(Kt(r)&&(r=r[0]),!wa(r))return this[r.name](r.children,s)},validateVisitor:function(){const r=wle(this,e);if(!dn(r)){const s=at(r,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=i,n.prototype.constructor=n,n._RULE_NAMES=e,n}function Sle(t,e,n){const i=function(){};NL(i,t+"BaseSemanticsWithDefaults");const r=Object.create(n.prototype);return mt(e,s=>{r[s]=Cle}),i.prototype=r,i.prototype.constructor=i,i}var t4;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(t4||(t4={}));function wle(t,e){return Ile(t,e)}function Ile(t,e){const n=Is(e,r=>Ba(t[r])===!1),i=at(n,r=>({msg:`Missing visitor method: <${r}> on ${t.constructor.name} CST Visitor.`,type:t4.MISSING_METHOD,methodName:r}));return $0(i)}class _le{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=dt(e,"nodeLocationTracking")?e.nodeLocationTracking:kl.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=ni,this.cstFinallyStateUpdate=ni,this.cstPostTerminal=ni,this.cstPostNonTerminal=ni,this.cstPostRule=ni;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Q_,this.setNodeLocationFromNode=Q_,this.cstPostRule=ni,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ni,this.setNodeLocationFromNode=ni,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=G_,this.setNodeLocationFromNode=G_,this.cstPostRule=ni,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ni,this.setNodeLocationFromNode=ni,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=ni,this.setNodeLocationFromNode=ni,this.cstPostRule=ni,this.setInitialNodeLocation=ni;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),i=e.location;i.startOffset<=n.startOffset?(i.endOffset=n.endOffset,i.endLine=n.endLine,i.endColumn=n.endColumn):(i.startOffset=NaN,i.startLine=NaN,i.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),i=e.location;i.startOffset<=n.startOffset?i.endOffset=n.endOffset:i.startOffset=NaN}cstPostTerminal(e,n){const i=this.CST_STACK[this.CST_STACK.length-1];vle(i,n,e),this.setNodeLocationFromToken(i.location,n)}cstPostNonTerminal(e,n){const i=this.CST_STACK[this.CST_STACK.length-1];yle(i,n,e),this.setNodeLocationFromNode(i.location,e.location)}getBaseCstVisitorConstructor(){if(wa(this.baseCstVisitorConstructor)){const e=Ele(this.className,Nr(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(wa(this.baseCstVisitorWithDefaultsConstructor)){const e=Sle(this.className,Nr(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class Mle{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):$g}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?$g:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class Tle{ACTION(e){return e.call(this)}consume(e,n,i){return this.consumeInternal(n,e,i)}subrule(e,n,i){return this.subruleInternal(n,e,i)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,i=e2){if(sr(this.definedRulesNames,e)){const o={message:Vc.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:nr.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const r=this.defineRule(e,n,i);return this[e]=r,r}OVERRIDE_RULE(e,n,i=e2){const r=Xae(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const s=this.defineRule(e,n,i);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const i=this.saveRecogState();try{return e.apply(this,n),!0}catch(r){if(qg(r))return!1;throw r}finally{this.reloadRecogState(i),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return boe(ri(this.gastProductionsCache))}}class Ble{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Xg,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},dt(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Kt(e)){if(dn(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Kt(e))this.tokensMap=Ur(e,(s,o)=>(s[o.name]=o,s),{});else if(dt(e,"modes")&&Vs(zs(ri(e.modes)),wae)){const s=zs(ri(e.modes)),o=F9(s);this.tokensMap=Ur(o,(a,l)=>(a[l.name]=l,a),{})}else if(Ss(e))this.tokensMap=Gi(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=uu;const i=dt(e,"modes")?zs(ri(e.modes)):ri(e),r=Vs(i,s=>dn(s.categoryMatches));this.tokenMatcher=r?Xg:t3,n3(ri(this.tokensMap))}defineRule(e,n,i){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=dt(i,"resyncEnabled")?i.resyncEnabled:e2.resyncEnabled,s=dt(i,"recoveryValueFunc")?i.recoveryValueFunc:e2.recoveryValueFunc,o=this.ruleShortNameIdx<<dle+Xl;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let a;return this.outputCst===!0?a=function(...u){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u);const d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}catch(d){return this.invokeRuleCatch(d,r,s)}finally{this.ruleFinallyStateUpdate()}}:a=function(...u){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u)}catch(d){return this.invokeRuleCatch(d,r,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,i){const r=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(qg(e)){const o=e;if(s){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return i(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(r)return this.moveToTerminatedState(),i(e);throw o}}else throw e}optionInternal(e,n){const i=this.getKeyForAutomaticLookahead(kL,n);return this.optionInternalLogic(e,n,i)}optionInternalLogic(e,n,i){let r=this.getLaFuncFromCache(i),s;if(typeof e!="function"){s=e.DEF;const o=e.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=e;if(r.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const i=this.getKeyForAutomaticLookahead($8,e);return this.atLeastOneInternalLogic(e,n,i)}atLeastOneInternalLogic(e,n,i){let r=this.getLaFuncFromCache(i),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=n;if(r.call(this)===!0){let o=this.doSingleRepetition(s);for(;r.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,On.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],r,$8,e,Fae)}atLeastOneSepFirstInternal(e,n){const i=this.getKeyForAutomaticLookahead(ng,e);this.atLeastOneSepFirstInternalLogic(e,n,i)}atLeastOneSepFirstInternalLogic(e,n,i){const r=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){r.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,r,O_],a,ng,e,O_)}else throw this.raiseEarlyExitException(e,On.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const i=this.getKeyForAutomaticLookahead(Z8,e);return this.manyInternalLogic(e,n,i)}manyInternalLogic(e,n,i){let r=this.getLaFuncFromCache(i),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const l=r;r=()=>a.call(this)&&l.call(this)}}else s=n;let o=!0;for(;r.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],r,Z8,e,Lae,o)}manySepFirstInternal(e,n){const i=this.getKeyForAutomaticLookahead(e4,e);this.manySepFirstInternalLogic(e,n,i)}manySepFirstInternalLogic(e,n,i){const r=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){r.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,r,N_],a,e4,e,N_)}}repetitionSepSecondInternal(e,n,i,r,s){for(;i();)this.CONSUME(n),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,i,r,s],i,ng,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const i=this.getKeyForAutomaticLookahead(FL,n),r=Kt(e)?e:e.DEF,o=this.getLaFuncFromCache(i).call(this,r);if(o!==void 0)return r[o].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new lle(n,e))}}subruleInternal(e,n,i){let r;try{const s=i!==void 0?i.ARGS:void 0;return this.subruleIdx=n,r=e.apply(this,s),this.cstPostNonTerminal(r,i!==void 0&&i.LABEL!==void 0?i.LABEL:e.ruleName),r}catch(s){throw this.subruleInternalError(s,i,e.ruleName)}}subruleInternalError(e,n,i){throw qg(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:i),delete e.partialCstResult),e}consumeInternal(e,n,i){let r;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),r=s):this.consumeInternalError(e,s,i)}catch(s){r=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(i!==void 0&&i.LABEL!==void 0?i.LABEL:e.name,r),r}consumeInternalError(e,n,i){let r;const s=this.LA(0);throw i!==void 0&&i.ERR_MSG?r=i.ERR_MSG:r=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new DL(r,n,s))}consumeInternalRecovery(e,n,i){if(this.recoveryEnabled&&i.name==="MismatchedTokenException"&&!this.isBackTracking()){const r=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,r)}catch(s){throw s.name===LL?i:s}}else throw i}saveRecogState(){const e=this.errors,n=Gi(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,i){this.RULE_OCCURRENCE_STACK.push(i),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),uu)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class ble{initErrorHandler(e){this._errors=[],this.errorMessageProvider=dt(e,"errorMessageProvider")?e.errorMessageProvider:kl.errorMessageProvider}SAVE_ERROR(e){if(qg(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Gi(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Gi(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,i){const r=this.getCurrRuleFullName(),s=this.getGAstProductions()[r],a=G9(e,s,n,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:i,ruleName:r});throw this.SAVE_ERROR(new cle(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const i=this.getCurrRuleFullName(),r=this.getGAstProductions()[i],s=U9(e,r,this.maxLookahead),o=[];for(let c=1;c<=this.maxLookahead;c++)o.push(this.LA(c));const a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:a,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new ale(l,this.LA(1),a))}}class Rle{initContentAssist(){}computeContentAssist(e,n){const i=this.gastProductionsCache[e];if(wa(i))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return CL([i],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=Ys(e.ruleStack),r=this.getGAstProductions()[n];return new Dae(r,e).startWalking()}}const C1={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(C1);const H_=!0,z_=Math.pow(2,Xl)-1,OL=yL({name:"RECORDING_PHASE_TOKEN",pattern:ms.NA});n3([OL]);const UL=O9(OL,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(UL);const Ple={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class Dle{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(i,r){return this.consumeInternalRecord(i,e,r)},this[`SUBRULE${n}`]=function(i,r){return this.subruleInternalRecord(i,e,r)},this[`OPTION${n}`]=function(i){return this.optionInternalRecord(i,e)},this[`OR${n}`]=function(i){return this.orInternalRecord(i,e)},this[`MANY${n}`]=function(i){this.manyInternalRecord(e,i)},this[`MANY_SEP${n}`]=function(i){this.manySepFirstInternalRecord(e,i)},this[`AT_LEAST_ONE${n}`]=function(i){this.atLeastOneInternalRecord(e,i)},this[`AT_LEAST_ONE_SEP${n}`]=function(i){this.atLeastOneSepFirstInternalRecord(e,i)}}this.consume=function(e,n,i){return this.consumeInternalRecord(n,e,i)},this.subrule=function(e,n,i){return this.subruleInternalRecord(n,e,i)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const i=n>0?n:"";delete e[`CONSUME${i}`],delete e[`SUBRULE${i}`],delete e[`OPTION${i}`],delete e[`OR${i}`],delete e[`MANY${i}`],delete e[`MANY_SEP${i}`],delete e[`AT_LEAST_ONE${i}`],delete e[`AT_LEAST_ONE_SEP${i}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return $g}topLevelRuleRecord(e,n){try{const i=new Tf({definition:[],name:e});return i.name=e,this.recordingProdStack.push(i),n.call(this),this.recordingProdStack.pop(),i}catch(i){if(i.KNOWN_RECORDER_ERROR!==!0)try{i.message=i.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw i}throw i}}optionInternalRecord(e,n){return _d.call(this,Ar,e,n)}atLeastOneInternalRecord(e,n){_d.call(this,Go,n,e)}atLeastOneSepFirstInternalRecord(e,n){_d.call(this,Qo,n,e,H_)}manyInternalRecord(e,n){_d.call(this,si,n,e)}manySepFirstInternalRecord(e,n){_d.call(this,io,n,e,H_)}orInternalRecord(e,n){return Lle.call(this,e,n)}subruleInternalRecord(e,n,i){if(Zg(n),!e||dt(e,"ruleName")===!1){const a=new Error(`<SUBRULE${V_(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const r=cf(this.recordingProdStack),s=e.ruleName,o=new Gr({idx:n,nonTerminalName:s,label:i==null?void 0:i.LABEL,referencedRule:void 0});return r.definition.push(o),this.outputCst?Ple:C1}consumeInternalRecord(e,n,i){if(Zg(n),!gL(e)){const o=new Error(`<CONSUME${V_(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const r=cf(this.recordingProdStack),s=new Rn({idx:n,terminalType:e,label:i==null?void 0:i.LABEL});return r.definition.push(s),UL}}function _d(t,e,n,i=!1){Zg(n);const r=cf(this.recordingProdStack),s=Ba(e)?e:e.DEF,o=new t({definition:[],idx:n});return i&&(o.separator=e.SEP),dt(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),r.definition.push(o),this.recordingProdStack.pop(),C1}function Lle(t,e){Zg(e);const n=cf(this.recordingProdStack),i=Kt(t)===!1,r=i===!1?t:t.DEF,s=new ro({definition:[],idx:e,ignoreAmbiguities:i&&t.IGNORE_AMBIGUITIES===!0});dt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const o=sL(r,a=>Ba(a.GATE));return s.hasPredicates=o,n.definition.push(s),mt(r,a=>{const l=new vr({definition:[]});s.definition.push(l),dt(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:dt(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),C1}function V_(t){return t===0?"":`${t}`}function Zg(t){if(t<0||t>z_){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${z_+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class Fle{initPerformanceTracer(e){if(dt(e,"traceInitPerf")){const n=e.traceInitPerf,i=typeof n=="number";this.traceInitMaxIdent=i?n:1/0,this.traceInitPerf=i?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=kl.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const i=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${i}--> <${e}>`);const{time:r,value:s}=aL(n),o=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${i}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,s}else return n()}}function kle(t,e){e.forEach(n=>{const i=n.prototype;Object.getOwnPropertyNames(i).forEach(r=>{if(r==="constructor")return;const s=Object.getOwnPropertyDescriptor(i,r);s&&(s.get||s.set)?Object.defineProperty(t.prototype,r,s):t.prototype[r]=n.prototype[r]})})}const $g=O9(uu,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze($g);const kl=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:xL,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),e2=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var nr;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(nr||(nr={}));class E1{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{lL(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),mt(this.definedRulesNames,r=>{const o=this[r].originalGrammarAction;let a;this.TRACE_INIT(`${r} Rule`,()=>{a=this.topLevelRuleRecord(r,o)}),this.gastProductionsCache[r]=a})}finally{this.disableRecording()}});let i=[];if(this.TRACE_INIT("Grammar Resolving",()=>{i=sle({rules:ri(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(i)}),this.TRACE_INIT("Grammar Validations",()=>{if(dn(i)&&this.skipValidations===!1){const r=ole({rules:ri(this.gastProductionsCache),tokenTypes:ri(this.tokensMap),errMsgProvider:Vc,grammarName:n}),s=Vae({lookaheadStrategy:this.lookaheadStrategy,rules:ri(this.gastProductionsCache),tokenTypes:ri(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(r,s)}}),dn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const r=Noe(ri(this.gastProductionsCache));this.resyncFollows=r}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var r,s;(s=(r=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(r,{rules:ri(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ri(this.gastProductionsCache))})),!E1.DEFER_DEFINITION_ERRORS_HANDLING&&!dn(this.definitionErrors))throw e=at(this.definitionErrors,r=>r.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const i=this;if(i.initErrorHandler(n),i.initLexerAdapter(),i.initLooksAhead(n),i.initRecognizerEngine(e,n),i.initRecoverable(n),i.initTreeBuilder(n),i.initContentAssist(),i.initGastRecorder(n),i.initPerformanceTracer(n),dt(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=dt(n,"skipValidations")?n.skipValidations:kl.skipValidations}}E1.DEFER_DEFINITION_ERRORS_HANDLING=!1;kle(E1,[hle,mle,_le,Mle,Ble,Tle,ble,Rle,Dle,Fle]);class Nle{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const i=this.workersResolve[e];if(i&&i(n),this.queue.length){const{resolve:r,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=r,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(i=>{const r=this._getIdleWorker();r!==-1?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=i,this.workers[r].postMessage(e,n)):this.queue.push({resolve:i,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class Ole extends ru{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=_n}}const I6=new WeakMap;let _6=0,M6;const Ud=class extends Bi{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Nle,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new li(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=t.loadAsync("basis_transcoder.js"),n=new li(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const i=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,i]).then(([r,s])=>{const o=Ud.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(Ud.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Ud.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Ud.BasisFormat),"/* basis_transcoder.js */",r,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const l=new Worker(this.workerSourceURL),c=this.transcoderBinary.slice(0);return l.postMessage({type:"init",config:this.workerConfig,transcoderBinary:c},[c]),l})}),_6>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),_6++}return this.transcoderPending}load(t,e,n,i){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const r=new li(this.manager);r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials),r.load(t,s=>{if(I6.has(s))return I6.get(s).promise.then(e).catch(i);this._createTexture(s).then(o=>e?e(o):null).catch(i)},n,i)}_createTextureFrom(t,e){const{mipmaps:n,width:i,height:r,format:s,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=t;if(o==="error")return Promise.reject(a);const u=e.layerCount>1?new Ole(n,i,r,e.layerCount,s,yi):new ru(n,i,r,s,yi);return u.minFilter=n.length===1?ln:xs,u.magFilter=ln,u.generateMipmaps=!1,u.needsUpdate=!0,"colorSpace"in u?u.colorSpace=l===M8?"srgb":"srgb-linear":u.encoding=l===M8?3001:3e3,u.premultiplyAlpha=!!(c&pY),u}async _createTexture(t,e={}){const n=vY(new Uint8Array(t));if(n.vkFormat!==PP)return Gle(n);const i=e,r=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:i},[t])).then(s=>this._createTextureFrom(s.data,n));return I6.set(t,{promise:r}),r}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),_6--,this}};let S1=Ud;we(S1,"BasisFormat",{ETC1S:0,UASTC_4x4:1});we(S1,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});we(S1,"EngineFormat",{RGBAFormat:Un,RGBA_ASTC_4x4_Format:Hp,RGBA_BPTC_Format:kh,RGBA_ETC2_EAC_Format:Qp,RGBA_PVRTC_4BPPV1_Format:Up,RGBA_S3TC_DXT5_Format:Fh,RGB_ETC1_Format:N2,RGB_ETC2_Format:Gp,RGB_PVRTC_4BPPV1_Format:Op,RGB_S3TC_DXT1_Format:Lh});we(S1,"BasisWorker",function(){let t,e,n;const i=_EngineFormat,r=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(A){const g=A.data;switch(g.type){case"init":t=g.config,o(g.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:v,height:C,hasAlpha:y,mipmaps:x,format:S,dfdTransferFn:I,dfdFlags:T}=a(g.buffer),B=[];for(let M=0;M<x.length;++M)B.push(x[M].data.buffer);self.postMessage({type:"transcode",id:g.id,width:v,height:C,hasAlpha:y,mipmaps:x,format:S,dfdTransferFn:I,dfdFlags:T},B)}catch(v){console.error(v),self.postMessage({type:"error",id:g.id,error:v.message})}});break}});function o(A){e=new Promise(g=>{n={wasmBinary:A,onRuntimeInitialized:g},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(A){const g=new n.KTX2File(new Uint8Array(A));function v(){g.close(),g.delete()}if(!g.isValid())throw v(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const C=g.isUASTC()?s.UASTC_4x4:s.ETC1S,y=g.getWidth(),x=g.getHeight(),S=g.getLayers()||1,I=g.getLevels(),T=g.getHasAlpha(),B=g.getDFDTransferFunc(),M=g.getDFDFlags(),{transcoderFormat:R,engineFormat:P}=d(C,y,x,T);if(!y||!x||!I)throw v(),new Error("THREE.KTX2Loader:	Invalid texture");if(!g.startTranscoding())throw v(),new Error("THREE.KTX2Loader: .startTranscoding failed");const L=[];for(let V=0;V<I;V++){const N=[];let U,j;for(let X=0;X<S;X++){const te=g.getImageLevelInfo(V,X,0);U=te.origWidth<4?te.origWidth:te.width,j=te.origHeight<4?te.origHeight:te.height;const k=new Uint8Array(g.getImageTranscodedSizeInBytes(V,X,0,R));if(!g.transcodeImage(k,V,X,0,R,0,-1,-1))throw v(),new Error("THREE.KTX2Loader: .transcodeImage failed.");N.push(k)}L.push({data:m(N),width:U,height:j})}return v(),{width:y,height:x,hasAlpha:T,mipmaps:L,format:P,dfdTransferFn:B,dfdFlags:M}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC1,r.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1],engineFormat:[i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=l.sort(function(A,g){return A.priorityETC1S-g.priorityETC1S}),u=l.sort(function(A,g){return A.priorityUASTC-g.priorityUASTC});function d(A,g,v,C){let y,x;const S=A===s.ETC1S?c:u;for(let I=0;I<S.length;I++){const T=S[I];if(t[T.if]&&T.basisFormat.includes(A)&&!(C&&T.transcoderFormat.length<2)&&!(T.needsPowerOfTwo&&!(p(g)&&p(v))))return y=T.transcoderFormat[C?1:0],x=T.engineFormat[C?1:0],{transcoderFormat:y,engineFormat:x}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),y=r.RGBA32,x=i.RGBAFormat,{transcoderFormat:y,engineFormat:x}}function p(A){return A<=2?!0:(A&A-1)===0&&A!==0}function m(A){let g=0;for(let y=0;y<A.length;y++){const x=A[y];g+=x.byteLength}const v=new Uint8Array(g);let C=0;for(let y=0;y<A.length;y++){const x=A[y];v.set(x,C),C+=x.byteLength}return v}});const W_={[QP]:Un,[OP]:Un,[FP]:Un,[u9]:Un,[GP]:yh,[NP]:yh,[LP]:yh,[c9]:yh,[UP]:Oc,[kP]:Oc,[l9]:Oc,[DP]:Oc},T6={[QP]:fr,[OP]:Jn,[FP]:yi,[u9]:yi,[GP]:fr,[NP]:Jn,[LP]:yi,[c9]:yi,[UP]:fr,[kP]:Jn,[l9]:yi,[DP]:yi},Ule={[u9]:3001,[c9]:3001,[l9]:3001};async function Gle(t){const{vkFormat:e,pixelWidth:n,pixelHeight:i,pixelDepth:r}=t;if(W_[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=t.levels[0];let o,a;if(t.supercompressionScheme===RP)o=s.levelData;else if(t.supercompressionScheme===lY)M6||(M6=new Promise(async c=>{const u=new yY;await u.init(),c(u)})),o=(await M6).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");T6[e]===fr?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):T6[e]===Jn?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=r===0?new Io(a,n,i):new uee(a,n,i,r);return l.type=T6[e],l.format=W_[e],l.encoding=Ule[e]||3e3,l.needsUpdate=!0,Promise.resolve(l)}const B6=new WeakMap,Gd=class extends Bi{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerLimit=t,this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}load(t,e,n,i){const r=new li(this.manager);r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);const s=new ru;return r.load(t,o=>{if(B6.has(o))return B6.get(o).promise.then(e).catch(i);this._createTexture([o]).then(function(a){s.copy(a),s.needsUpdate=!0,e&&e(s)}).catch(i)},n,i),s}parseInternalAsync(t){const{levels:e}=t,n=new Set;for(let i=0;i<e.length;i++)n.add(e[i].data.buffer);return this._createTexture(Array.from(n),{...t,lowLevel:!0})}_createTexture(t,e={}){let n,i;const r=e;let s=0;for(let a=0;a<t.length;a++)s+=t[a].byteLength;const o=this._allocateWorker(s).then(a=>(n=a,i=this.workerNextTaskID++,new Promise((l,c)=>{n._callbacks[i]={resolve:l,reject:c},n.postMessage({type:"transcode",id:i,buffers:t,taskConfig:r},t)}))).then(a=>{const{mipmaps:l,width:c,height:u,format:d}=a,p=new ru(l,c,u,d,yi);return p.minFilter=l.length===1?ln:xs,p.magFilter=ln,p.generateMipmaps=!1,p.needsUpdate=!0,p});return o.catch(()=>!0).then(()=>{n&&i&&(n._taskLoad-=s,delete n._callbacks[i])}),B6.set(t[0],{promise:o}),o}_initTranscoder(){if(!this.transcoderPending){const t=new li(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=new Promise((r,s)=>{t.load("basis_transcoder.js",r,void 0,s)}),n=new li(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const i=new Promise((r,s)=>{n.load("basis_transcoder.wasm",r,void 0,s)});this.transcoderPending=Promise.all([e,i]).then(([r,s])=>{const o=Gd.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(Gd.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Gd.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Gd.BasisFormat),"/* basis_transcoder.js */",r,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s})}return this.transcoderPending}_allocateWorker(t){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskLoad=0,n.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),n.onmessage=function(i){const r=i.data;switch(r.type){case"transcode":n._callbacks[r.id].resolve(r);break;case"error":n._callbacks[r.id].reject(r);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,i){return n._taskLoad>i._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskLoad+=t,e})}dispose(){for(let t=0;t<this.workerPool.length;t++)this.workerPool[t].terminate();return this.workerPool.length=0,this}};let w1=Gd;we(w1,"BasisFormat",{ETC1S:0,UASTC_4x4:1});we(w1,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});we(w1,"EngineFormat",{RGBAFormat:Un,RGBA_ASTC_4x4_Format:Hp,RGBA_BPTC_Format:kh,RGBA_ETC2_EAC_Format:Qp,RGBA_PVRTC_4BPPV1_Format:Up,RGBA_S3TC_DXT5_Format:Fh,RGB_ETC1_Format:N2,RGB_ETC2_Format:Gp,RGB_PVRTC_4BPPV1_Format:Op,RGB_S3TC_DXT1_Format:Lh});we(w1,"BasisWorker",function(){let t,e,n;const i=_EngineFormat,r=_TranscoderFormat,s=_BasisFormat;onmessage=function(y){const x=y.data;switch(x.type){case"init":t=x.config,o(x.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:S,height:I,hasAlpha:T,mipmaps:B,format:M}=x.taskConfig.lowLevel?a(x.taskConfig):l(x.buffers[0]),R=[];for(let P=0;P<B.length;++P)R.push(B[P].data.buffer);self.postMessage({type:"transcode",id:x.id,width:S,height:I,hasAlpha:T,mipmaps:B,format:M},R)}catch(S){console.error(S),self.postMessage({type:"error",id:x.id,error:S.message})}});break}};function o(y){e=new Promise(x=>{n={wasmBinary:y,onRuntimeInitialized:x},BASIS(n)}).then(()=>{n.initializeBasis()})}function a(y){const{basisFormat:x,width:S,height:I,hasAlpha:T}=y,{transcoderFormat:B,engineFormat:M}=p(x,S,I,T),R=n.getBytesPerBlockOrPixel(B);m(n.isFormatSupported(B),"THREE.BasisTextureLoader: Unsupported format.");const P=[];if(x===s.ETC1S){const L=new n.LowLevelETC1SImageTranscoder,{endpointCount:V,endpointsData:N,selectorCount:U,selectorsData:j,tablesData:X}=y.globalData;try{let te;te=L.decodePalettes(V,N,U,j),m(te,"THREE.BasisTextureLoader: decodePalettes() failed."),te=L.decodeTables(X),m(te,"THREE.BasisTextureLoader: decodeTables() failed.");for(let k=0;k<y.levels.length;k++){const J=y.levels[k],W=y.globalData.imageDescs[k],$=v(B,J.width,J.height),H=new Uint8Array($);te=L.transcodeImage(B,H,$/R,J.data,A(B,J.width),g(B,J.height),J.width,J.height,J.index,W.rgbSliceByteOffset,W.rgbSliceByteLength,W.alphaSliceByteOffset,W.alphaSliceByteLength,W.imageFlags,T,!1,0,0),m(te,"THREE.BasisTextureLoader: transcodeImage() failed for level "+J.index+"."),P.push({data:H,width:J.width,height:J.height})}}finally{L.delete()}}else for(let L=0;L<y.levels.length;L++){const V=y.levels[L],N=v(B,V.width,V.height),U=new Uint8Array(N),j=n.transcodeUASTCImage(B,U,N/R,V.data,A(B,V.width),g(B,V.height),V.width,V.height,V.index,0,V.data.byteLength,0,T,!1,0,0,-1,-1);m(j,"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+V.index+"."),P.push({data:U,width:V.width,height:V.height})}return{width:S,height:I,hasAlpha:T,mipmaps:P,format:M}}function l(y){const x=new n.BasisFile(new Uint8Array(y)),S=x.isUASTC()?s.UASTC_4x4:s.ETC1S,I=x.getImageWidth(0,0),T=x.getImageHeight(0,0),B=x.getNumLevels(0),M=x.getHasAlpha();function R(){x.close(),x.delete()}const{transcoderFormat:P,engineFormat:L}=p(S,I,T,M);if(!I||!T||!B)throw R(),new Error("THREE.BasisTextureLoader:	Invalid texture");if(!x.startTranscoding())throw R(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");const V=[];for(let N=0;N<B;N++){const U=x.getImageWidth(0,N),j=x.getImageHeight(0,N),X=new Uint8Array(x.getImageTranscodedSizeInBytes(0,N,P));if(!x.transcodeImage(X,0,N,P,0,M))throw R(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");V.push({data:X,width:U,height:j})}return R(),{width:I,height:T,hasAlpha:M,mipmaps:V,format:L}}const c=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC1,r.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC1],engineFormat:[i.RGB_ETC1_Format,i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=c.sort(function(y,x){return y.priorityETC1S-x.priorityETC1S}),d=c.sort(function(y,x){return y.priorityUASTC-x.priorityUASTC});function p(y,x,S,I){let T,B;const M=y===s.ETC1S?u:d;for(let R=0;R<M.length;R++){const P=M[R];if(t[P.if]&&P.basisFormat.includes(y)&&!(P.needsPowerOfTwo&&!(C(x)&&C(S))))return T=P.transcoderFormat[I?1:0],B=P.engineFormat[I?1:0],{transcoderFormat:T,engineFormat:B}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),T=r.RGBA32,B=i.RGBAFormat,{transcoderFormat:T,engineFormat:B}}function m(y,x){if(!y)throw new Error(x)}function A(y,x){return Math.ceil(x/n.getFormatBlockWidth(y))}function g(y,x){return Math.ceil(x/n.getFormatBlockHeight(y))}function v(y,x,S){const I=n.getBytesPerBlockOrPixel(y);if(n.formatIsUncompressed(y))return x*S*I;if(y===r.PVRTC1_4_RGB||y===r.PVRTC1_4_RGBA){const T=x+3&-4,B=S+3&-4;return(Math.max(8,T)*Math.max(8,B)*4+7)/8}return A(y,x)*g(y,S)*I}function C(y){return y<=2?!0:(y&y-1)===0&&y!==0}});const b6=new WeakMap;class Qle extends Bi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,r){const s=new li(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(r)},i,r)}decodeDracoFile(e,n,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const i=JSON.stringify(n);if(b6.has(e)){const l=b6.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),b6.set(e,{key:i,promise:a}),a}_createGeometry(e){const n=new yt;e.index&&n.setIndex(new Zt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;n.setAttribute(s,new Zt(o,a))}return n}_loadLibrary(e,n){const i=new li(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=Hle.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Hle(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const A=n(d,p,m,c),g=A.attributes.map(v=>v.array.buffer);A.index&&g.push(A.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:A},g)}catch(A){console.error(A),self.postMessage({type:"error",id:a.id,error:A.message})}finally{d.destroy(m),d.destroy(p)}});break}};function n(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let p,m;const A=a.GetEncodedGeometryType(l);if(A===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(A===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const g={index:null,attributes:[]};for(const v in u){const C=self[d[v]];let y,x;if(c.useUniqueIDs)x=u[v],y=a.GetAttributeByUniqueId(p,x);else{if(x=a.GetAttributeId(p,o[u[v]]),x===-1)continue;y=a.GetAttribute(p,x)}g.attributes.push(r(o,a,p,v,C,y))}return A===o.TRIANGULAR_MESH&&(g.index=i(o,a,p)),o.destroy(p),g}function i(o,a,l){const u=l.num_faces()*3,d=u*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,u,d){const p=d.num_components(),A=l.num_points()*p,g=A*u.BYTES_PER_ELEMENT,v=s(o,u),C=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,d,v,g,C);const y=new u(o.HEAPF32.buffer,C,A).slice();return o._free(C),{name:c,array:y,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let SA;const R6=()=>{if(SA)return SA;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=t;WebAssembly.validate(n)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let A=0;A<d.length;++A){const g=d.charCodeAt(A);p[A]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let m=0;for(let A=0;A<d.length;++A)p[m++]=p[A]<60?i[p[A]]:(p[A]-60)*64+p[++A];return p.buffer.slice(0,m)}function l(d,p,m,A,g,v){const C=s.exports.sbrk,y=m+3&-4,x=C(y*A),S=C(g.length),I=new Uint8Array(s.exports.memory.buffer);I.set(g,S);const T=d(x,m,A,S,g.length);if(T===0&&v&&v(x,y,A),p.set(I.subarray(x,x+m*A)),C(x-C(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return SA={ready:o,supported:!0,decodeVertexBuffer(d,p,m,A,g){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,A,s.exports[c[g]])},decodeIndexBuffer(d,p,m,A){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,A)},decodeIndexSequence(d,p,m,A){l(s.exports.meshopt_decodeIndexSequence,d,p,m,A)},decodeGltfBuffer(d,p,m,A,g,v){l(s.exports[u[g]],d,p,m,A,s.exports[c[v]])}},SA},J_=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function H9(t,e){const n=Mr(r=>r.gl),i=Jl(O0,J_(t)?Object.values(t):t);if(z.useLayoutEffect(()=>{e==null||e(i)},[e]),z.useEffect(()=>{(Array.isArray(i)?i:[i]).forEach(n.initTexture)},[n,i]),J_(t)){const r=Object.keys(t),s={};return r.forEach(o=>Object.assign(s,{[o]:i[r.indexOf(o)]})),s}else return i}H9.preload=t=>Jl.preload(O0,t);H9.clear=t=>Jl.clear(O0,t);function zle(t){return Array.isArray(t)}function P6(t=[0,0,0]){return zle(t)?t:t instanceof D||t instanceof du?[t.x,t.y,t.z]:[t,t,t]}const Vle=z.forwardRef(function({debug:e,depthTest:n=!1,polygonOffsetFactor:i=-10,map:r,mesh:s,children:o,position:a,rotation:l,scale:c,...u},d){const p=z.useRef(null);z.useImperativeHandle(d,()=>p.current);const m=z.useRef(null);return z.useLayoutEffect(()=>{const A=(s==null?void 0:s.current)||p.current.parent,g=p.current;if(!(A instanceof tn))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const v={position:new D,rotation:new du,scale:new D(1,1,1)};if(A){go(v,{position:a,scale:c});const C=A.matrixWorld.clone();if(A.matrixWorld.identity(),!l||typeof l=="number"){const y=new Ht;y.position.copy(v.position),y.lookAt(A.position),typeof l=="number"&&y.rotateZ(l),go(v,{rotation:y.rotation})}else go(v,{rotation:l});return g.geometry=new aee(A,v.position,v.rotation,v.scale),m.current&&(go(m.current,v),m.current.traverse(y=>y.raycast=()=>null)),A.matrixWorld=C,()=>{g.geometry.dispose()}}},[s,...P6(a),...P6(c),...P6(l)]),z.createElement("mesh",Cs({ref:p,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":i,"material-depthTest":n,"material-map":r},u),o,e&&z.createElement("mesh",{ref:m},z.createElement("boxGeometry",null),z.createElement("meshNormalMaterial",{wireframe:!0}),z.createElement("axesHelper",null)))});let wA=null,GL="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function QL(t,e,n){return i=>{n&&n(i),t&&(wA||(wA=new Qle),wA.setDecoderPath(typeof t=="string"?t:GL),i.setDRACOLoader(wA)),e&&i.setMeshoptDecoder(typeof R6=="function"?R6():R6)}}function i3(t,e=!0,n=!0,i){return Jl(v9,t,QL(e,n,i))}i3.preload=(t,e=!0,n=!0,i)=>Jl.preload(v9,t,QL(e,n,i));i3.clear=t=>Jl.clear(v9,t);i3.setDecoderPath=t=>{GL=t};const z9=z.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const d=Mr(T=>T.invalidate),p=Mr(T=>T.camera),m=Mr(T=>T.gl),A=Mr(T=>T.events),g=Mr(T=>T.setEvents),v=Mr(T=>T.set),C=Mr(T=>T.get),y=Mr(T=>T.performance),x=e||p,S=i||A.connected||m.domElement,I=z.useMemo(()=>new S$(x),[x]);return If(()=>{I.enabled&&I.update()},-1),z.useEffect(()=>(s&&I.connect(s===!0?S:s),I.connect(S),()=>void I.dispose()),[s,S,n,I,d]),z.useEffect(()=>{const T=R=>{d(),n&&y.regress(),o&&o(R)},B=R=>{a&&a(R)},M=R=>{l&&l(R)};return I.addEventListener("change",T),I.addEventListener("start",B),I.addEventListener("end",M),()=>{I.removeEventListener("start",B),I.removeEventListener("end",M),I.removeEventListener("change",T)}},[o,a,l,I,d,g]),z.useEffect(()=>{if(t){const T=C().controls;return v({controls:I}),()=>v({controls:T})}},[t,I]),z.createElement("primitive",Cs({ref:u,object:I,enableDamping:r},c))}),D6=parseInt(Xs.replace(/\D+/g,""))>=154?"opaque_fragment":"output_fragment";class Wle extends S0{constructor(e){super(e),this.onBeforeCompile=(n,i)=>{const{isWebGL2:r}=i.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${D6}>`,`
        ${r?`#include <${D6}>`:`#extension GL_OES_standard_derivatives : enable
#include <${D6}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${parseInt(Xs.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const Jle=z.forwardRef((t,e)=>{const[n]=z.useState(()=>new Wle(null));return z.createElement("primitive",Cs({},t,{object:n,ref:e,attach:"material"}))}),jle=z.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=z.useRef(null),c=z.useRef(Math.random()*1e4);return If(u=>{var d,p;if(!e||n===0)return;const m=c.current+u.clock.getElapsedTime();l.current.rotation.x=Math.cos(m/4*n)/8*i,l.current.rotation.y=Math.sin(m/4*n)/8*i,l.current.rotation.z=Math.sin(m/4*n)/20*i;let A=Math.sin(m/4*n)/10;A=El.mapLinear(A,-.1,.1,(d=s==null?void 0:s[0])!==null&&d!==void 0?d:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=A*r,l.current.updateMatrix()}),z.createElement("group",o,z.createElement("group",{ref:o9([l,a]),matrixAutoUpdate:!1},t))});let vc,Md;const Kle=z.createContext(null),j_=new Je,K_=new D,Yle=z.forwardRef(({children:t,range:e,limit:n=1e3,...i},r)=>{const s=z.useRef(null),[o,a]=z.useState([]),[[l,c,u]]=z.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);z.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),If(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),j_.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,o.length),vc=0;vc<o.length;vc++)Md=o[vc].current,Md.getWorldPosition(K_).applyMatrix4(j_),K_.toArray(l,vc*3),s.current.geometry.attributes.position.needsUpdate=!0,Md.matrixWorldNeedsUpdate=!0,Md.color.toArray(c,vc*3),s.current.geometry.attributes.color.needsUpdate=!0,u.set([Md.size],vc),s.current.geometry.attributes.size.needsUpdate=!0});const d=z.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(A=>A.current!==p.current)))}),[]);return z.createElement("points",Cs({userData:{instances:o},matrixAutoUpdate:!1,ref:o9([r,s]),raycast:()=>null},i),z.createElement("bufferGeometry",null,z.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:wo}),z.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:wo}),z.createElement("bufferAttribute",{attach:"attributes-size",count:u.length,array:u,itemSize:1,usage:wo})),z.createElement(Kle.Provider,{value:d},t))}),Xle=z.forwardRef(({children:t,positions:e,colors:n,sizes:i,stride:r=3,...s},o)=>{const a=z.useRef(null);return If(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,n&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),z.createElement("points",Cs({ref:o9([o,a])},s),z.createElement("bufferGeometry",null,z.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:wo}),n&&z.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/r,array:n,itemSize:3,usage:wo}),i&&z.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:wo})),t)}),qle=z.forwardRef((t,e)=>t.positions instanceof Float32Array?z.createElement(Xle,Cs({},t,{ref:e})):z.createElement(Yle,Cs({},t,{ref:e})));var t2={},Zle={get exports(){return t2},set exports(t){t2=t}},$le="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ece=$le,tce=ece;function HL(){}function zL(){}zL.resetWarningCache=HL;var nce=function(){function t(i,r,s,o,a,l){if(l!==tce){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zL,resetWarningCache:HL};return n.PropTypes=n,n};Zle.exports=nce();function I1({all:t,scene:e,camera:n}){const i=Mr(({gl:o})=>o),r=Mr(({camera:o})=>o),s=Mr(({scene:o})=>o);return z.useLayoutEffect(()=>{const o=[];t&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,n||r);const a=new bx(128);new Bx(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const V9=()=>{const{progress:t}=aY();return ft(oY,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[ye("span",{className:"canvas-loader"}),ft("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[t.toFixed(2),"%"]})]})},ice=()=>{const t=i3("./planet/scene.gltf");return ye("primitive",{object:t.scene,scale:2.5,"position-y":0,"rotation-y":0})},rce=()=>ye(e1,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:ft(z.Suspense,{fallback:ye(V9,{}),children:[ye(z9,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),ye(ice,{}),ye(I1,{all:!0})]})}),sce=t=>{const[e]=H9([t.imgUrl]);return ft(jle,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[ye("ambientLight",{intensity:.25}),ye("directionalLight",{position:[0,0,.05]}),ft("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[ye("icosahedronGeometry",{args:[1,1]}),ye("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),ye(Vle,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:e,flatShading:!0})]})]})},oce=({icon:t})=>ft(e1,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[ft(z.Suspense,{fallback:ye(V9,{}),children:[ye(z9,{enableZoom:!1}),ye(sce,{imgUrl:t})]}),ye(I1,{all:!0})]}),ace=({isMobile:t})=>{const e=i3("./desktop_pc/scene.gltf");return ft("mesh",{children:[ye("hemisphereLight",{intensity:.15,groundColor:"black"}),ye("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),ye("pointLight",{intensity:1}),ye("primitive",{object:e.scene,scale:t?.7:.75,position:t?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},lce=()=>{const[t,e]=z.useState(!1);return z.useEffect(()=>{const n=window.matchMedia("(max-width: 500px)");e(n.matches);const i=r=>{e(r.matches)};return n.addEventListener("change",i),()=>{n.removeEventListener("change",i)}},[]),ft(e1,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[ft(z.Suspense,{fallback:ye(V9,{}),children:[ye(z9,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),ye(ace,{isMobile:t})]}),ye(I1,{all:!0})]})};function Gh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function X_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(n),!0).forEach(function(i){Gh(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function VL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}new le;new le;var ss=function t(e,n,i){var r=this;VL(this,t),Gh(this,"dot2",function(s,o){return r.x*s+r.y*o}),Gh(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=n,this.z=i},cce=[new ss(1,1,0),new ss(-1,1,0),new ss(1,-1,0),new ss(-1,-1,0),new ss(1,0,1),new ss(-1,0,1),new ss(1,0,-1),new ss(-1,0,-1),new ss(0,1,1),new ss(0,-1,1),new ss(0,1,-1),new ss(0,-1,-1)],q_=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Z_=new Array(512),$_=new Array(512),uce=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var i;n&1?i=q_[n]^e&255:i=q_[n]^e>>8&255,Z_[n]=Z_[n+256]=i,$_[n]=$_[n+256]=cce[i%12]}};uce(0);function hce(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function eM(t){var e=hce(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var fce=function t(e){var n=this;VL(this,t),Gh(this,"seed",0),Gh(this,"init",function(i){n.seed=i,n.value=eM(i)}),Gh(this,"value",eM(this.seed)),this.init(e)},dce=new fce(Math.random()),pce={radius:1,center:[0,0,0]};function mce(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dce,i=X_(X_({},pce),e),r=i.radius,s=i.center,o=0;o<t.length;o+=3){var a=Math.pow(n.value(),.3333333333333333),l=n.value()*2-1,c=n.value()*2-1,u=n.value()*2-1,d=Math.sqrt(l*l+c*c+u*u);l=a*l/d,c=a*c/d,u=a*u/d,t[o]=l*r+s[0],t[o+1]=c*r+s[1],t[o+2]=u*r+s[2]}return t}const Ace=t=>{const e=z.useRef(),[n]=z.useState(()=>mce(new Float32Array(5e3),{radius:1.2}));return If((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),ye("group",{rotation:[0,0,Math.PI/4],children:ye(qle,{ref:e,positions:n,stride:3,frustumCulled:!0,...t,children:ye(Jle,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},gce=()=>ye("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:ft(e1,{camera:{position:[0,0,1]},children:[ye(z.Suspense,{fallback:null,children:ye(Ace,{})}),ye(I1,{all:!0})]})}),WL=z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),_1=z.createContext({});function vce(){return z.useContext(_1).visualElement}const W9=z.createContext(null),M1=typeof document<"u",tM=M1?z.useLayoutEffect:z.useEffect,JL=z.createContext({strict:!1});function yce(t,e,n,i){const r=vce(),s=z.useContext(JL),o=z.useContext(W9),a=z.useContext(WL).reducedMotion,l=z.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return z.useInsertionEffect(()=>{c&&c.update(n,o)}),tM(()=>{c&&c.render()}),z.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?tM:z.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function wh(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xce(t,e,n){return z.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):wh(n)&&(n.current=i))},[e])}function o0(t){return typeof t=="string"||Array.isArray(t)}function T1(t){return typeof t=="object"&&typeof t.start=="function"}const J9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j9=["initial",...J9];function B1(t){return T1(t.animate)||j9.some(e=>o0(t[e]))}function jL(t){return Boolean(B1(t)||t.variants)}function Cce(t,e){if(B1(t)){const{initial:n,animate:i}=t;return{initial:n===!1||o0(n)?n:void 0,animate:o0(i)?i:void 0}}return t.inherit!==!1?e:{}}function Ece(t){const{initial:e,animate:n}=Cce(t,z.useContext(_1));return z.useMemo(()=>({initial:e,animate:n}),[nM(e),nM(n)])}function nM(t){return Array.isArray(t)?t.join(" "):t}const iM={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},a0={};for(const t in iM)a0[t]={isEnabled:e=>iM[t].some(n=>!!e[n])};function Sce(t){for(const e in t)a0[e]={...a0[e],...t[e]}}function KL(t){const e=z.useRef(null);return e.current===null&&(e.current=t()),e.current}const op={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let wce=1;function Ice(){return KL(()=>{if(op.hasEverUpdated)return wce++})}const YL=z.createContext({}),XL=z.createContext({}),_ce=Symbol.for("motionComponentSymbol");function Mce({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&Sce(t);function s(a,l){let c;const u={...z.useContext(WL),...a,layoutId:Tce(a)},{isStatic:d}=u,p=Ece(a),m=d?void 0:Ice(),A=i(a,d);if(!d&&M1){p.visualElement=yce(r,A,u,e);const g=z.useContext(XL),v=z.useContext(JL).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,v,t,m,g))}return z.createElement(_1.Provider,{value:p},c&&p.visualElement?z.createElement(c,{visualElement:p.visualElement,...u}):null,n(r,a,m,xce(A,p.visualElement,l),A,d,p.visualElement))}const o=z.forwardRef(s);return o[_ce]=r,o}function Tce({layoutId:t}){const e=z.useContext(YL).id;return e&&t!==void 0?e+"-"+t:t}function Bce(t){function e(i,r={}){return Mce(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const bce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K9(t){return typeof t!="string"||t.includes("-")?!1:!!(bce.indexOf(t)>-1||/[A-Z]/.test(t))}const n2={};function Rce(t){Object.assign(n2,t)}const b1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eu=new Set(b1);function qL(t,{layout:e,layoutId:n}){return Eu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!n2[t]||t==="opacity")}const yr=t=>Boolean(t&&t.getVelocity),Pce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dce=b1.length;function Lce(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,r){let s="";for(let o=0;o<Dce;o++){const a=b1[o];if(t[a]!==void 0){const l=Pce[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(t,i?"":s):n&&i&&(s="none"),s}const ZL=t=>e=>typeof e=="string"&&e.startsWith(t),$L=ZL("--"),n4=ZL("var(--"),Fce=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hf=(t,e,n)=>Math.min(Math.max(n,t),e),Su={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ap={...Su,transform:t=>hf(0,1,t)},IA={...Su,default:1},lp=t=>Math.round(t*1e5)/1e5,l0=/(-)?([\d]*\.?[\d])+/g,i4=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,kce=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function r3(t){return typeof t=="string"}const s3=t=>({test:e=>r3(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),el=s3("deg"),Ro=s3("%"),pt=s3("px"),Nce=s3("vh"),Oce=s3("vw"),rM={...Ro,parse:t=>Ro.parse(t)/100,transform:t=>Ro.transform(t*100)},sM={...Su,transform:Math.round},eF={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,size:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,rotate:el,rotateX:el,rotateY:el,rotateZ:el,scale:IA,scaleX:IA,scaleY:IA,scaleZ:IA,skew:el,skewX:el,skewY:el,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:ap,originX:rM,originY:rM,originZ:pt,zIndex:sM,fillOpacity:ap,strokeOpacity:ap,numOctaves:sM};function Y9(t,e,n,i){const{style:r,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const p=e[d];if($L(d)){s[d]=p;continue}const m=eF[d],A=Fce(p,m);if(Eu.has(d)){if(l=!0,o[d]=A,!u)continue;p!==(m.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=A):r[d]=A}if(e.transform||(l||i?r.transform=Lce(t.transform,n,u,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const X9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tF(t,e,n){for(const i in e)!yr(e[i])&&!qL(i,n)&&(t[i]=e[i])}function Uce({transformTemplate:t},e,n){return z.useMemo(()=>{const i=X9();return Y9(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function Gce(t,e,n){const i=t.style||{},r={};return tF(r,i,t),Object.assign(r,Uce(t,e,n)),t.transformValues?t.transformValues(r):r}function Qce(t,e,n){const i={},r=Gce(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const Hce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function i2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Hce.has(t)}let nF=t=>!i2(t);function zce(t){t&&(nF=e=>e.startsWith("on")?!i2(e):t(e))}try{zce(require("@emotion/is-prop-valid").default)}catch{}function Vce(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(nF(r)||n===!0&&i2(r)||!e&&!i2(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function oM(t,e,n){return typeof t=="string"?t:pt.transform(e+n*t)}function Wce(t,e,n){const i=oM(e,t.x,t.width),r=oM(n,t.y,t.height);return`${i} ${r}`}const Jce={offset:"stroke-dashoffset",array:"stroke-dasharray"},jce={offset:"strokeDashoffset",array:"strokeDasharray"};function Kce(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?Jce:jce;t[s.offset]=pt.transform(-i);const o=pt.transform(e),a=pt.transform(n);t[s.array]=`${o} ${a}`}function q9(t,{attrX:e,attrY:n,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,d){if(Y9(t,l,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:A}=t;p.transform&&(A&&(m.transform=p.transform),delete p.transform),A&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=Wce(A,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&Kce(p,s,o,a,!1)}const iF=()=>({...X9(),attrs:{}}),Z9=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yce(t,e,n,i){const r=z.useMemo(()=>{const s=iF();return q9(s,e,{enableHardwareAcceleration:!1},Z9(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};tF(s,t.style,t),r.style={...s,...r.style}}return r}function Xce(t=!1){return(n,i,r,s,{latestValues:o},a)=>{const c=(K9(n)?Yce:Qce)(i,o,a,n),d={...Vce(i,typeof n=="string",t),...c,ref:s},{children:p}=i,m=z.useMemo(()=>yr(p)?p.get():p,[p]);return r&&(d["data-projection-id"]=r),z.createElement(n,{...d,children:m})}}const $9=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function rF(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const sF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oF(t,e,n,i){rF(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(sF.has(r)?r:$9(r),e.attrs[r])}function e7(t,e){const{style:n}=t,i={};for(const r in n)(yr(n[r])||e.style&&yr(e.style[r])||qL(r,t))&&(i[r]=n[r]);return i}function aF(t,e){const n=e7(t,e);for(const i in t)if(yr(t[i])||yr(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;n[r]=t[i]}return n}function t7(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}const r2=t=>Array.isArray(t),qce=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),Zce=t=>r2(t)?t[t.length-1]||0:t;function ig(t){const e=yr(t)?t.get():t;return qce(e)?e.toValue():e}function $ce({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,s){const o={latestValues:eue(i,r,s,t),renderState:e()};return n&&(o.mount=a=>n(i,a,o)),o}const lF=t=>(e,n)=>{const i=z.useContext(_1),r=z.useContext(W9),s=()=>$ce(t,e,i,r);return n?s():KL(s)};function eue(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=ig(s[p]);let{initial:o,animate:a}=t;const l=B1(t),c=jL(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!T1(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const A=t7(t,m);if(!A)return;const{transitionEnd:g,transition:v,...C}=A;for(const y in C){let x=C[y];if(Array.isArray(x)){const S=u?x.length-1:0;x=x[S]}x!==null&&(r[y]=x)}for(const y in g)r[y]=g[y]}),r}const tue={useVisualState:lF({scrapeMotionValuesFromProps:aF,createRenderState:iF,onMount:(t,e,{renderState:n,latestValues:i})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}q9(n,i,{enableHardwareAcceleration:!1},Z9(e.tagName),t.transformTemplate),oF(e,n)}})},nue={useVisualState:lF({scrapeMotionValuesFromProps:e7,createRenderState:X9})};function iue(t,{forwardMotionProps:e=!1},n,i){return{...K9(t)?tue:nue,preloadedFeatures:n,useRender:Xce(e),createVisualElement:i,Component:t}}function da(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const cF=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function R1(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const rue=t=>e=>cF(e)&&t(e,R1(e));function Aa(t,e,n,i){return da(t,e,rue(n),i)}const sue=(t,e)=>n=>e(t(n)),wl=(...t)=>t.reduce(sue);function uF(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const aM=uF("dragHorizontal"),lM=uF("dragVertical");function hF(t){let e=!1;if(t==="y")e=lM();else if(t==="x")e=aM();else{const n=aM(),i=lM();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function fF(){const t=hF(!0);return t?(t(),!1):!0}class ql{constructor(e){this.isMounted=!1,this.node=e}update(){}}function cM(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||fF())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[i]&&a[i](s,o)};return Aa(t.current,n,r,{passive:!t.getProps()[i]})}class oue extends ql{mount(){this.unmount=wl(cM(this.node,!0),cM(this.node,!1))}unmount(){}}class aue extends ql{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wl(da(this.node.current,"focus",()=>this.onFocus()),da(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const dF=(t,e)=>e?t===e?!0:dF(t,e.parentElement):!1,As=t=>t;function L6(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,R1(n))}class lue extends ql{constructor(){super(...arguments),this.removeStartListeners=As,this.removeEndListeners=As,this.removeAccessibleListeners=As,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=Aa(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();dF(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)},{passive:!(i.onTap||i.onPointerUp)}),o=Aa(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=wl(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||L6("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=da(this.node.current,"keyup",o),L6("down",(a,l)=>{this.startPress(a,l)})},n=da(this.node.current,"keydown",e),i=()=>{this.isPressing&&L6("cancel",(s,o)=>this.cancelPress(s,o))},r=da(this.node.current,"blur",i);this.removeAccessibleListeners=wl(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&i(e,n)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fF()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&i(e,n)}mount(){const e=this.node.getProps(),n=Aa(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=da(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wl(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const r4=new WeakMap,F6=new WeakMap,cue=t=>{const e=r4.get(t.target);e&&e(t)},uue=t=>{t.forEach(cue)};function hue({root:t,...e}){const n=t||document;F6.has(n)||F6.set(n,{});const i=F6.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(uue,{root:t,...e})),i[r]}function fue(t,e,n){const i=hue(e);return r4.set(t,n),i.observe(t),()=>{r4.delete(t),i.unobserve(t)}}const due={some:0,all:1};class pue extends ql{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:due[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),m=u?d:p;m&&m(c)};return fue(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mue(e,n))&&this.startObserver()}unmount(){}}function mue({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Aue={inView:{Feature:pue},tap:{Feature:lue},focus:{Feature:aue},hover:{Feature:oue}};function pF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const gue=t=>/^\-?\d*\.?\d+$/.test(t),vue=t=>/^0[^.\s]+$/.test(t),ga={delta:0,timestamp:0},mF=1/60*1e3,yue=typeof performance<"u"?()=>performance.now():()=>Date.now(),AF=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(yue()),mF);function xue(t){let e=[],n=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&r,p=d?e:n;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&r&&(i=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,n]=[n,e],n.length=0,i=e.length,i)for(let c=0;c<i;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),t())}r=!1,s&&(s=!1,a.process(l))}};return a}const Cue=40;let s4=!0,c0=!1,o4=!1;const o3=["read","update","preRender","render","postRender"],P1=o3.reduce((t,e)=>(t[e]=xue(()=>c0=!0),t),{}),tr=o3.reduce((t,e)=>{const n=P1[e];return t[e]=(i,r=!1,s=!1)=>(c0||Sue(),n.schedule(i,r,s)),t},{}),Nl=o3.reduce((t,e)=>(t[e]=P1[e].cancel,t),{}),k6=o3.reduce((t,e)=>(t[e]=()=>P1[e].process(ga),t),{}),Eue=t=>P1[t].process(ga),gF=t=>{c0=!1,ga.delta=s4?mF:Math.max(Math.min(t-ga.timestamp,Cue),1),ga.timestamp=t,o4=!0,o3.forEach(Eue),o4=!1,c0&&(s4=!1,AF(gF))},Sue=()=>{c0=!0,s4=!0,o4||AF(gF)};function n7(t,e){t.indexOf(e)===-1&&t.push(e)}function i7(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class r7{constructor(){this.subscriptions=[]}add(e){return n7(this.subscriptions,e),()=>i7(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function s7(t,e){return e?t*(1e3/e):0}const wue=t=>!isNaN(parseFloat(t));class Iue{constructor(e,n={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=ga;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,tr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=wue(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new r7);const i=this.events[e].add(n);return e==="change"?()=>{i(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?s7(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ff(t,e){return new Iue(t,e)}const o7=(t,e)=>n=>Boolean(r3(n)&&kce.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),vF=(t,e,n)=>i=>{if(!r3(i))return i;const[r,s,o,a]=i.match(l0);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_ue=t=>hf(0,255,t),N6={...Su,transform:t=>Math.round(_ue(t))},Wc={test:o7("rgb","red"),parse:vF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+N6.transform(t)+", "+N6.transform(e)+", "+N6.transform(n)+", "+lp(ap.transform(i))+")"};function Mue(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const a4={test:o7("#"),parse:Mue,transform:Wc.transform},Ih={test:o7("hsl","hue"),parse:vF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ro.transform(lp(e))+", "+Ro.transform(lp(n))+", "+lp(ap.transform(i))+")"},Xi={test:t=>Wc.test(t)||a4.test(t)||Ih.test(t),parse:t=>Wc.test(t)?Wc.parse(t):Ih.test(t)?Ih.parse(t):a4.parse(t),transform:t=>r3(t)?t:t.hasOwnProperty("red")?Wc.transform(t):Ih.transform(t)},yF="${c}",xF="${n}";function Tue(t){var e,n;return isNaN(t)&&r3(t)&&(((e=t.match(l0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(i4))===null||n===void 0?void 0:n.length)||0)>0}function s2(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,i=0;const r=t.match(i4);r&&(n=r.length,t=t.replace(i4,yF),e.push(...r.map(Xi.parse)));const s=t.match(l0);return s&&(i=s.length,t=t.replace(l0,xF),e.push(...s.map(Su.parse))),{values:e,numColors:n,numNumbers:i,tokenised:t}}function CF(t){return s2(t).values}function EF(t){const{values:e,numColors:n,tokenised:i}=s2(t),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<n?yF:xF,a<n?Xi.transform(s[a]):lp(s[a]));return o}}const Bue=t=>typeof t=="number"?0:t;function bue(t){const e=CF(t);return EF(t)(e.map(Bue))}const Ol={test:Tue,parse:CF,createTransformer:EF,getAnimatableNone:bue},Rue=new Set(["brightness","contrast","saturate","opacity"]);function Pue(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(l0)||[];if(!i)return t;const r=n.replace(i,"");let s=Rue.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Due=/([a-z-]*)\(.*?\)/g,l4={...Ol,getAnimatableNone:t=>{const e=t.match(Due);return e?e.map(Pue).join(" "):t}},Lue={...eF,color:Xi,backgroundColor:Xi,outlineColor:Xi,fill:Xi,stroke:Xi,borderColor:Xi,borderTopColor:Xi,borderRightColor:Xi,borderBottomColor:Xi,borderLeftColor:Xi,filter:l4,WebkitFilter:l4},a7=t=>Lue[t];function l7(t,e){let n=a7(t);return n!==l4&&(n=Ol),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SF=t=>e=>e.test(t),Fue={test:t=>t==="auto",parse:t=>t},wF=[Su,pt,Ro,el,Oce,Nce,Fue],Td=t=>wF.find(SF(t)),kue=[...wF,Xi,Ol],Nue=t=>kue.find(SF(t));function Oue(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function Uue(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function D1(t,e,n){const i=t.getProps();return t7(i,e,n!==void 0?n:i.custom,Oue(t),Uue(t))}function Gue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ff(n))}function Que(t,e){const n=D1(t,e);let{transitionEnd:i={},transition:r={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...i};for(const o in s){const a=Zce(s[o]);Gue(t,o,a)}}function Hue(t,e,n){var i,r;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(r=(i=n[l])!==null&&i!==void 0?i:t.readValue(l))!==null&&r!==void 0?r:e[l]),u!=null&&(typeof u=="string"&&(gue(u)||vue(u))?u=parseFloat(u):!Nue(u)&&Ol.test(c)&&(u=l7(l,c)),t.addValue(l,ff(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function zue(t,e){return e?(e[t]||e.default||e).from:void 0}function Vue(t,e,n){const i={};for(const r in t){const s=zue(r,e);if(s!==void 0)i[r]=s;else{const o=n.getValue(r);o&&(i[r]=o.get())}}return i}function o2(t){return Boolean(yr(t)&&t.add)}const Wue="framerAppearId",Jue="data-"+$9(Wue);let jue=As,a2=As;const rg=t=>t*1e3,Kue={current:!1},c7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,u7=t=>e=>1-t(1-e),h7=t=>t*t,Yue=u7(h7),f7=c7(h7),Bn=(t,e,n)=>-n*t+n*e+t;function O6(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Xue({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=O6(l,a,t+1/3),s=O6(l,a,t),o=O6(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const U6=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},que=[a4,Wc,Ih],Zue=t=>que.find(e=>e.test(t));function uM(t){const e=Zue(t);let n=e.parse(t);return e===Ih&&(n=Xue(n)),n}const IF=(t,e)=>{const n=uM(t),i=uM(e),r={...n};return s=>(r.red=U6(n.red,i.red,s),r.green=U6(n.green,i.green,s),r.blue=U6(n.blue,i.blue,s),r.alpha=Bn(n.alpha,i.alpha,s),Wc.transform(r))};function _F(t,e){return typeof t=="number"?n=>Bn(t,e,n):Xi.test(t)?IF(t,e):TF(t,e)}const MF=(t,e)=>{const n=[...t],i=n.length,r=t.map((s,o)=>_F(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}},$ue=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=_F(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}},TF=(t,e)=>{const n=Ol.createTransformer(e),i=s2(t),r=s2(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?wl(MF(i.values,r.values),n):o=>`${o>0?e:t}`},u0=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},hM=(t,e)=>n=>Bn(t,e,n);function ehe(t){return typeof t=="number"?hM:typeof t=="string"?Xi.test(t)?IF:TF:Array.isArray(t)?MF:typeof t=="object"?$ue:hM}function the(t,e,n){const i=[],r=n||ehe(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=wl(l,a)}i.push(a)}return i}function BF(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;a2(s===e.length),a2(!i||!Array.isArray(i)||i.length===s-1),t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=the(e,i,r),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=u0(t[u],t[u+1],c);return o[u](d)};return n?c=>l(hf(t[0],t[s-1],c)):l}function nhe(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=u0(0,e,i);t.push(Bn(n,1,r))}}function ihe(t){const e=[0];return nhe(e,t.length-1),e}function rhe(t,e){return t.map(n=>n*e)}const bF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,she=1e-7,ohe=12;function ahe(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=bF(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>she&&++a<ohe);return o}function RF(t,e,n,i){if(t===e&&n===i)return As;const r=s=>ahe(s,0,1,t,n);return s=>s===0||s===1?s:bF(r(s),e,i)}const PF=t=>1-Math.sin(Math.acos(t)),d7=u7(PF),lhe=c7(d7),DF=RF(.33,1.53,.69,.99),p7=u7(DF),che=c7(p7),uhe=t=>(t*=2)<1?.5*p7(t):.5*(2-Math.pow(2,-10*(t-1))),hhe={linear:As,easeIn:h7,easeInOut:f7,easeOut:Yue,circIn:PF,circInOut:lhe,circOut:d7,backIn:p7,backInOut:che,backOut:DF,anticipate:uhe},fM=t=>{if(Array.isArray(t)){a2(t.length===4);const[e,n,i,r]=t;return RF(e,n,i,r)}else if(typeof t=="string")return hhe[t];return t},fhe=t=>Array.isArray(t)&&typeof t[0]!="number";function dhe(t,e){return t.map(()=>e||f7).splice(0,t.length-1)}function c4({keyframes:t,ease:e=f7,times:n,duration:i=300}){t=[...t];const r=fhe(e)?e.map(fM):fM(e),s={done:!1,value:t[0]},o=rhe(n&&n.length===t.length?n:ihe(t),i);function a(){return BF(o,t,{ease:Array.isArray(r)?r:dhe(t,r)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=i,s),flipTarget:()=>{t.reverse(),l=a()}}}const G6=.001,phe=.01,dM=10,mhe=.05,Ahe=1;function ghe({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s;jue(t<=dM*1e3);let o=1-e;o=hf(mhe,Ahe,o),t=hf(phe,dM,t/1e3),o<1?(r=c=>{const u=c*o,d=u*t,p=u-n,m=u4(c,o),A=Math.exp(-d);return G6-p/m*A},s=c=>{const d=c*o*t,p=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,A=Math.exp(-d),g=u4(Math.pow(c,2),o);return(-r(c)+G6>0?-1:1)*((p-m)*A)/g}):(r=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-G6+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=yhe(r,s,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const vhe=12;function yhe(t,e,n){let i=n;for(let r=1;r<vhe;r++)i=i-t(i)/e(i);return i}function u4(t,e){return t*Math.sqrt(1-e*e)}const xhe=["duration","bounce"],Che=["stiffness","damping","mass"];function pM(t,e){return e.some(n=>t[n]!==void 0)}function Ehe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!pM(t,Che)&&pM(t,xhe)){const n=ghe(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const She=5;function LF({keyframes:t,restDelta:e,restSpeed:n,...i}){let r=t[0],s=t[t.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:p}=Ehe(i);let m=whe,A=u?-(u/1e3):0;const g=l/(2*Math.sqrt(a*c));function v(){const C=s-r,y=Math.sqrt(a/c)/1e3,x=Math.abs(C)<5;if(n||(n=x?.01:2),e||(e=x?.005:.5),g<1){const S=u4(y,g);m=I=>{const T=Math.exp(-g*y*I);return s-T*((A+g*y*C)/S*Math.sin(S*I)+C*Math.cos(S*I))}}else if(g===1)m=S=>s-Math.exp(-y*S)*(C+(A+y*C)*S);else{const S=y*Math.sqrt(g*g-1);m=I=>{const T=Math.exp(-g*y*I),B=Math.min(S*I,300);return s-T*((A+g*y*C)*Math.sinh(B)+S*C*Math.cosh(B))/S}}}return v(),{next:C=>{const y=m(C);if(p)o.done=C>=d;else{let x=A;if(C!==0)if(g<1){const T=Math.max(0,C-She);x=s7(y-m(T),C-T)}else x=0;const S=Math.abs(x)<=n,I=Math.abs(s-y)<=e;o.done=S&&I}return o.value=o.done?s:y,o},flipTarget:()=>{A=-A,[r,s]=[s,r],v()}}}LF.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const whe=t=>0;function Ihe({keyframes:t=[0],velocity:e=0,power:n=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=t[0],a={done:!1,value:o};let l=n*e;const c=o+l,u=s===void 0?c:s(c);return u!==c&&(l=u-o),{next:d=>{const p=-l*Math.exp(-d/i);return a.done=!(p>r||p<-r),a.value=a.done?u:u+p,a},flipTarget:()=>{}}}const _he={decay:Ihe,keyframes:c4,tween:c4,spring:LF};function FF(t,e,n=0){return t-e-n}function Mhe(t,e=0,n=0,i=!0){return i?FF(e+-t,e,n):e-(t-e)+n}function The(t,e,n,i){return i?t>=e+n:t<=-n}const Bhe=t=>{const e=({delta:n})=>t(n);return{start:()=>tr.update(e,!0),stop:()=>Nl.update(e)}};function l2({duration:t,driver:e=Bhe,elapsed:n=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:u,onRepeat:d,onUpdate:p,type:m="keyframes",...A}){const g=n;let v,C=0,y=t,x=!1,S=!0,I;const T=_he[o.length>2?"keyframes":m]||c4,B=o[0],M=o[o.length-1];let R={done:!1,value:B};const{needsInterpolation:P}=T;P&&P(B,M)&&(I=BF([0,100],[B,M],{clamp:!1}),o=[0,100]);const L=T({...A,duration:t,keyframes:o});function V(){C++,r==="reverse"?(S=C%2===0,n=Mhe(n,y,s,S)):(n=FF(n,y,s),r==="mirror"&&L.flipTarget()),x=!1,d&&d()}function N(){v&&v.stop(),u&&u()}function U(X){S||(X=-X),n+=X,x||(R=L.next(Math.max(0,n)),I&&(R.value=I(R.value)),x=S?R.done:n<=0),p&&p(R.value),x&&(C===0&&(y=y!==void 0?y:n),C<i?The(n,y,s,S)&&V():N())}function j(){l&&l(),v=e(U),v.start()}return a&&j(),{stop:()=>{c&&c(),v&&v.stop()},set currentTime(X){n=g,U(X)},sample:X=>{n=g;const te=t&&typeof t=="number"?Math.max(t*.5,50):50;let k=0;for(U(0);k<=X;){const J=X-k;U(Math.min(J,te)),k+=te}return R}}}function bhe(t){return!t||Array.isArray(t)||typeof t=="string"&&kF[t]}const Qd=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,kF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qd([0,.65,.55,1]),circOut:Qd([.55,0,1,.45]),backIn:Qd([.31,.01,.66,-.59]),backOut:Qd([.33,1.53,.69,.99])};function Rhe(t){if(t)return Array.isArray(t)?Qd(t):kF[t]}function Phe(t,e,n,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return t.animate({[e]:n,offset:l},{delay:i,duration:r,easing:Rhe(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const mM={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Q6={},NF={};for(const t in mM)NF[t]=()=>(Q6[t]===void 0&&(Q6[t]=mM[t]()),Q6[t]);function Dhe(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const Lhe=new Set(["opacity","clipPath","filter","transform"]),_A=10;function Fhe(t,e,{onUpdate:n,onComplete:i,...r}){if(!(NF.waapi()&&Lhe.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=r;if(r.type==="spring"||!bhe(r.ease)){if(r.repeat===1/0)return;const d=l2({...r,elapsed:0});let p={done:!1,value:o[0]};const m=[];let A=0;for(;!p.done&&A<2e4;)p=d.sample(A),m.push(p.value),A+=_A;o=m,a=A-_A,c="linear"}const u=Phe(t.owner.current,e,o,{...r,delay:-l,duration:a,ease:c});return u.onfinish=()=>{t.set(Dhe(o,r)),tr.update(()=>u.cancel()),i&&i()},{get currentTime(){return u.currentTime||0},set currentTime(d){u.currentTime=d},stop:()=>{const{currentTime:d}=u;if(d){const p=l2({...r,autoplay:!1});t.setWithVelocity(p.sample(d-_A).value,p.sample(d).value,_A)}tr.update(()=>u.cancel())}}}function OF(t,e){const n=performance.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Nl.read(i),t(s-e))};return tr.read(i,!0),()=>Nl.read(i)}function khe({keyframes:t,elapsed:e,onUpdate:n,onComplete:i}){const r=()=>{n&&n(t[t.length-1]),i&&i()};return e?{stop:OF(r,-e)}:r()}function Nhe({keyframes:t,velocity:e=0,min:n,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:p,onStop:m}){const A=t[0];let g;function v(S){return n!==void 0&&S<n||i!==void 0&&S>i}function C(S){return n===void 0?i:i===void 0||Math.abs(n-S)<Math.abs(i-S)?n:i}function y(S){g&&g.stop(),g=l2({keyframes:[0,1],velocity:0,...S,driver:u,onUpdate:I=>{d&&d(I),S.onUpdate&&S.onUpdate(I)},onComplete:p,onStop:m})}function x(S){y({type:"spring",stiffness:o,damping:a,restDelta:l,...S})}if(v(A))x({velocity:e,keyframes:[A,C(A)]});else{let S=r*e+A;typeof c<"u"&&(S=c(S));const I=C(S),T=I===n?-1:1;let B,M;const R=P=>{B=M,M=P,e=s7(P-B,ga.delta),(T===1&&P>I||T===-1&&P<I)&&x({keyframes:[P,I],velocity:e})};y({type:"decay",keyframes:[A,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:c,onUpdate:v(S)?R:void 0})}return{stop:()=>g&&g.stop()}}const Ohe={type:"spring",stiffness:500,damping:25,restSpeed:10},Uhe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ghe={type:"keyframes",duration:.8},Qhe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hhe=(t,{keyframes:e})=>e.length>2?Ghe:Eu.has(t)?t.startsWith("scale")?Uhe(e[1]):Ohe:Qhe,h4=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Ol.test(e)&&!e.startsWith("url("));function zhe({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function AM(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function gM(t){return typeof t=="number"?0:l7("",t)}function UF(t,e){return t[e]||t.default||t}function Vhe(t,e,n,i){const r=h4(e,n);let s=i.from!==void 0?i.from:t.get();return s==="none"&&r&&typeof n=="string"?s=l7(e,n):AM(s)&&typeof n=="string"?s=gM(n):!Array.isArray(n)&&AM(n)&&typeof s=="string"&&(n=gM(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const m7=(t,e,n,i={})=>r=>{const s=UF(i,t)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-rg(o);const l=Vhe(e,t,n,s),c=l[0],u=l[l.length-1],d=h4(t,c),p=h4(t,u);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:A=>{e.set(A),s.onUpdate&&s.onUpdate(A)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!d||!p||Kue.current||s.type===!1)return khe(m);if(s.type==="inertia")return Nhe(m);if(zhe(s)||(m={...m,...Hhe(t,m)}),m.duration&&(m.duration=rg(m.duration)),m.repeatDelay&&(m.repeatDelay=rg(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const A=Fhe(e,t,m);if(A)return A}return l2(m)};function Whe(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>f4(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=f4(t,e,n);else{const r=typeof e=="function"?D1(t,e,n.custom):e;i=GF(t,r,n)}return i.then(()=>t.notify("AnimationComplete",e))}function f4(t,e,n={}){const i=D1(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>GF(t,i,n):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=r;return Jhe(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(c)}else return Promise.all([s(),o(n.delay)])}function GF(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");i&&(s=i);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const d in a){const p=t.getValue(d),m=a[d];if(!p||m===void 0||u&&Khe(u,d))continue;const A={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const v=t.getProps()[Jue];v&&(A.elapsed=window.HandoffAppearAnimations(v,d,p,tr))}let g=p.start(m7(d,p,m,t.shouldReduceMotion&&Eu.has(d)?{type:!1}:A));o2(l)&&(l.add(d),g=g.then(()=>l.remove(d))),c.push(g)}return Promise.all(c).then(()=>{o&&Que(t,o)})}function Jhe(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(jhe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(f4(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function jhe(t,e){return t.sortNodePosition(e)}function Khe({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}const Yhe=[...J9].reverse(),Xhe=J9.length;function qhe(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Whe(t,n,i)))}function Zhe(t){let e=qhe(t);const n=efe();let i=!0;const r=(l,c)=>{const u=D1(t,c);if(u){const{transition:d,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},p=[],m=new Set;let A={},g=1/0;for(let C=0;C<Xhe;C++){const y=Yhe[C],x=n[y],S=u[y]!==void 0?u[y]:d[y],I=o0(S),T=y===c?x.isActive:null;T===!1&&(g=C);let B=S===d[y]&&S!==u[y]&&I;if(B&&i&&t.manuallyAnimateOnMount&&(B=!1),x.protectedKeys={...A},!x.isActive&&T===null||!S&&!x.prevProp||T1(S)||typeof S=="boolean")continue;const M=$he(x.prevProp,S);let R=M||y===c&&x.isActive&&!B&&I||C>g&&I;const P=Array.isArray(S)?S:[S];let L=P.reduce(r,{});T===!1&&(L={});const{prevResolvedValues:V={}}=x,N={...V,...L},U=j=>{R=!0,m.delete(j),x.needsAnimating[j]=!0};for(const j in N){const X=L[j],te=V[j];A.hasOwnProperty(j)||(X!==te?r2(X)&&r2(te)?!pF(X,te)||M?U(j):x.protectedKeys[j]=!0:X!==void 0?U(j):m.add(j):X!==void 0&&m.has(j)?U(j):x.protectedKeys[j]=!0)}x.prevProp=S,x.prevResolvedValues=L,x.isActive&&(A={...A,...L}),i&&t.blockInitialAnimation&&(R=!1),R&&!B&&p.push(...P.map(j=>({animation:j,options:{type:y,...l}})))}if(m.size){const C={};m.forEach(y=>{const x=t.getBaseTarget(y);x!==void 0&&(C[y]=x)}),p.push({animation:C})}let v=Boolean(p.length);return i&&u.initial===!1&&!t.manuallyAnimateOnMount&&(v=!1),i=!1,v?e(p):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var A;return(A=m.animationState)===null||A===void 0?void 0:A.setActive(l,c)}),n[l].isActive=c;const p=o(u,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function $he(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pF(e,t):!1}function yc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function efe(){return{animate:yc(!0),whileInView:yc(),whileHover:yc(),whileTap:yc(),whileDrag:yc(),whileFocus:yc(),exit:yc()}}class tfe extends ql{constructor(e){super(e),e.animationState||(e.animationState=Zhe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),T1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let nfe=0;class ife extends ql{constructor(){super(...arguments),this.id=nfe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rfe={animation:{Feature:tfe},exit:{Feature:ife}},vM=(t,e)=>Math.abs(t-e);function sfe(t,e){const n=vM(t.x,e.x),i=vM(t.y,e.y);return Math.sqrt(n**2+i**2)}class QF{constructor(e,n,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=z6(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=sfe(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:p}=c,{timestamp:m}=ga;this.history.push({...p,timestamp:m});const{onStart:A,onMove:g}=this.handlers;u||(A&&A(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=H6(u,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=z6(c.type==="pointercancel"?this.lastMoveEventInfo:H6(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),p&&p(c,m)},!cF(e))return;this.handlers=n,this.transformPagePoint=i;const r=R1(e),s=H6(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=ga;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,z6(s,this.history)),this.removeListeners=wl(Aa(window,"pointermove",this.handlePointerMove),Aa(window,"pointerup",this.handlePointerUp),Aa(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nl.update(this.updatePoint)}}function H6(t,e){return e?{point:e(t.point)}:t}function yM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function z6({point:t},e){return{point:t,delta:yM(t,HF(e)),offset:yM(t,ofe(e)),velocity:afe(e,.1)}}function ofe(t){return t[0]}function HF(t){return t[t.length-1]}function afe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=HF(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>rg(e)));)n--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qr(t){return t.max-t.min}function d4(t,e=0,n=.01){return Math.abs(t-e)<=n}function xM(t,e,n,i=.5){t.origin=i,t.originPoint=Bn(e.min,e.max,t.origin),t.scale=Qr(n)/Qr(e),(d4(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Bn(n.min,n.max,t.origin)-t.originPoint,(d4(t.translate)||isNaN(t.translate))&&(t.translate=0)}function cp(t,e,n,i){xM(t.x,e.x,n.x,i?i.originX:void 0),xM(t.y,e.y,n.y,i?i.originY:void 0)}function CM(t,e,n){t.min=n.min+e.min,t.max=t.min+Qr(e)}function lfe(t,e,n){CM(t.x,e.x,n.x),CM(t.y,e.y,n.y)}function EM(t,e,n){t.min=e.min-n.min,t.max=t.min+Qr(e)}function up(t,e,n){EM(t.x,e.x,n.x),EM(t.y,e.y,n.y)}function cfe(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Bn(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Bn(n,t,i.max):Math.min(t,n)),t}function SM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ufe(t,{top:e,left:n,bottom:i,right:r}){return{x:SM(t.x,n,r),y:SM(t.y,e,i)}}function wM(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function hfe(t,e){return{x:wM(t.x,e.x),y:wM(t.y,e.y)}}function ffe(t,e){let n=.5;const i=Qr(t),r=Qr(e);return r>i?n=u0(e.min,e.max-i,t.min):i>r&&(n=u0(t.min,t.max-r,e.min)),hf(0,1,n)}function dfe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const p4=.35;function pfe(t=p4){return t===!1?t=0:t===!0&&(t=p4),{x:IM(t,"left","right"),y:IM(t,"top","bottom")}}function IM(t,e,n){return{min:_M(t,e),max:_M(t,n)}}function _M(t,e){return typeof t=="number"?t:t[e]||0}const MM=()=>({translate:0,scale:1,origin:0,originPoint:0}),hp=()=>({x:MM(),y:MM()}),TM=()=>({min:0,max:0}),Xn=()=>({x:TM(),y:TM()});function Ao(t){return[t("x"),t("y")]}function zF({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function mfe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Afe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function V6(t){return t===void 0||t===1}function m4({scale:t,scaleX:e,scaleY:n}){return!V6(t)||!V6(e)||!V6(n)}function Bc(t){return m4(t)||VF(t)||t.z||t.rotate||t.rotateX||t.rotateY}function VF(t){return BM(t.x)||BM(t.y)}function BM(t){return t&&t!=="0%"}function c2(t,e,n){const i=t-n,r=e*i;return n+r}function bM(t,e,n,i,r){return r!==void 0&&(t=c2(t,r,i)),c2(t,n,i)+e}function A4(t,e=0,n=1,i,r){t.min=bM(t.min,e,n,i,r),t.max=bM(t.max,e,n,i,r)}function WF(t,{x:e,y:n}){A4(t.x,e.translate,e.scale,e.originPoint),A4(t.y,n.translate,n.scale,n.originPoint)}function gfe(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_h(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,WF(t,o)),i&&Bc(s.latestValues)&&_h(t,s.latestValues))}e.x=RM(e.x),e.y=RM(e.y)}function RM(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function rl(t,e){t.min=t.min+e,t.max=t.max+e}function PM(t,e,[n,i,r]){const s=e[r]!==void 0?e[r]:.5,o=Bn(t.min,t.max,s);A4(t,e[n],e[i],o,e.scale)}const vfe=["x","scaleX","originX"],yfe=["y","scaleY","originY"];function _h(t,e){PM(t.x,e,vfe),PM(t.y,e,yfe)}function JF(t,e){return zF(Afe(t.getBoundingClientRect(),e))}function xfe(t,e,n){const i=JF(t,n),{scroll:r}=e;return r&&(rl(i.x,r.offset.x),rl(i.y,r.offset.y)),i}const Cfe=new WeakMap;class Efe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),n&&this.snapToCursor(R1(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:d,onDragStart:p}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=hF(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ao(A=>{let g=this.getAxisMotionValue(A).get()||0;if(Ro.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const C=v.layout.layoutBox[A];C&&(g=Qr(C)*(parseFloat(g)/100))}}this.originPoint[A]=g}),p&&p(l,c);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:A}=c;if(d&&this.currentDirection===null){this.currentDirection=Sfe(A),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,A),this.updateAxis("y",c.point,A),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new QF(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,n)}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!MA(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=cfe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&wh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=ufe(i.layoutBox,e):this.constraints=!1,this.elastic=pfe(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ao(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=dfe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wh(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=xfe(i,r.root,this.visualElement.getTransformPagePoint());let o=hfe(r.layout.layoutBox,s);if(n){const a=n(mfe(o));this.hasMutatedConstraints=!!a,a&&(o=zF(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ao(u=>{if(!MA(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,A={type:"inertia",velocity:i?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,A)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(m7(e,i,0,n))}stopAnimation(){Ao(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ao(n=>{const{drag:i}=this.getProps();if(!MA(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Bn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!wh(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ao(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=ffe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ao(o=>{if(!MA(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Bn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;Cfe.set(this.visualElement,this);const e=this.visualElement.current,n=Aa(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();wh(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=da(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ao(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=p4,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function MA(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Sfe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wfe extends ql{constructor(e){super(e),this.removeGroupControls=As,this.removeListeners=As,this.controls=new Efe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||As}unmount(){this.removeGroupControls(),this.removeListeners()}}class Ife extends ql{constructor(){super(...arguments),this.removePointerDownListener=As}onPointerDown(e){this.session=new QF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:n,onMove:i,onEnd:(s,o)=>{delete this.session,r&&r(s,o)}}}mount(){this.removePointerDownListener=Aa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _fe(){const t=z.useContext(W9);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=z.useId();return z.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}function DM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pt.test(t))t=parseFloat(t);else return t;const n=DM(t,e.target.x),i=DM(t,e.target.y);return`${n}% ${i}%`}},jF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Mfe(t){const e=jF.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function g4(t,e,n=1){const[i,r]=Mfe(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():n4(r)?g4(r,e,n+1):r}function Tfe(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const s=r.get();if(!n4(s))return;const o=g4(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!n4(s))continue;const o=g4(s,i);o&&(e[r]=o,n&&n[r]===void 0&&(n[r]=s))}return{target:e,transitionEnd:n}}const LM="_$css",Bfe={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=t.includes("var("),s=[];r&&(t=t.replace(jF,m=>(s.push(m),LM)));const o=Ol.parse(t);if(o.length>5)return i;const a=Ol.createTransformer(t),l=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const d=Bn(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let p=a(o);if(r){let m=0;p=p.replace(LM,()=>{const A=s[m];return m++,A})}return p}};class bfe extends d2.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;Rce(Rfe),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),op.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||tr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KF(t){const[e,n]=_fe(),i=z.useContext(YL);return d2.createElement(bfe,{...t,layoutGroup:i,switchLayoutGroup:z.useContext(XL),isPresent:e,safeToRemove:n})}const Rfe={borderRadius:{...Bd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bd,borderTopRightRadius:Bd,borderBottomLeftRadius:Bd,borderBottomRightRadius:Bd,boxShadow:Bfe};function Pfe(t,e,n={}){const i=yr(t)?t:ff(t);return i.start(m7("",i,e,n)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const YF=["TopLeft","TopRight","BottomLeft","BottomRight"],Dfe=YF.length,FM=t=>typeof t=="string"?parseFloat(t):t,kM=t=>typeof t=="number"||pt.test(t);function Lfe(t,e,n,i,r,s){r?(t.opacity=Bn(0,n.opacity!==void 0?n.opacity:1,Ffe(i)),t.opacityExit=Bn(e.opacity!==void 0?e.opacity:1,0,kfe(i))):s&&(t.opacity=Bn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<Dfe;o++){const a=`border${YF[o]}Radius`;let l=NM(e,a),c=NM(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||kM(l)===kM(c)?(t[a]=Math.max(Bn(FM(l),FM(c),i),0),(Ro.test(c)||Ro.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Bn(e.rotate||0,n.rotate||0,i))}function NM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ffe=XF(0,.5,d7),kfe=XF(.5,.95,As);function XF(t,e,n){return i=>i<t?0:i>e?1:n(u0(t,e,i))}function OM(t,e){t.min=e.min,t.max=e.max}function os(t,e){OM(t.x,e.x),OM(t.y,e.y)}function UM(t,e,n,i,r){return t-=e,t=c2(t,1/n,i),r!==void 0&&(t=c2(t,1/r,i)),t}function Nfe(t,e=0,n=1,i=.5,r,s=t,o=t){if(Ro.test(e)&&(e=parseFloat(e),e=Bn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Bn(s.min,s.max,i);t===s&&(a-=e),t.min=UM(t.min,e,n,a,r),t.max=UM(t.max,e,n,a,r)}function GM(t,e,[n,i,r],s,o){Nfe(t,e[n],e[i],e[r],e.scale,s,o)}const Ofe=["x","scaleX","originX"],Ufe=["y","scaleY","originY"];function QM(t,e,n,i){GM(t.x,e,Ofe,n?n.x:void 0,i?i.x:void 0),GM(t.y,e,Ufe,n?n.y:void 0,i?i.y:void 0)}function HM(t){return t.translate===0&&t.scale===1}function qF(t){return HM(t.x)&&HM(t.y)}function v4(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function zM(t){return Qr(t.x)/Qr(t.y)}class Gfe{constructor(){this.members=[]}add(e){n7(this.members,e),e.scheduleRender()}remove(e){if(i7(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VM(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const Qfe=(t,e)=>t.depth-e.depth;class Hfe{constructor(){this.children=[],this.isDirty=!1}add(e){n7(this.children,e),this.isDirty=!0}remove(e){i7(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qfe),this.isDirty=!1,this.children.forEach(e)}}function zfe(t){window.MotionDebug&&window.MotionDebug.record(t)}const WM=["","X","Y","Z"],JM=1e3;let Vfe=0;const bc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ZF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=Vfe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{bc.totalNodes=bc.resolvedTargetDeltas=bc.recalculatedProjection=0,this.nodes.forEach(jfe),this.nodes.forEach(qfe),this.nodes.forEach(Zfe),this.nodes.forEach(Kfe),zfe(bc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hfe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new r7),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=OF(p,250),op.hasAnimatedSinceResize&&(op.hasAnimatedSinceResize=!1,this.nodes.forEach(KM))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||ide,{onLayoutAnimationStart:v,onLayoutAnimationComplete:C}=u.getProps(),y=!this.targetLayout||!v4(this.targetLayout,A)||m,x=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const S={...UF(g,"layout"),onPlay:v,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!p&&this.animationProgress===0&&KM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($fe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jM);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(rde),this.potentialNodes.clear()),this.nodes.forEach(Xfe),this.nodes.forEach(Wfe),this.nodes.forEach(Jfe),this.clearAllSnapshots(),k6.update(),k6.preRender(),k6.render())}clearAllSnapshots(){this.nodes.forEach(Yfe),this.sharedNodes.forEach(ede)}scheduleUpdateProjection(){tr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!qF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Bc(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),sde(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Xn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(rl(a.x,l.offset.x),rl(a.y,l.offset.y)),a}removeElementScroll(o){const a=Xn();os(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){os(a,o);const{scroll:p}=this.root;p&&(rl(a.x,-p.offset.x),rl(a.y,-p.offset.y))}rl(a.x,u.offset.x),rl(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Xn();os(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_h(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Bc(u.latestValues)&&_h(l,u.latestValues)}return Bc(this.latestValues)&&_h(l,this.latestValues),l}removeTransform(o){const a=Xn();os(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Bc(c.latestValues))continue;m4(c.latestValues)&&c.updateSnapshot();const u=Xn(),d=c.measurePageBox();os(u,d),QM(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Bc(this.latestValues)&&QM(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=Xn(),this.relativeTargetOrigin=Xn(),up(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xn(),this.targetWithTransforms=Xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?lfe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):os(this.target,this.layout.layoutBox),WF(this.target,this.targetDelta)):os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&Boolean(p.resumingFrom)===Boolean(this.resumingFrom)&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=Xn(),this.relativeTargetOrigin=Xn(),up(this.relativeTargetOrigin,this.target,p.target),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||m4(this.parent.latestValues)||VF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;os(this.layoutCorrected,this.layout.layoutBox),gfe(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=hp(),this.projectionDeltaWithTransform=hp());const m=this.treeScale.x,A=this.treeScale.y,g=this.projectionTransform;cp(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=VM(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==m||this.treeScale.y!==A)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),bc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=hp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Xn(),m=l?l.source:void 0,A=this.layout?this.layout.source:void 0,g=m!==A,v=this.getStack(),C=!v||v.members.length<=1,y=Boolean(g&&!C&&this.options.crossfade===!0&&!this.path.some(nde));this.animationProgress=0;let x;this.mixTargetDelta=S=>{const I=S/1e3;YM(d.x,o.x,I),YM(d.y,o.y,I),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(up(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tde(this.relativeTarget,this.relativeTargetOrigin,p,I),x&&v4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Xn()),os(x,this.relativeTarget)),g&&(this.animationValues=u,Lfe(u,c,this.latestValues,I,y,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{op.hasAnimatedSinceResize=!0,this.currentAnimation=Pfe(0,JM,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&$F(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Xn();const d=Qr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Qr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}os(a,l),_h(a,u),cp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Gfe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<WM.length;u++){const d="rotate"+WM[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ig(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ig(o.pointerEvents)||""),this.hasProjected&&!Bc(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=VM(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y:A}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${A.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in n2){if(p[g]===void 0)continue;const{correct:v,applyTo:C}=n2[g],y=c.transform==="none"?p[g]:v(p[g],d);if(C){const x=C.length;for(let S=0;S<x;S++)c[C[S]]=y}else c[g]=y}return this.options.layoutId&&(c.pointerEvents=d===this?ig(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(jM),this.root.sharedNodes.clear()}}}function Wfe(t){t.updateLayout()}function Jfe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Ao(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=Qr(p);p.min=i[d].min,p.max=p.min+m}):$F(s,n.layoutBox,i)&&Ao(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=Qr(i[d]);p.max=p.min+m});const a=hp();cp(a,i,n.layoutBox);const l=hp();o?cp(l,t.applyTransform(r,!0),n.measuredBox):cp(l,i,n.layoutBox);const c=!qF(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const A=Xn();up(A,n.layoutBox,p.layoutBox);const g=Xn();up(g,i,m.layoutBox),v4(A,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=A,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function jfe(t){bc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kfe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Yfe(t){t.clearSnapshot()}function jM(t){t.clearMeasurements()}function Xfe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function KM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function qfe(t){t.resolveTargetDelta()}function Zfe(t){t.calcProjection()}function $fe(t){t.resetRotation()}function ede(t){t.removeLeadSnapshot()}function YM(t,e,n){t.translate=Bn(e.translate,0,n),t.scale=Bn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function XM(t,e,n,i){t.min=Bn(e.min,n.min,i),t.max=Bn(e.max,n.max,i)}function tde(t,e,n,i){XM(t.x,e.x,n.x,i),XM(t.y,e.y,n.y,i)}function nde(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ide={duration:.45,ease:[.4,0,.1,1]};function rde(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(Boolean(t.path[s].instance)){n=t.path[s];break}const r=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&t.mount(r,!0)}function qM(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function sde(t){qM(t.x),qM(t.y)}function $F(t,e,n){return t==="position"||t==="preserve-aspect"&&!d4(zM(e),zM(n),.2)}const ode=ZF({attachResizeListener:(t,e)=>da(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),W6={current:void 0},ek=ZF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!W6.current){const t=new ode(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),W6.current=t}return W6.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),ade={pan:{Feature:Ife},drag:{Feature:wfe,ProjectionNode:ek,MeasureLayout:KF}},lde=new Set(["width","height","top","left","right","bottom","x","y"]),tk=t=>lde.has(t),cde=t=>Object.keys(t).some(tk),ZM=t=>t===Su||t===pt,$M=(t,e)=>parseFloat(t.split(", ")[e]),eT=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return $M(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?$M(s[1],t):0}},ude=new Set(["x","y","z"]),hde=b1.filter(t=>!ude.has(t));function fde(t){const e=[];return hde.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const tT={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:eT(4,13),y:eT(5,14)},dde=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=tT[c](i,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=tT[c](l,s)}),t},pde=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(tk);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=Td(u);const p=e[l];let m;if(r2(p)){const A=p.length,g=p[0]===null?1:0;u=p[g],d=Td(u);for(let v=g;v<A;v++)m?a2(Td(p[v])===m):m=Td(p[v])}else m=Td(p);if(d!==m)if(ZM(d)&&ZM(m)){const A=c.get();typeof A=="string"&&c.set(parseFloat(A)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===pt&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(u===0||p===0)?u===0?c.set(m.transform(u)):e[l]=d.transform(p):(o||(s=fde(t),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=dde(e,t,a);return s.length&&s.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),M1&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function mde(t,e,n,i){return cde(e)?pde(t,e,n,i):{target:e,transitionEnd:i}}const Ade=(t,e,n,i)=>{const r=Tfe(t,e,i);return e=r.target,i=r.transitionEnd,mde(t,e,n,i)},y4={current:null},nk={current:!1};function gde(){if(nk.current=!0,!!M1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>y4.current=t.matches;t.addListener(e),e()}else y4.current=!1}function vde(t,e,n){const{willChange:i}=e;for(const r in e){const s=e[r],o=n[r];if(yr(s))t.addValue(r,s),o2(i)&&i.add(r);else if(yr(o))t.addValue(r,ff(s,{owner:t})),o2(i)&&i.remove(r);else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,ff(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ik=Object.keys(a0),yde=ik.length,nT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],xde=j9.length;class Cde{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tr.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=B1(n),this.isVariantNode=jL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const p=u[d];a[d]!==void 0&&yr(p)&&(p.set(a[d],!1),o2(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),nk.current||gde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nl.update(this.notifyUpdate),Nl.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=Eu.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&tr.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,s,o){let a,l;for(let c=0;c<yde;c++){const u=ik[c],{isEnabled:d,Feature:p,ProjectionNode:m,MeasureLayout:A}=a0[u];m&&(a=m),d(n)&&(!this.features[u]&&p&&(this.features[u]=new p(this)),A&&(l=A))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:A}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:Boolean(d)||p&&wh(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:A})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<nT.length;i++){const r=nT[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=vde(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<xde;i++){const r=j9[i],s=this.props[r];(o0(s)||s===!1)&&(n[r]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ff(n,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=t7(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!yr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new r7),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rk extends Cde{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},s){let o=Vue(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),o&&(o=r(o))),s){Hue(this,i,o);const a=Ade(this,i,o,n);n=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:n,...i}}}function Ede(t){return window.getComputedStyle(t)}class Sde extends rk{readValueFromInstance(e,n){if(Eu.has(n)){const i=a7(n);return i&&i.default||0}else{const i=Ede(e),r=($L(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JF(e,n)}build(e,n,i,r){Y9(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return e7(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){rF(e,n,i,r)}}class wde extends rk{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Eu.has(n)){const i=a7(n);return i&&i.default||0}return n=sF.has(n)?n:$9(n),e.getAttribute(n)}measureInstanceViewportBox(){return Xn()}scrapeMotionValuesFromProps(e,n){return aF(e,n)}build(e,n,i,r){q9(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){oF(e,n,i,r)}mount(e){this.isSVGTag=Z9(e.tagName),super.mount(e)}}const Ide=(t,e)=>K9(t)?new wde(e,{enableHardwareAcceleration:!1}):new Sde(e,{enableHardwareAcceleration:!0}),_de={layout:{ProjectionNode:ek,MeasureLayout:KF}},Mde={...rfe,...Aue,...ade,..._de},Hr=Bce((t,e)=>iue(t,e,Mde,Ide)),_i={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},Tde=()=>ft("section",{className:"relative w-full h-screen mx-auto",children:[ft("div",{className:`absolute inset-0 top-[120px]  max-w-7xl mx-auto ${_i.paddingX} flex flex-row items-start gap-5`,children:[ft("div",{className:"flex flex-col justify-center items-center mt-5",children:[ye("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),ye("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),ft("div",{children:[ft("h1",{className:`${_i.heroHeadText} text-white`,children:["Hi, I'm ",ye("span",{className:"text-[#915EFF]",children:"Sync"})]}),ft("p",{className:`${_i.heroSubText} mt-2 text-white-100`,children:["I develop plugins for minecraft server ",ye("br",{className:"sm:block hidden"}),"and web applications"]})]})]}),ye(lce,{}),ye("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:ye("a",{href:"#about",children:ye("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:ye(Hr.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),Bde="/assets/favicon-f77b904f.ico",bde="/assets/backend-565fc01f.png",Rde="/assets/creator-dbbffaec.png",Pde="/assets/mobile-896ef2f5.png",Dde="/assets/web-0d05165f.png",Lde="/assets/github-3b4e1609.png",Fde="/assets/menu-b5599218.svg",kde="/assets/close-54702a70.svg",Nde="/assets/css-79a7f026.png",Ode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",Ude="/assets/html-92b76a73.png",Gde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",Qde="/assets/mongodb-54000b2b.png",Hde="/assets/nodejs-d83eb6dd.png",zde="/assets/reactjs-966214a8.png",Vde="/assets/tailwind-6ece120d.png",Wde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANMUlEQVR4nO2d+48V9RXAv//Gtw/balttayOpjVZr06TPqLRJ09Q+09Yaa01sapNWKqiAqCiU+MJXfSGC+ADxQa1AK0WMogJW2L3syrIvdpcL+95ln7B7mu8Y7GaD9N7ZmXvuzPl8kvOLMXsvZ87nnLkz852vcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsfDX7BaCHOSlBpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPAIjMI2ARuCZwBQBjSDbNeCsoZ1wghx4BEZgGgGNwDOBKQIaQbZrwFlDO+EEOfAIjMA0AhqBZwJTBDSCbNeAs4Z2wgly4BEYgWkENALPBKYIaATZrgFnDe2EE+TAIzAC0whoBJ4JTBHQCLJdA84a2gknyIFHYASmEdAIPBOYIqARZLsGnDW0E06QA4/ACEwjoBF4JjBFQCPIdg04a2gnnCAHHoERmEZAI/BMYIqARpDtGnDW0E44QQ48AiMwjYBG4JnAFAGNINs14KyhnXCCHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMALTCGgEnglMEdAIsl0DzhraCSfIgUdgBKYR0Ag8E5gioBFkuwacNbQTTpADj8AITCOgEXgmMEVAI8h2DThraCecIAcegRGYRkAj8ExgioBGkO0acNbQTjhBDjwCIzCNgEbgmcAUAY0g2zXgrKGdcIIceARGYBoBjcAzgSkCGkG2a8BZQzvhBDnwCIzANAIagWcCUwQ0gmzXgLOGdsIJcuARGIFpBDQCzwSmCGgE2a4BZw3thBPkwCMwAtMIaASeCUwR0AiyXQPOGtoJJ8iBR2AEphHQCDwTmCKgEWS7Bpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPALnW+Dm7jEBkYUbOiqW81mLCvKjBxrl6qcPyF83FeXJt3tk275BebdtWJq6xqJj0jt0TPqG34+uI0ej/7bv8Gj0/2ypH5BndvbKfVs7ZcGLHXLlE61y0d0N8vkFtUzgJNGWE4GrQ+ALltbL3Ofa5eXafin2j6faL/uGj8nOliFZub1b5jzbJrOXN8ip82oS+Xc4a2jLicB6Ap97a100XeuLo6LNsYnJaHqv3dUrf17XJucsrkNgBM4XSQl88fIG+fue/kiaamXVm90IjMD5YqYCn3dbnWzY3SeT1evtBzz0WhcCI3C+iCvwR+bsjk5Lh8YmJCvc9cphBEbgfBFH4NOuq4kuTGWNpZuKCIzAtgU+a1FB9rQPSxa5MebZhrOG9hXmUoL7wOULfPoNtZmVN3Dt+nYERmCbAn/8L3vk9f1HJMtc/fQBBEZgmwIv23xIss4Vq1sQGIHtCXzhXfuq+v5uqfxqRTMCI7A9gbc1DEoeuOTBRgRGYFsC/+zhJskL37unAYER2JbAm/cOVOy7tHSPyT9q+qNHHu/d2im3bSxGz1U/uK0zWoUUvktrT/xVZN++Yx8CI7Adgc++ZW+qv33D395U6JdLH2uWMxcWSpbrjPm10bLEIPiOliEp9SuG1VHcB87JfeCfPNQol61sTiX+8NSBxIo8rKZJ63uGCM8yf1iOwprbtAjPT4cGkcSxPHNhQf74zAF5s+nkt7m+HPPznDW05dSOLywsJFbobzUNqf070jh9Hj82Kb9/sjW173zB0nr527ZOOXKCZ7TDcYnzN501tAXSjjwIHB7cGBxNdqFCONX93er05PXTTrPDKXb/8LEPPj/uAn9nDW2BtCMPAn9tab0kzYo34i3n8zMUOVwQC5P/o3Pi/Q1nDW2BtCMPAoeHHpIknNKWc6HKJxxxL2CFcNbQFkg78iBwuDqdJC/u7lM/Lj5mOGtoJ1w78iDwPf8+LEnyp7Vt6sfFxwxnDe2Ea0ceBH709S5JknDbTvu4+JjhrKGdcO3Ig8BP7eiRJJkd8zFGXwXhrKGdcO3Ig8DPvtMrSfLrmCuBfBWEs4Z2wrUjDwKvfrNbkiQ8XKF9XHzMcNbQTrh25EHgIFzSOyeEV/JoHxsfI5w1tBOuHXkQOOnbSIGwF5L2sfExwllDO+HakQeBw0KHNAgbk2kfH19mOGtoJ1w78iBwWKWUFkHi8Ky19nHyJYazhnbCtSMPAoc4NHBU0mJX69BJlzL6KgpnDe2Ea0deBF6f8K2k6QyMTERrjk+5trqnsbOGdsK1Iy8Cp/U7eDphc+/wWWG/Je1j5xEYgfMi8Kfm1UjP0P/W06bN7rbhaBVUtYnsrKGdcO3Ii8Ah7t6S7KKGUgjbt1y2sjn2+l0ERmAEnrKZ2YleT1MJ6oujctWaVvUr1s4a2h1TO/I0gUOEV7tq0tw9Fu1FrHWxy1lDu+C0I28Cf3LunujtmNp09I3L9S90yCfmVlZkZw3tgtOOvAkc4uLlDdF7paqBtt7xaKfBj1Xo1NpZQ7vYtCOPAoeY+1y7VBP1xVH56UNNCIzACFyqxPe/muwqpSR4/t0+mXVTMi+JP1E4a2hPCu3I6wQ+HmGvompjYGRC5jybznu3nDW0C0w78i5weNDikYTfmZXk2y9PT3jdsbOGdoFpR94FnrpmuBo3/m7qGpPv3BlvJ0IERmAzAof4wX37pXMwvVVLcRken4i9off0cNbQLirtsCRwiHMW18n2xpPvDKjByPiE/PzhmV+ldtbQLijtsCZwiPDc8rzn22VI6bHLDyPcu/7lozOT2FlDu5i0w6LAx+PcW+vklbrktyWdCeFZ7m/e/h4CIzAClypy+P1ZODgi1UJz95h85nq2F2UCM4FLljisIpq7vj3VV/OUw+Pbu2NNYWcN7dM47bB8Cn2iCIsPwmqiorLIE5MiF91d/hYvzhraBaMdCHzivJx2XY3c/NLBir7lYzqvNRxBYARG4Jk0uPBbdMnGovQP64h84V3lPeThrKE9AbWDCVxank6fXyu3//OQDI5W9tbTk2XuEOGsoS2QdiBw+fkKq5wqtd64f/hYWS8FcNbQFkg7EDhe3r66pF42FSpzD/mSMh6zdNbQFkg7EHhm+fvNymbpPpLuFetlmw8hMAIjcFpNcNaigrz63mBqAoenxZjATGAmcIpnMqdcu0c27O5LReDGzlEERmAErsTTXBtr+xMXOFwwK3UHCGcN7d+g2sFv4GTz+bkFtan8Jj51XmnPRjtraAukHQicfE6XbT6UuMBfvLGAwAiMwJV6L3XShEbLBGYCM4ErIPCXbt6buMBh90UERmAEroDA5y+pT1Te8DK+Uj/bWaMSB7SaIw+/gc+7rS5662Slti/5fzH7nobEH6cs9bOdNbQPtnbkQeCvL3t/4r3dPDSj19EkFQs3dEiS1HaMlPzZzhraB1s78iTw8dPN8CL3M0u86JNGvHNgWJIkPCBS6mc7a2gLpB15E3jqy+Hu/Neh6L5sJb/LLx5pkqRZvuVwyZ/vrKEtkHbkVeCp+xA98GpndGEp7e9x1qKCtPeOS9L8dlULAiOwTYGnvmMqLAq49LHmkm/JlBPnL6lPZWPxycnSH+II4ayhUXDVFFYEnn56Hbb5vGJVi3z6uppE3p01mNKbOuqKpV/AQuAqEAqB0xd4KuGiV6FjRNa81RNt+fndO/eddMfAcKsqbM9y5ROt0etuwil6moTX+CAwE5gJXCZh25XwgvW9B0fk3bbhaBK29oxV7FU6x0+fwz1uBEZgBM4gbzTyWll+A/MbOLNcEmPLUWcN7d+g2mHxIlZep69HYH2hEBiBx45OyjdiPhLqrKEtkHYwgauPhRs6Yh9PZw1tgbQDgauLTYX+aANyBEZgBM4YO1uGogdDZtKQnTW0J6B2MIGrg+2NR+SM+TNfeOGsoS2QdiCwPuvf6S1r/yMERmAErgIGRiaizcSTbMjOGtoTUDvyMIG/cmtd9OhjVpiYFFm7q1fOvmVv4rlw1tAWSDvyIHCIcAr64wcb5d6tnbKjZaiizyyXSvhOz/+nT751R3qv/XHW0BZIO/Ii8PQIOxn88P79smRjUbbUD1R8Y+6p1LSPyOKXizLrpuQnLgJXQbEhcPo5CPdWw6L7yx9viXZOeGlPv9QXR2X06GTiK4hausdk3a5euWZdW9mriRCYCVxWEeR1Ape7Pej3722Qq9a0yvwXO6I1uCve6IpOd7e+NxhtHTo9Nu8diNYDh/duXf9CR7Q+ePbyBvnsDcm/7aOccNbQLh6CHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4bf4LtvMh68AvCz8AAAAASUVORK5CYII=",Jde="/assets/threejs-fe160e71.svg",jde="/assets/meta-5294c179.png",Kde="/assets/shopify-4805794e.png",Yde="/assets/starbucks-c9bc4136.png",Xde="/assets/tesla-27c28e2c.png",qde="/assets/carrent-a709cc0b.png",Zde="/assets/jobit-7eba00e5.png",$de="/assets/tripguide-8b4265e4.png",iT=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],epe=[{title:"Web Developer",icon:Dde},{title:"React Native Developer",icon:Pde},{title:"Backend Developer",icon:bde},{title:"Content Creator",icon:Rde}],tpe=[{name:"HTML 5",icon:Ude},{name:"CSS 3",icon:Nde},{name:"JavaScript",icon:Gde},{name:"TypeScript",icon:Wde},{name:"React JS",icon:zde},{name:"Tailwind CSS",icon:Vde},{name:"Node JS",icon:Hde},{name:"MongoDB",icon:Qde},{name:"Three JS",icon:Jde},{name:"git",icon:Ode}],npe=[{title:"More Coming Soon!",company_name:"Soon",icon:Yde,iconBg:"#383E56",date:"No Available",points:["Coming Soon"]},{title:"Front End Developer",company_name:"MineFun",icon:Xde,iconBg:"#383E56",date:"July 2023",points:["Making Custom Plugins","Making Custom Plugins Configurations","Making Custom Skripts","Making Custom Disocrd Bots"]},{title:"Full Stack Developer",company_name:"MineQuest",icon:Kde,iconBg:"#383E56",date:"July 2023 - Present",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Making Custom plugins for this server to make a better player experience","Providing helpful information to developers who need help in plugin development or configuration help."]},{title:"Config/Plugin Developer",company_name:"WitherMC",icon:jde,iconBg:"#383E56",date:"August 2023 - Present",points:["Developing Minecraft plugins for this server","Developing Discord Bots for this server","Developing Websites for this server","Developing Skripts for this server"]}],ipe=[{testimonial:"Sync an amazing developer who can make plugins, skript, make discord bots and plugin configurations, yall should definitely hire him for your mc server.",name:"o7Revan",designation:"CEO",company:"AwokenMC",image:"https://cdn.discordapp.com/attachments/1148288893960077482/1152010149289017354/0725870d67974af22985a38b75e3e56d.png"},{testimonial:"Sync is truly an amazing web developer I bought a website and a minecraft plugin and it works tremendously well",name:"Zayz",designation:"Friend",company:"Sync",image:"https://cdn.discordapp.com/attachments/1148427576843436164/1152012075237908620/LXMtcGZwLnBuZw.png"},{testimonial:"Overall Sync is an amazing guy. He likes to have a laugh and is dedicated to his work. If your looking for an amazing developer with a lot of choices Sync is your guy!",name:"Jaylol",designation:"CEO",company:"MineFun",image:"https://cdn.discordapp.com/attachments/1148306082721185833/1152681295776862218/88954A2B-2D6B-4BF6-83A5-5F6646EB2596.png"}],rpe=[{name:"Flip a Coin",description:"The Coin Flip game was developed using a combination of web technologies. The game is implemented with HTML for the structure, CSS for styling, and JavaScript for interactive functionality. Players can test their luck by flipping a virtual coin and experiencing the excitement of chance.",tags:[{name:"CSS",color:"blue-text-gradient"},{name:"HTML",color:"green-text-gradient"},{name:"JavaScript",color:"pink-text-gradient"}],image:qde,source_code_link:"https://github.com/cdnSync/Flip-a-coin"},{name:"Pixel Art Gen",description:"Pixel Art Generator was developed with a blend of fundamental web technologies, including HTML, CSS, and JavaScript. The Pixel Art Generator allows users to unleash their creativity by designing pixelated images and patterns with a simple and intuitive interface.",tags:[{name:"CSS",color:"blue-text-gradient"},{name:"HTML",color:"green-text-gradient"},{name:"JavaScript",color:"pink-text-gradient"}],image:Zde,source_code_link:"https://github.com/cdnSync/Pixelart-Generator"},{name:"Ecomony Master",description:"Economy Master Bot is a versatile and feature-rich Discord bot powered by JavaScript, designed to bring economic fun and engagement to your Discord server. Whether you're running a gaming community, a fan server, or just want to add a touch of entertainment to your server, EconomyMaster Bot has got you covered.",tags:[{name:"JavaScript",color:"blue-text-gradient"}],image:$de,source_code_link:"https://github.com/cdnSync/Economy-Bot"}],spe=()=>{const[t,e]=z.useState(""),[n,i]=z.useState(!1),[r,s]=z.useState(!1);return z.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),ye("nav",{className:`${_i.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${r?"bg-primary":"bg-transparent"}`,children:ft("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[ft(oG,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[ye("img",{src:Bde,alt:"logo",className:"w-9 h-9 object-contain"}),ft("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:["Sync  ",ye("span",{className:"sm:block hidden",children:" | Developer"})]})]}),ye("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:iT.map(o=>ye("li",{className:`${t===o.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(o.title),children:ye("a",{href:`#${o.id}`,children:o.title})},o.id))}),ft("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[ye("img",{src:n?kde:Fde,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>i(!n)}),ye("div",{className:`${n?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:ye("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:iT.map(o=>ye("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${t===o.title?"text-white":"text-secondary"}`,onClick:()=>{i(!n),e(o.title)},children:ye("a",{href:`#${o.id}`,children:o.title})},o.id))})})]})]})})};var sk={};Object.defineProperty(sk,"__esModule",{value:!0});var bd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ope=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ok=z,ape=cpe(ok),lpe=sg;function cpe(t){return t&&t.__esModule?t:{default:t}}function upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hpe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dpe=function(t){fpe(e,t);function e(n){upe(this,e);var i=hpe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));i.state={style:{}};var r={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};return i.width=null,i.height=null,i.left=null,i.top=null,i.transitionTimeout=null,i.updateCall=null,i.element=null,i.settings=Object.assign({},r,i.props.options),i.reverse=i.settings.reverse?-1:1,i.onMouseEnter=i.onMouseEnter.bind(i,i.props.onMouseEnter),i.onMouseMove=i.onMouseMove.bind(i,i.props.onMouseMove),i.onMouseLeave=i.onMouseLeave.bind(i,i.props.onMouseLeave),i}return ope(e,[{key:"componentDidMount",value:function(){this.element=(0,lpe.findDOMNode)(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:bd({},this.state.style,{willChange:"transform"})})),this.setTransition(),i(r)}},{key:"reset",value:function(){var i=this;window.requestAnimationFrame(function(){i.setState(Object.assign({},i.state,{style:bd({},i.state.style,{transform:"perspective("+i.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}))})}},{key:"onMouseMove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return r.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=r,this.updateCall=requestAnimationFrame(this.update.bind(this,r)),i(r)}},{key:"setTransition",value:function(){var i=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:bd({},this.state.style,{transition:this.settings.speed+"ms "+this.settings.easing})})),this.transitionTimeout=setTimeout(function(){i.setState(Object.assign({},i.state,{style:bd({},i.state.style,{transition:""})}))},this.settings.speed)}},{key:"onMouseLeave",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.setTransition(),this.settings.reset&&this.reset(),i(r)}},{key:"getValues",value:function(i){var r=(i.nativeEvent.clientX-this.left)/this.width,s=(i.nativeEvent.clientY-this.top)/this.height,o=Math.min(Math.max(r,0),1),a=Math.min(Math.max(s,0),1),l=(this.reverse*(this.settings.max/2-o*this.settings.max)).toFixed(2),c=(this.reverse*(a*this.settings.max-this.settings.max/2)).toFixed(2),u=o*100,d=a*100;return{tiltX:l,tiltY:c,percentageX:u,percentageY:d}}},{key:"updateElementPosition",value:function(){var i=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=i.left,this.top=i.top}},{key:"update",value:function(i){var r=this.getValues(i);this.setState(Object.assign({},this.state,{style:bd({},this.state.style,{transform:"perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:r.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:r.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")"})})),this.updateCall=null}},{key:"render",value:function(){var i=Object.assign({},this.props.style,this.state.style);return ape.default.createElement("div",{style:i,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},this.props.children)}}]),e}(ok.Component),ak=sk.default=dpe;const L1=t=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:t}}}),a3=(t,e,n,i)=>({hidden:{x:t==="left"?100:t==="right"?-100:0,y:t==="up"?100:t==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:n,duration:i,ease:"easeOut"}}}),rT=(t,e,n,i)=>({hidden:{x:t==="left"?"-100%":t==="right"?"100%":0,y:t==="up"||t==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:n,duration:i,ease:"easeOut"}}}),ppe=(t,e)=>({hidden:{},show:{transition:{staggerChildren:t,delayChildren:e||0}}}),bf=(t,e)=>function(){return ft(Hr.section,{variants:ppe(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${_i.padding} max-w-7xl mx-auto relative z-0`,children:[ye("span",{className:"hash-span",id:e,children:" "}),ye(t,{})]})},mpe=({index:t,title:e,icon:n})=>ye(ak,{className:"xs:w-[250px] w-full",children:ye(Hr.div,{variants:a3("right","spring",t*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:ft("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[ye("img",{src:n,alt:"web-development",className:"w-16 h-16 object-contain"}),ye("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),Ape=()=>ft(M4,{children:[ft(Hr.div,{variants:L1(),children:[ye("p",{className:_i.sectionSubText,children:"Introduction"}),ye("h2",{className:_i.sectionHeadText,children:"Overview."})]}),ye(Hr.p,{variants:a3("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"I'm Sync an experienced developer who has a love for Coding, Discord and Minecraft. I have a good 4 years of practical experience, and my areas of expertise are effective Minecraft Skripts, immersive Minecraft Setups, Discord Bots to my clients desires, and amazing Minecraft Plugins. My experience with coding has taken me across a vast landscape of programming languages, allowing me to operate with a variety of tools with ease. I'm experienced in, Python: For efficient and advanced scripting, Building interactive and visually appealing websites with HTML, CSS, PHP, and JS, Java: For efficient and advanced scripting."}),ye("div",{className:"mt-20 flex flex-wrap gap-10",children:epe.map((t,e)=>ye(mpe,{index:e,...t},t.title))})]}),gpe=bf(Ape,"about"),vpe=()=>ye("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:tpe.map(t=>ye("div",{className:"w-28 h-28",children:ye(oce,{icon:t.icon})},t.name))}),ype=bf(vpe,"");var F1={},u2={},xpe={get exports(){return u2},set exports(t){u2=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(xpe);F1.__esModule=!0;F1.default=void 0;var Cpe=A7(z),qa=A7(t2),Epe=A7(u2);function A7(t){return t&&t.__esModule?t:{default:t}}const lk=({animate:t=!0,className:e="",layout:n="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),Cpe.default.createElement("div",{className:(0,Epe.default)(e,"vertical-timeline",{"vertical-timeline--animate":t,"vertical-timeline--two-columns":n==="2-columns","vertical-timeline--one-column-left":n==="1-column"||n==="1-column-left","vertical-timeline--one-column-right":n==="1-column-right"})},r));lk.propTypes={children:qa.default.oneOfType([qa.default.arrayOf(qa.default.node),qa.default.node]).isRequired,className:qa.default.string,animate:qa.default.bool,layout:qa.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:qa.default.string};var Spe=lk;F1.default=Spe;var k1={};function x4(){return x4=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},x4.apply(this,arguments)}function wpe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,C4(t,e)}function C4(t,e){return C4=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},C4(t,e)}function Ipe(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var E4=new Map,TA=new WeakMap,sT=0,ck=void 0;function _pe(t){ck=t}function Mpe(t){return t?(TA.has(t)||(sT+=1,TA.set(t,sT.toString())),TA.get(t)):"0"}function Tpe(t){return Object.keys(t).sort().filter(function(e){return t[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?Mpe(t.root):t[e])}).toString()}function Bpe(t){var e=Tpe(t),n=E4.get(e);if(!n){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(u){return a.intersectionRatio>=u});t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(u){u(c,a)})})},t);r=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:i},E4.set(e,n)}return n}function g7(t,e,n,i){if(n===void 0&&(n={}),i===void 0&&(i=ck),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=t.getBoundingClientRect();return e(i,{isIntersecting:i,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=Bpe(n),o=s.id,a=s.observer,l=s.elements,c=l.get(t)||[];return l.has(t)||l.set(t,c),c.push(e),a.observe(t),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(t),a.unobserve(t)),l.size===0&&(a.disconnect(),E4.delete(o))}}var bpe=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function oT(t){return typeof t.children!="function"}var h2=function(t){wpe(e,t);function e(i){var r;return r=t.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),oT(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var n=e.prototype;return n.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,u=r.fallbackInView;this._unobserveCb=g7(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},u)}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!oT(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,u=Ipe(a,bpe);return z.createElement(c||"div",x4({ref:this.handleNode},u),l)},e}(z.Component);h2.displayName="InView";h2.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function Rpe(t){var e=t===void 0?{}:t,n=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,u=e.fallbackInView,d=z.useRef(),p=z.useState({inView:!!c}),m=p[0],A=p[1],g=z.useCallback(function(C){d.current!==void 0&&(d.current(),d.current=void 0),!l&&C&&(d.current=g7(C,function(y,x){A({inView:y,entry:x}),x.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:n,trackVisibility:r,delay:i},u))},[Array.isArray(n)?n.toString():n,o,s,a,l,r,u,i]);z.useEffect(function(){!d.current&&m.entry&&!a&&!l&&A({inView:!!c})});var v=[g,m.inView,m.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}const Ppe=Object.freeze(Object.defineProperty({__proto__:null,InView:h2,default:h2,defaultFallbackInView:_pe,observe:g7,useInView:Rpe},Symbol.toStringTag,{value:"Module"})),Dpe=aN(Ppe);k1.__esModule=!0;k1.default=void 0;var Za=v7(z),En=v7(t2),BA=v7(u2),Lpe=Dpe;function v7(t){return t&&t.__esModule?t:{default:t}}const uk=({children:t="",className:e="",contentArrowStyle:n=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:u=null,id:d="",position:p="",style:m=null,textClassName:A="",intersectionObserverProps:g={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:v=!1})=>Za.default.createElement(Lpe.InView,g,({inView:C,ref:y})=>Za.default.createElement("div",{ref:y,id:d,className:(0,BA.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":t===""}),style:m},Za.default.createElement(Za.default.Fragment,null,Za.default.createElement("span",{style:u,onClick:l,className:(0,BA.default)(a,"vertical-timeline-element-icon",{"bounce-in":C||v,"is-hidden":!(C||v)})},o),Za.default.createElement("div",{style:i,onClick:c,className:(0,BA.default)(A,"vertical-timeline-element-content",{"bounce-in":C||v,"is-hidden":!(C||v)})},Za.default.createElement("div",{style:n,className:"vertical-timeline-element-content-arrow"}),t,Za.default.createElement("span",{className:(0,BA.default)(s,"vertical-timeline-element-date")},r)))));uk.propTypes={children:En.default.oneOfType([En.default.arrayOf(En.default.node),En.default.node]),className:En.default.string,contentArrowStyle:En.default.shape({}),contentStyle:En.default.shape({}),date:En.default.node,dateClassName:En.default.string,icon:En.default.element,iconClassName:En.default.string,iconStyle:En.default.shape({}),iconOnClick:En.default.func,onTimelineElementClick:En.default.func,id:En.default.string,position:En.default.string,style:En.default.shape({}),textClassName:En.default.string,visible:En.default.bool,intersectionObserverProps:En.default.shape({root:En.default.object,rootMargin:En.default.string,threshold:En.default.number,triggerOnce:En.default.bool})};var Fpe=uk;k1.default=Fpe;var hk={VerticalTimeline:F1.default,VerticalTimelineElement:k1.default};const kpe=({experience:t})=>ft(hk.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:t.date,iconStyle:{background:t.iconBg},icon:ye("div",{className:"flex justify-center items-center w-full h-full",children:ye("img",{src:t.icon,alt:t.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[ft("div",{children:[ye("h3",{className:"text-white text-[24px] font-bold",children:t.title}),ye("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:t.company_name})]}),ye("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:t.points.map((e,n)=>ye("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${n}`))})]}),Npe=()=>ft(M4,{children:[ft(Hr.div,{variants:L1(),children:[ye("p",{className:`${_i.sectionSubText} text-center`,children:"What I have done so far"}),ye("h2",{className:`${_i.sectionHeadText} text-center`,children:"Work Experience."})]}),ye("div",{className:"mt-20 flex flex-col",children:ye(hk.VerticalTimeline,{children:npe.map((t,e)=>ye(kpe,{experience:t},`experience-${e}`))})})]}),Ope=bf(Npe,"work"),Upe=({index:t,name:e,description:n,tags:i,image:r,source_code_link:s})=>ye(Hr.div,{variants:a3("up","spring",t*.5,.75),children:ft(ak,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[ft("div",{className:"relative w-full h-[230px]",children:[ye("img",{src:r,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),ye("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:ye("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:ye("img",{src:Lde,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),ft("div",{className:"mt-5",children:[ye("h3",{className:"text-white font-bold text-[24px]",children:e}),ye("p",{className:"mt-2 text-secondary text-[14px]",children:n})]}),ye("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(o=>ft("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},`${e}-${o.name}`))})]})}),Gpe=()=>ft(M4,{children:[ft(Hr.div,{variants:L1(),children:[ye("p",{className:`${_i.sectionSubText} `,children:"My work"}),ye("h2",{className:`${_i.sectionHeadText}`,children:"Projects."})]}),ye("div",{className:"w-full flex",children:ye(Hr.p,{variants:a3("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcases my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories. It reflects my ability to solve complex problems, work with different technologies, and manage projects effectively."})}),ye("div",{className:"mt-20 flex flex-wrap gap-7",children:rpe.map((t,e)=>ye(Upe,{index:e,...t},`project-${e}`))})]}),Qpe=bf(Gpe,""),Hpe=({index:t,testimonial:e,name:n,designation:i,company:r,image:s})=>ft(Hr.div,{variants:a3("","spring",t*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[ye("p",{className:"text-white font-black text-[48px]",children:'"'}),ft("div",{className:"mt-1",children:[ye("p",{className:"text-white tracking-wider text-[18px]",children:e}),ft("div",{className:"mt-7 flex justify-between items-center gap-1",children:[ft("div",{className:"flex-1 flex flex-col",children:[ft("p",{className:"text-white font-medium text-[16px]",children:[ye("span",{className:"blue-text-gradient",children:"@"})," ",n]}),ft("p",{className:"mt-1 text-secondary text-[12px]",children:[i," of ",r]})]}),ye("img",{src:s,alt:`feedback_by-${n}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),zpe=()=>ft("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[ye("div",{className:`bg-tertiary rounded-2xl ${_i.padding} min-h-[300px]`,children:ft(Hr.div,{variants:L1(),children:[ye("p",{className:_i.sectionSubText,children:"What others say"}),ye("h2",{className:_i.sectionHeadText,children:"Testimonials."})]})}),ye("div",{className:`-mt-20 pb-14 ${_i.paddingX} flex flex-wrap gap-7`,children:ipe.map((t,e)=>ye(Hpe,{index:e,...t},t.name))})]}),Vpe=bf(zpe,""),h0={_origin:"https://api.emailjs.com"},Wpe=(t,e="https://api.emailjs.com")=>{h0._userID=t,h0._origin=e},fk=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class aT{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const dk=(t,e,n={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new aT(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new aT(o))}),s.open("POST",h0._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),Jpe=(t,e,n,i)=>{const r=i||h0._userID;return fk(r,t,e),dk("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},jpe=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Kpe=(t,e,n,i)=>{const r=i||h0._userID,s=jpe(n);fk(r,t,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",r),dk("/api/v1.0/email/send-form",o)},Ype={init:Wpe,send:Jpe,sendForm:Kpe},Xpe=()=>{const t=z.useRef(),[e,n]=z.useState({name:"",email:"",message:""}),[i,r]=z.useState(!1),s=a=>{const{target:l}=a,{name:c,value:u}=l;n({...e,[c]:u})},o=a=>{a.preventDefault(),r(!0),Ype.send("service_fozjky4","template_un9sqxf",{from_name:e.name,to_name:"Sync",from_email:e.email,to_email:"cdnsync@gmail.com",message:e.message},"CEQ3iLIa_HeCmgit6").then(()=>{r(!1),alert("Thank you. I will get back to you as soon as possible."),n({name:"",email:"",message:""})},l=>{r(!1),console.error(l),alert("Ahh, something went wrong. Please try again.")})};return ft("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[ft(Hr.div,{variants:rT("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[ye("p",{className:_i.sectionSubText,children:"Get in touch"}),ye("h3",{className:_i.sectionHeadText,children:"Contact."}),ft("form",{ref:t,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[ft("label",{className:"flex flex-col",children:[ye("span",{className:"text-white font-medium mb-4",children:"Your Name"}),ye("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your good name?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),ft("label",{className:"flex flex-col",children:[ye("span",{className:"text-white font-medium mb-4",children:"Your email"}),ye("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"What's your web address?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),ft("label",{className:"flex flex-col",children:[ye("span",{className:"text-white font-medium mb-4",children:"Your Message"}),ye("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"What you want to say?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),ye("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Sending...":"Send"})]})]}),ye(Hr.div,{variants:rT("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:ye(rce,{})})]})},qpe=bf(Xpe,"contact"),Zpe=()=>ye(iG,{children:ft("div",{className:"relative z-0 bg-primary",children:[ft("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[ye(spe,{}),ye(Tde,{})]}),ye(gpe,{}),ye(Ope,{}),ye(ype,{}),ye(Qpe,{}),ye(Vpe,{}),ft("div",{className:"relative z-0",children:[ye(qpe,{}),ye(gce,{})]})]})});J6.createRoot(document.getElementById("root")).render(ye(d2.StrictMode,{children:ye(Zpe,{})}))});export default $pe();
